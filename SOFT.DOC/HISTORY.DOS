M			     КРАТКАЯ ИСТОРИЯ DOS.
			   ═══════════════════
			       Д.Дементей.
		   ( По материалам иностранной прессы.)

	DOS появилась в 1980 году в  то  время,  когда	8-разрядные  машины
  вместе с операционными системами типа CP/M-80 составляли большинство мик-
  рокомпьютеров. Несколькими годами ранее фирма Intel разработала микропро-
  цессор 8086, первый из поколения 16-разрядных.
	К апрелю 1980  операционная  система  CP/M-86,	объявленная  фирмой
  Digital Research и предназначавшаяся для работы с процессором 8086,  была
  не готова.  Тем временем программист Тим Патерсон начал разработку  новой
  операционной системы, которая стала предком современной MS-DOS.
	В то время для операционной системы CP/M-80 было разработано  много
  программных средств.	Разработка нового программного обеспечения для опе-
  рационной системы,  работающей с процессором	8086,  требовала  громадных
  расходов и усилий.  Цель Патерсона состояла в том, чтобы сделать возможно
  легкой адаптацию разработанного для CP/M-80  программного  обеспечения  к
  новой операционной системе.  Он постарался включить функции и большинство
  структур данных CP/M-80, ликвидиpуя пpи этом слабые стороны этой операци-
  онной  системы.  В результате новая операционная система требовала лишь 6
  Кбайт памяти.  Преобразование программ из CP/M-80  не  тpебовало  больших
  усилий. Операционная система получила название 86-DOS.
	Тем временем компания IBM занималась разработкой 16-разрядного мик-
  рокомпьютера.  Microsoft  взялась  за разработку операционной системы для
  него.  Приобретя прототип нового компьютера у IBM, Microsoft купила права
  на  операционную систему,  разработанную Патерсоном,	и усовеpшенствовала
  ее. Хотя Патерсон и участвовал в проекте, строгие меры безопастности фир-
  мы IBM не дали ему возможность увидеть машину,  для которой он разработал
  операционную систему. Несмотря на это, в августе 1981 года работа над ней
  была завершена.  Новая операционная система для IBM PC была выпущена, по-
  лучив название MS-DOS.
	С тех  пор  DOS не раз подвергалась изменениям,  которые несомненно
  важны для каждого,  работающего с DOS.  Поэтому рассмотрим в	отдельности
  каждую  версию  DOS.	В  каждой части перечислены отличия новой версии от
  предыдущей.  Соответствующие объяснения по многим компонентам  DOS  дадут
  вам представление о сложности операционной системы.

	Версия 1.0.
  -----------------
	Эта версия  стала компромиссом для Microsoft.  Она очень напоминала
  CP/M-80,  что позволяло пеpенести существующие программы быстpо и  легко.
  Например,  что  имена файлов (8-символьное имя,  3-символьное расширение)
  соответствовали стандарту CP/M-80. Также обозначение дисковых накопителей
  и  внутренняя стpуктура имели много общего с пользовавшейся большим успе-
  хом 8-разрядной операционной системой.  Однако из-за большого  количества
  различных  улучшений и дополнений в аппаратных средствах,таких как опера-
  тивная память большего объема  или  более  быстрые  дисковые	накопители,
  Microsoft решила сделать DOS более аппаратно независимой системой, удалив
  взаимосвязь между физической и логической длиной файла.

				2

	В CP/M-80  каждый диск был поделен на 128-байтные блоки - минималь-
  ные участки дисковой памяти,	к котоpым можно было  оpганизовать  доступ.
  Обратиться к отдельным байтам на диске было невозможно,  и это что созда-
  вало определенные проблемы при программировании.  DOS разрешила эту проб-
  лему,  формируя  логическую  и физическую длину данных независимо друг от
  друга.  Кроме того,  были pазpаботаны функции,  допускавшие чтение/запись
  более чем одного набора данных из файла на диске. Обращение к устройствам
  ввода/вывода файлам выполняется аппаратно-независимо - так же,  как  и  к
  файлам. Таким устройствам были присвоены собственные уникальные имена :
     CON - клавиатура или дисплей,
     PRN - принтер,
     AUX - последовательный интерфейс.
	Если вы  используете  одно  из	этих трех имен вместо имени файла,
  компьютер передаст информацию соответствующему  устройству.  Допускается
  также  переназначение  ввода/вывода для клавиатуры или экрана в файл или
  другое устройство.
	До этого времени DOS поддерживала программные файлы, которые загру-
  жались и выполнялись из фиксированного места в памяти. Вскоpе стало ясно,
  что это недостаток, поэтому версия 1.0 представила новый тип программного
  файла.  Этот новый тип файла имел  расширение.EXE  вместо  .COM.  Файл  с
  расширением .EXE мог быть сохранен и выполнен почти в любом месте памяти.
	Два изменения были сделаны для командного процессора,  части опера-
  ционной  системы,  которая  принимает команды от пользователя и управляет
  выполнением этих команд. Первым изменением явилось запоминание командного
  процессора в отдельном файле,  названном COMMAND.COM. Это позволило прог-
  раммистам развивать настраиваемый командный процессор и  включать  его  в
  систему.
	Вторым изменением было разделение командного  процессора  на  рези-
  дентную  и  нерезидентную части.  Это оказалось полезным,  так как первые
  компьютеры обладали малым объемом памяти. Резидентная часть была написана
  как можно меньшей.  Многие команды DOS запоминались на диске, загружались
  и выполнялись,  когда это требовалось, поэтому назывались нерезидентными.
  Примерами нерезидентных команд являются DISKCOPY и FORMAT.
	Основным новшеством, которое отличало MS-DOS Версии 1.0 от CP/M-80,
  стала  таблица  размещения файлов (FAT).  Каждый вход в эту таблицу соот-
  ветствует области данных объемом 512 байт (названной	сектором),  находя-
  щейся на диске,  и содеpжит инфоpмацию о том, свободен сектоp или пpинад-
  лежит какому-нибудь файлу.
	FAT-таблица имеет  особое значение для обращения к элементу катало-
  га,  который существует для каждого файла. Кроме имени файла и другой ин-
  формации  этот элемент содеpжит номер входа в FAT,  указывающий на первый
  сектор файла на диске.  Этот FAT-вход указывает на другой вход в FAT, ко-
  торый содержит информацию о следующем секторе,  в котором расположен дан-
  ный файл. Другие входы в FAT выполняют ту же задачу.
	В заключение хотелось бы рассмотреть еще два дополнительных усовер-
  шенствования, которые облегчают работу пользователя с компьютером.
	Введение пакетной  обработки  предлагает  пользователю средство для
  размещения нескольких команд DOS в одном файле.  Когда вы запускаете этот
  файл	на  выполнение	(он  имеет файловое расширение .BAT), DOS выполняет
  последовательно команды из файла, как будто вы вводили эти команды с кла-
  виатуры,  тем  самым сохраняя пользователю время для быстрого ввода групп
  команд.
	Каждому файлу  соответствуют текущие дата и время.  DOS хpанит эту
  инфоpмацию,  тем самым помогая пользователю  определить  вpемя  внесения
  последних изменений в файл.
	Когда IBM  в  1982  году представила новый персональный компьютер,
  который для  хранения   данных использовал  обе  стороны  диска ,  фирма
  Microsoft выпустила операционную систему DOS версии 1.1.

				3

	Версия 2.0.
  -----------------
	В марте 1983 года IBM объявила о новом персональном  компьютере  ,
  получившем  название PC XT,  который в дополнение к накопителю на гибких
  магнитных дисках имел и НЖМД.  Большая емкость  (10  мегабайт)  жесткого
  диска  позволила пользователю запоминать несколько сотен файлов на одном
  устройстве, но  вместе с тем	поpодила некоторые проблемы для операцион-
  ной  системы.  Самой	большой  проблемой стала способность DOS управлять
  только одним каталогом для ка дого блока памяти.  Было почти	невозможно
  для пользователя жесткого диска сохранять сотни файлов в одном каталоге.
  Фирма Microsoft имела два способа для решения этой  проблемы.Можно  было
  заимствовать идею из операционной системы CP/M-80 или из ОС UNIX.
	CP/M рассматривает  жесткий диск как несколько дисководов,  которые
  разделяют общее пространство всей памяти жесткого диска,  и каждый  имеет
  только один каталог.
	UNIX использует иерархическую файловую систему,  в  которой  каждый
  блок памяти имеет корневой каталог,  который может содержать как подкато-
  логи, так и файлы. Каждый из этих подкаталогов может иметь в свою очередь
  подкаталоги внутри себя.  Это создает дерево каталогов,  стволом которого
  является корневой каталог, а ветви представлены отдельными подкатологами.
	Фирма Microsoft  выбрала иерархичускую файловую систему,  которая с
  этого времени стала распространенным компонентом DOS.  Это было следующим
  шагом  отказа  от CP/M-80 и перехода к эффективной 16-ти битовой операци-
  монной системе.  С вводом иерархической  файловой  организации  несколько
  основных  изменений должны были быть сделаны в области управления файлами
  операционной системой DOS.  До этого времени доступ к файлу осуществлялся
  посредством блока управления файлом (FCB).  Этот блок был введен для сов-
  местимости с CP/M-80.  FCB содержал важную информацию об имени, размере и
  размещении  файла  на  диске.  CP/M-80 не позволяла осуществлять доступ к
  файлу в другом каталоге.
	Разработчики DOS стандартизировали доступ к файлу посредством функ-
  ций DOS.  Доступ к файлу осуществлялся исключительно через описатели фай-
  лов (file handles). Описатель файла - это численное значение, которое пе-
  редается программе сразу же после открытия ею файла  посредством  функций
  DOS. Блоки FCB не были исключены, но программисты избавились от необходи-
  мости pаботать с ними с того момента, как DOS взяла на себя функцию мани-
  пуляции FCB.
	Важным новшеством  явилось   введение	устанавливаемых   драйверов
  устpойств.  Они  дают возможность программисту легко связывать с DOS раз-
  личные устройства - нестандаpтный жесткий диск,  мышь, накопитель на маг-
  нитной ленте и т. п. Версия 2.0 ввела также драйвер дисплея ANSI.SYS, ко-
  торый позволяет программисту гибко управлять расположением курсора и цве-
  товыми атpибутами через функции DOS.
	Версия 2.0 добавила возможность  форматирования  отдельных  дорожек
  диска на 9 секторов вместо 8.  Это увеличило емкость памяти односторонней
  дискеты со 160 до 180 К, и емкость двусторонней дискеты с 320 до 360 К.

	Версия 3.0.
  -----------------
	Версия 3.0 подобно версии 2.0 была разработана для новых  компьюте-
  ров- IBM PC AT. Выпуск ее состоялся в августе 1984 года. Она поддерживала
  20-мегабайтный жесткий диск компьютера типа AT и  гибкие  диски  емкостью
  1.2  мегабайта.  Многие изменения произошли во внутренних пpоцедуpах DOS.
  Они позволили ускорить  выполнение  определенных  операций,  но  остались
  скрытыми от программиста.

				4

	Версия 4.0.
  -----------------
	DOS 4.0  появилась  на	рынке  в  августе  1988  года.	Перед  этим
  Microsoft выпустила новую многозадачную операционную	систему,  названную
  OS/2. До появления системы OS/2 MS-DOS не поддеpживала многозадачный ре-
  жим.
	Пользователь может легко увидеть изменения в DOS 4.0 по сравнению с
  более  ранними  версиями DOS.  Вместо строчно-ориентированного командного
  интерпретатора,  используемого DOS версии 3.3 и более  ранними,  DOS	4.0
  имеет оболочку, которая позволяет использование меню, разработанных поль-
  зователем, легкий выбор программ,  файлов и каталогов как с помощью мыши,
  так  и через клавиатуру.
	Наиболее значительными	являются невидимые изменения,  сделанные в
  DOS,	особенно в адаптации операционной системы к  новым  стандартам	на
  рынке. Операционная система выросла как в мощности, так и в комплекснос-
  ти использования памяти.  Например,  ранние версии DOS  были	ограничены
  только 640 Кб ОП и 32 Мб жесткого диска. Однако DOS 4.0 управляет систе-
  мой дополнительной памяти (EMS),  следуя стандарту LIM,  увеличивает ем-
  кость ОП до 8 Мбайт, а жестких дисков - до 2 Гбайт.

