




           Программное обеспечение персональных компьютеров

















                                Quick C
                 Компилятор с языка СИ фирмы Микрософт
                       Руководство программиста
















      Перевод с английского : Новиковой Н.А.





























                            Москва 1988 г.
 







    Поздравляем вас  с приобретением  компилятора Microsoft  Quick-C! Вы
приобрели  один  из  наиболее   мощных  пакетов,  работающих  с   языком
СИ-идеальный   набор   инструментальных   средств   как   для начинающих
программистов,  так  и   для  опытных  раразработчиков   математического
обеспечения.

    Компилятор Microsoft Quick-C использует  язык СИ в полном  объеме, и
кроме того, имеет как и мощность, переносимость, гибкость языка СИ,  так
и идеальную среду для разработки программ. Он включает в себя  следующие
средства:

    -В  Интегрированной  программной  среде  вы  получите весь требуемый
набор инструментов. Компилятор Microsoft  Quick-C имеет в едином  пакете
полный  набор  инструментальных   средств  для  разработки   программ:
интегрированный редактор для  написания программ, компилятор  и отладчик
 
(глава  8).   С  помощью   компилятора  Microsfot   Quick-C  вы   можете
компилировать,   выполнять,   отлаживать,   редактировать   и   повторно
компилировать  программы,  не  покидая  Интегрированную среду разработки
программ.   Компилятор   Quick-C    может   создавать   программы    для
непосредственного  выполнения,  либо  автономные  объектные  файлы   для
использования в  библиотеках плюс  выполняемые файля  для дальнейшего их
запуска под управлением операционной системы DOS. Поскольку все наиболее
часто используемые библиотечные СИ-функции встроены в программную среду,
подсоединяться  к  внешним   библиотекам  обычно  не   требуется.  Любые
стандартные СИ-библиотеки, не встроеные в программную среду, могут  быть
загружены  в  библиотеку,  конструируемую  пользователем,  известную под
именем Quick.

    -Легкий  в  изучении  редактор  текстов,  совместимый  с  редактором
WordStar. Изучить  редактор текстов  Quick-C очень  просто. Если  вы уже
знакомы с  программой WordStar  фирмы Micro  Pro, считайте,  что вы  уже
знаете  большинство  комманд  редактора  Quick-C,  поскольку  они  точно
соответствуют  командам  редактора  WordStar.   (раздел 7.1.1. описывает
ключи редактора Quick-C).

    -Быстрое  выявление  ошибок  с  помощью  Интегрированного отладчика.
Quick-C имеет большой  инструментальный набор средств  профессионального
отладчика, который делает возможным быстрое выявление ошибок программной
логики. С помощью отладчика Quick-C вы можете:

                       -прослеживать выполнение программы строка за
                        строкой;
                       -устанавливать многочисленные точки прерывания;
                       -во время выполнения программы в отдельном
                        окне высвечивать значение переменных;
                       -переключаться между высвечиванием программы и
                        программным выводом;
                       -производить поиск определенных функций в исходной
                        программе.

    Данные возможности отладчика описываются в разделах 8.2-8.2.4.  Если
даже  список  данных  возможностей  покажется  вам  неполным,  программы
Quick-C вы можете отлаживать с помощью многооконного отладчика Microsoft
Code View, поставляемого  с Оптимизирующим компилятором  фирмы Microsoft
или другого продукта фирмы Microsoft.

    -Получение помощи. У вас  появились вопросы по синтаксису  оператора
языка СИ? О типах аргументов библиотечной процедуры? О ключах  редактора
Quick-C? Вы можете быстро получить ответы на свои вопросы,  воспользуясь
контекстно-зависимым   встроеным   средством   Help   пакета    Quick-C.
Просмотрите   заголовки   меню,   подведите   блок   выбора   к    имени
соответствующей  функции  и  нажмите  ключ.  Вам  не нужно даже покидать
редактор; информация появится в отдельном окне верхней части экрана.

    -Графическая библиотека добавит программам эффект изобразительности.
Графическая библиотека, поставляемая  как часть библиотек  Quick-C, дает
возможность пользователю строить сложные графические изображения. Данная
библиотека поддерживает полный список графических адаптеров  компьютеров
фирмы IBM и совместимых с ними,  включая адаптеры VGA, MDA, CGA, EGA.  О
графической библиотеке может прочесть в Главе 4.

    -Быстрая отладка  программ и  последующая оптимизация  их в  помощью
Оптимизирующего компилятора Microsoft C. Поскольку компилятор  Microsoft
Quick-C  полностью  совместим  с    Оптимизирующим  компилятором   фирмы
Microsoft на уровне исходных и объектых файлов, вы можете добавить своим
программам   гибкость   и   мощность,   обеспечиваемую    Оптимизирующим
компилятором. Если вы разрабатываете программы с помощью Оптимизирующего
компилятора фирмы Microsoft,  компилятор Quick-C можно  использовать для
ускорения  разработки  программ  на  ранних  фазах, а затем для придания
программе законченности применить Оптимизирующий компилятор.

    -Интерфейс  с  пользователем,  совместимый  с  операционной системой
OS/2. Интерфейс с пользователем для компилятора Microsoft Quick-C  очень
прост  в   изучении.  Просто   выбирайте  команды   из  меню,  пользуясь
клавиатурой,  мышью  или  тем  и  другим;  либо нажимайте для выполнения
определенных команд  специальные ключи,  без открытия  меню. Интерфейс с
пользователем  пакета  Quick-C  выглядит  и  работает  аналогично новому
интерфейсу с операционной системой OS/2.

    -Автоматическая  поддержка  больших  программ.  Компилятор   Quick-C
автоматически  поддерживает   обработку  больших   программ  с   большим
количеством  модулей.  Как  только  вы  редактируете  один  из  модулей,
составляющих программу,  он добавляется  в "программный  список". Затем,
при  перестройке  программы,  Quick-C  сэкономит  ваше  время,  так  как
перекомпилироваться  будут  только  те  модули,  которые  изменились  со
времени последнего построения программы. Программый список  запоминается
в  файле,  совместимом  в  утилитой  программной  поддержки MAKE; затем,
программы  могут  быть  автоматически  обновлены  вне  среды  разработки
программ пакета Quick-C.

    -Всевозможные дополнительные средства: Компилятор Microsoft  Quick-C
предлагает следующие дополнительные средства:

    -Полный набор  инструментальных утилит,  удовлетворяющих почти  всем
нуждам  программирования.   Этот  набор   включает  в   себя  программу,
управляющую  компиляцией  и  компановкой  (QCL),  оверлейный компановщик
фирмы Microsoft (LINK); программу управления библиотеками  (LIB);утилиту
поддержки программ (MAKE). -Упрощенное управление памятью,  использующее
одну из четырех моделей памяти. Программа QCL поддерживает четыре модели
памяти: малую, среднюю, компактную и большую.

    -Отдельная справочная документация.  Данная документация включает  в
себя  справочник  по  языку  СИ  и стандартным библиотечным процедурам с
большим количеством отлаженных программных примеров.

                         Требования к системе

    Компилятор   Microsoft   Quick-C   требует   следующей   минимальной
конфигурации:  Персональный  компьютер   IBM  или  совместимый   с  ним,
функционирующий под управлением  операционной системы MS-DOS  или PC-DOS
версии 2.1  или выше.  Два устройства  чтения гибких  дисков, либо  один
дисковод для гибких дисков и один жесткий диск. 448К оперативной памяти.

                 Как пользоваться данным руководством

    Компилятор   Microsoft   Quick-C   разработан   для   широкого круга
пользователей:  от  начинающих-новичков  в  программировании  до опытных
разработчиков,   хорошо   владеющих   языком   СИ.   Для  различных нужд
пользователей предназначены различные части руководства.

    В  нижеследующих  параграфах  объясняется,  как  организовано данное
руководство,  предлагаются  различные  разделы  для  различных категорий
пользователей  и  описываются  остальные  руководства, входящие в данный
пакет.


                 Как организовано данное руководство.

    В части  1 данного  руководства, "С  чего начать",  объясняется, как
установить компилятор Quick-C,  осуществляется знакомство с  программной
средой пакета Quick-C и описываются наиболее важные особенности языка СИ
для программистов,  владеющих другими  языками программирования,  такими
как Basic  или Pascal.  В данной  части кроме  того рассказывается,  как
пользоваться поставляемой с пакетом Quick-C графической библиотекой.

    В части 2, "Программная  среда пакета Quick-C", рассказывается,  как
редактировать, компилировать и отлаживать программы в программной  среде
пакета Quick-C.

    В  части  3  данного  руководства,  "Набор инструментальных программ
пакета Quick-C", объясняется  каким образом компилировать  и компановать
программы  с  помощью  автономных  программ  QCL  и  LINK, как построить
библиотеки Quick  посредством программы  LINK и  автономные библиотеки с
помощью утилиты LIB; а также, каким образом осуществлять поддержку своих
программ с помощью утилиты MAKE.

    В  приложениях  к  данному  руководству  содержится   дополнительная
информация, которая может быть полезной для вас:

      -таблица кодов ASCII;
      -описание моделей памяти, поддерживаемых пакетом Quick-C;
      -описание интерфейса между Microsoft C и Microsoft Macro
       Assembler (MASM);
      -список сообщений об ошибках.

    Краткий  справочник,  включенный  в  данное  руководство дает список
ключей  редактирования  Quick-C,  ключей  процесса  отладки  и  ключевых
последовательностей.

            Что вам следует прочесть в данном руководстве.

    Всем  пользователям  нужно  прочесть  Главу  1,  "Установка и запуск
пакета Quick-C", в которой даны инструкции по установке  математического
обеспечения компилятора. Если вы хотите на практике попробовать работу с
компилятором, вам  следует провести  сеанс работы,  описанный в  разделе
1.7.4.

    Как  изучать  пакет  Quick-C  дальше  зависит  от  ваших  конкретных
потребностей, как описано ниже:

    -Для пользователей-новичков в программировании  и языке СИ. Если  вы
изучаете одновременно и программирование, и язык СИ, посмотрите в данном
введении  раздел  "Что  нужно  для  изучения",  в  котором  дан   список
рекомендованного чтения.

    -Для программистов, новичков  в языке СИ.  Если вы имеете  некоторый
опыт  в  программировании,  но  никогда  не программировали на языке СИ,
смотрите в  Главе 3,  "Quick-C, быстрый  старт" особенности  языка СИ  и
различия между СИ и другими языками программирования, такими как BASIC и
Pascal.

    -Для пользователей, использующих для программирования графику пакета
Quick-C. Прочтите Главу 4, "Работа с графикой пакета Quick-C", в которой
даются  инструкции  по  написанию  программ с использованием графических
функций, поставляемых с компилятором Microsoft Quick-C.

    -Для пользователей, незнакомы2 с Интегрированной средой разра- ботки
прогорамм.  Прочтите  Главу  2,  "Введение  в  Программную  среду пакета
Quick-C", в которой кратко описаны основные компоненты программной среды
пакета Quick-C. Затем вам  следует прочесть Часть 2,  "Программная среда
пакета  Quick-C",  в  ней  дана  информация  об  использовании редактора
связей, компилятора  и отладчика,  встроенных в  программную среду пакет
Quick-C.

    -Для пользователей, интересующихся другими программными  средствами,
поставляемыми   с   пакетом   Quick-C.   Прочтите   Часть   3,    "Набор
инструментальных программ пакета  Quick-C", в которой  описаны следующие
программные  средства:  программа,  управляющая  процессом  компиляции и
компановки  QCL;  компановщик  LINK;  программа, управляющая построением
библиотек LIB и утилита MAKE, осуществляющая поддержку ваших программ

                Другие руководства, входящие в комплект
             документации, поставляемой с пакетом Quick-C.

    С пакетом Quick-C поставляются еще два руководства:

    -В "Справочном руководстве по языку СИ фирмы Microsoft"  описывается
совместимый со стандартом ANSI выриант языка СИ фирмы Microsoft.

    -В  "Справочном  руководстве   по  библиотеке  исполняющей   системы
Microsoft C" описывается более 350 библиотечных процедур и 34 включаемых
файлов, поставляемых с компилятором Microsoft Quick-C.

                        Что нужно для изучения.

    Для изучения языка СИ вам могут понадобиться следующие книги. Список
литературы  составлен  в  порядке  возрастания  сложности,  от  пособий,
предназначенных для начинающих, до пособий для опытных программистов:

    - Hancock, Les, Morris Krieger.  "The C Primer, 2d ed.  New York: Mc
Graw-Hill, 1985" (Руководство по языку СИ для начинающих программистов).

    -     Schildt,     Herbert.      "C     Made     Easy."    Berkeley,
CA:Osborne/McGraw-Hill, 1985.(Хорошее пособие по  языку СИ для тех,  кто
знаком с языком BASIC).

    - *Waite, Mitchell, Stephine Prata, Donald Martin.  "C Primer Plus."
Indianopolis,  IN:Howard  W.Sams,  Inc.,  1984  (Введение  в  язык   СИ,
пользующееся наибольшим спросом).

    - Plum, Thomas.   "Learning to Program  in C". Cardiff,  New Jersey:
Plum Hall, Inc., 1983.   (Широко распространенное пособие для  колледжей
по изучению программирования с использованием языка СИ).

    -  Kochan,  Stephen.   "Programming  in  C".  Hasbrouck Neights, NJ:
Hayden Book Company, Inc., 1983.   (Исчерпывающее пособие по языку СИ  с
некоторыми погружением в среду операционной системы UNIX).

    - Harbison, Saiuel P., Gny L. Steele, Jr. "C:A Reference Manual,  2d
ed."  Englewood Cliffs, NJ: Prentice-Hall,Inc., 1987 (Полный  справочник
по языку СИ. Второе издание включает стандарт ANSI).

    -  **Kernighan,  Brian  W.,  Dennis  M.Ritchie.   "Jhe C Programming
Language."   Englewood  Cliffs,  NJ:  Prentice  Hall, Inc., 1978.(Ориги-
нальная классическая книга по языку СИ. Известна под названием "K&R" или
"белая книга". Будет полезна для вас, как только вы изучите язык СИ).

    -  Tondo,  Clovis  L.,  Scott  E.  Gimple.   "Jhe  C  Answer  Book".
Englewood Cliffs, NJ: Prentice-Hall,  Inc., 1985.  (Собрание ответов  на
упражнения, заданные в книге К&R. Дополнительный том к K&R).

    - Jaeshke, Rex. "Solutions  in C". Reading, Massachusentts:  Addison
Wesley, 1986.  (Полезное собрание примеров программ на языке СИ).

    -  Word,   Robert.   "Debugging   C".  Indianopolis,   Indiana:  Que
Corporation, 1986.  (Руководство по технике отладки программ).

    -  Schustack,  Steve.   "Variations  in  C:"  Redmond,   Washington:
Microsoft Press, 1985.  (Руководство  по программированию на языке  СИ в
сфере бизнеса).

    -  Hansen,  Augie.   "Proficient  C:" Redmond, Washington: Microsoft
Press, 1987 (Руководство для опытных  программистов на языке СИ в  среде
операционной системы MS-DOS).

---------------------------------------------------------------------

*Есть русский перевод в издательстве "Мир" Примечание переводчика.
**есть русский перевод в издательстве "Финансы и статистика"
Примечание переводчика.
---------------------------------------------------------------------

              Как получить помощь от фирмы Microsoft Inc.

    Если   у   вас   появились   какие-либо   проблемы  с использованием
математического  обеспечения,   пожалуйста  направьте   ваши  замечания,
используя бланк, приложенный к данному руководству.

    Если у  вас есть  какие-нибудь дополнения  или пожелания, касающиеся
документации, сопровождающей  программный продукт,  воспользуйтесь также
бланком прилотранство для  объединенных библиотек, подробности  смотрите
Раздел 1.4).   EM,87 Чтобы  сообщить программе  SETUP, как  обрабатывать
операции с  плавающей точкой  с помощью  эмуляции сопроцессора  8087 или
80287 (EM), или используя реальный сопроцессор (87). Обычно, задаете EM,
посколько программная среда пакета Quick-C использует эмулятор.

                                                 ЧАСТЬ 1



                            С чего начать.


    Данная  часть  руководства  поможет  вам  начать  программировать  с
помощью компилятора Microsoft Quick-C.

    В  Главе  1  рассказывается,  как  установить  компилятор  с помощью
программы SETUP, и как войти и выйти из среды разработки программ; кроме
того,  в  данной  Главе  приведен  пример  сеанса  работы с компилятором
Quick-C, во время которого вы можете научиться загружать,  компилировать
и выполнять программы.

    В Главе  2 описана  Программная среда  пакета Quick-C  и ее основные
возможности. Данная Глава написана для тех пользователей, которые  хотят
попробовать  работать  с  пакетом  Quick-C  без  детального изучения его
систем меню и команд.

    Глава  3  знакомит  с  языком  програмирования СИ тех пользователей,
которые знают другие языки программирования, например Pascal или Basic.

    В Главе 4 рассказывается,как писать программы, пользуясь стандартным
набором графических функций, поставляемых в пакете Quick-C.

                             ГЛАВА 1.


                  Установка и запуск пакета Quick-C.


1.1.  Подготовка резервных копий ваших дискет.
1.2.  Проверка содержимого дискет.
1.3.  Установка пакета Quick-C.
      1.3.1. Установка системы на жесткий диск.
      1.3.2. Установка пакета на систему с гибкими дисками.
1.4.  Использование автономных библиотек.
1.5.  Использование графической библиотеки Microsoft C.
1.6.  Если вы имеете устройство "мышь".
1.7.  Запуск компилятора Quick-C.
1.8.  Сохранение опций: Стартовый файл QC.INI.

    В данной Главе рассказывается,  как установить и запускать  в работу
компилятор    Microsoft    Quick-C.    Перед    изучением    компилятора
удостоверьтесь, что:

   1. Вы сделали резервные копии дистрибутивных дискет
      (см. Раздел 1.1).
   2. Проверьте содержимое ваших дистрибутивных дискет
      (см. Раздел 1.2).
   3. Прочтите файл README.DOC с вашей рабочей копии дистрибутивного
      диска PRODUCT, чтобы узнать изменения и добавления, сделанные
      в математическом обеспечении со времени издания документации.
   4. Запустите программу SETUP для установки математического обес-
      печения на вашей системе (см. Разделы 1.3.1.1-1.3.1.2 и
      1.3.2.1-1.3.2.2).
   5. Установите операционную среду вашей операционной системы DOS
      для того, чтобы упростить поиск ваших файлов (см. Раздел 1.4).

    Некоторые процедуры DOS упоминаются в данной Главе. В частности, для
присвоения  значений  переменным  операционной  среды  DOS  используются
команды  DOS  SET  и  PATH.  Если  вы не знакомы с какой-либо упомянутой
процедурой DOS,  обратитесь к  руководству польдователя  по операционной
системе DOS.

---------------------------------------------------------------------

Примечание:

    В данном руководстве "DOS" означает операционные системы как MS-DOS,
так и PC-DOS.

---------------------------------------------------------------------

                  1.1 Получение резервных копий ваших
                        дистрибутивных дисков.

    После того, как вы распаковали дистрибутивные дискеты,  поставляемые
в  пакете  Quick-C,  вам  следует  сделает  рабочие  копии  этих  дискет
посредством  команды  DOS   COPY,  либо  утилиты   DISKCOPY.  Сохраняйте
оригинальные диски для получения рабочих копий в дальнейшем.


                   1.2. Проверка содержимого ваших
                        дистрибутивных дисков.

    Когда  вы  первый  раз  смотрите  ваш  пакет,  вам следует тщательно
проверить  комплектность  математического  обеспечения.   Дистрибутивная
дискета  Product,  входящая  в   ваш  пакет,  содержит  файл   с  именем
PACKING.LST;  этот  файл  содержит  список  всех  файлов  и  документов,
входящих в пакет Microsoft Quick-C.

    Для соответствия новым  возможностям, добавленным в  пакет Microsoft
Quick-C, некоторые файлы или программы могут находиться на дисках  иных,
чем  диски,  описанные  в  данном  руководстве.  Если вы не можете найти
нужный  вам  файл  или  программу,  посмотрите  список  файлов  в  файле
PACKING.LST,  вы  сможете   узнать,  на  какой   дистрибутисной  дискете
находится нужный вам файл или программа.

                    1.3. Установка пакета Quick-C.

    Для установки программного  обеспечения вам следует  воспользоваться
программой  SETUP,  находящейся  на  вашей рабочей копии дистрибутивного
диска Libraries#1. Разделы, следующие далее, дают следующую информацию:

   1. Что делает программа SETUP при установке программного
      обеспечения.
   2. Как запустить программу SETUP для установки программного обес-
      печения на систему с жестким или гибкими дисками.
   3. Как сконфигурировать операционную среду системы DOS для
      ускорения поиска нужных файлов в пакете Quick-C.

---------------------------------------------------------------------

    Примечание

    Если  у  вас  имеется  версия  5.0 Оптимизирующего компилятора фирмы
Microsoft Inc., пропустите описанную далее процедуру установки системы и
выполните  программу  SETUP,  поставленную  с  пакетом   Оптимизирующего
компилятора.  Программа  SETUP  версии  5.0  Оптимизирующего компилятора
Microsoft  C  установит,  как  сам  Оптимизирующий  компилятор,  так   и
компилятор Quick-C. Инструкции по выполнению программы SETUP вы  найдете
в   Главе   2   руководства   "Оптимизирующий   компилятор  Microsoft C.
Руководство пользователя."


              1.3.1. Установка пакета Quick-C на систему
                           с жестким диском.

    Следующие далее разделы 1.3.1.1-1.3.1.6 дают инструкции  поустановке
компилятора Quick-C на систему с жестким диском.

                1.3.1.1 Что делает программа SETUP на
                       системе с жестким диском.

    При  устаноке  пакета  Quick-C  на  жесткий  диск  программа   SETUP
выполняет следующие действия:

    - Копирует все необходимые файлы в каталоге или на диски, которые вы
зададите.

    -  Строит  автономную   библиотеку  для  каждой   комбинации  модель
памяти/математический пакет,  которую вы  определили в  командной строке
программы  SETUP.   Большинство  стандартных   библиотечных  СИ-процедур
встроены  в  программную  среду  Quick-C;  однако,  в некоторых случаях,
компилятор  Quick-C  просматривает  библиотеки,  построенные  программой
SETUP, чтобы найти процедуры, не найденные обычным путем. Эти библиотеки
также можно использовать,если  вы отлаживаете программы  вне Программной
среды пакета Quick-C.

    - Создает  пакетный файл  с именем  NEW-VARS.BAT, который  назначает
переменные операционной  среды DOS,  так что  компилятор Quick-C  всегда
может найти те файлы, которые ему требуются.

    -  Создает  файл  с  именем NEW-CONF.SYS, содержащий соответствующие
назначения для параметров files и buffers в вашем файле CONFIG.SYS.


               1.3.1.2 Запуск программы SETUP на системе
                           с жестким диском.

    Как только вы будете готовы установить вашу систему на жесткий диск,
вставьте рабочую копию дистрибутивного  диска Libraries#1 в дисковод  А.
Затем   введите   следующую   командную   строку   в   форме:

    SETUP H C:\dest{S!M!L}...{EM!87}...[GR][\bin][\incl][\lib]

---------------------------------------------------------------------

Предупреждение.

    Некоторые из аргументов программы SETUP - это имена каталогов.  Если
каталог,  который  вы  задали,  не  существует,  программа SETUP создает
каталог автоматически.

---------------------------------------------------------------------

    Программа   SETUP   перезаписывает   существующие   файлы,   как  бы
устанавливая новые с теми же  именами. Не задавайте для программы  SETUP
имен  существующих  каталогов,  если  вы  не хотите перезаписывать файлы
данного каталога, или, вы не  уверены, что файлы данного каталога  имеют
те же самые имена, что и файлы компилятора.

    Каждый аргумент командной  строки программы SETUP,  показанной выше,
передает программе SETUP  информацию о том,  как должен быть  установлен
компилятор. Необязательные аргументы заключены в квадратные скобки. Если
вы  не  укажите  необязательные  аргументы,  программа  SETUP использует
соответствующие   стандартные.   Некоторые   необязательные    аргументы
позволяют вам для выбора стандартных набрать знак вопроса (?).

    Далее описаны аргументы, которые входят в командную строку программы
SETUP; для того, чтобы получить краткую информацию об аргументах  SETUP,
наберите SETUP без  аргументов, в то  время как в  дисководе А находится
дистрибутивный диск Program.

    Аргумент            Значение


     H                 Введите H для устаноки программного обеспече-
                       ния на жестком диске.
  C:\dest              Введите C, чтобы установить систему на диско-
                       вод C, за ним непосредственно следует имя це-
                       левого каталога (dest) для установки програм-
                       много обеспечения. SETUP предполагает, что
                       все остальные имена, заданные в командной
                       строке-это имена подкаталогов в данном катало-
                       ге.
  S, M, C, L           Одна или более из данных букв, разделенных про
                       белами, сообщает программе SETUP, какая модель
                       памяти будет использоваться. Введите M, пос-
                       кольку для Quick-C средняя модель памяти явля-
                       ется стандарной. Если вы будете разрабатывать
                       программы вне программной среды Quick-C, на-
                       пример с помощью команды QCL, описанной в Гла-
                       ве 9, наберите S, поскольку малая модель памя-
                       ти стандартна для команды QCL. Кроме того, ес-
                       ли вы будете работать с компактной или большой
                       моделью памяти, наберите C или L.
                       Программа SETUP использует аргументы модели
                       памяти и аргументы операций с плавающей точкой
                       (смотрите ниже) для того, чтобы построить тре-
                       буемые для вас библиотеки. Объединенные библио
                       теки ускоряют процесс создания программ; одна-
                       ко, поскольку объединенные библилтеки имеют
                       очень большой размер, вам следует задать толь-
                       ко те модули памяти, которые вы точно будете
                       использовать. (Если вы работаете больше чем с
                       одной моделью памяти, вы можете так же исполь-
                       зовать отдельные библиотеки, вместо того, что-
                       бы занимать дисковую память для объединенных
                       библиотек; за подробностями обратитесь к Раз-
                       делу 1.4).
   EM,87               Введите любой из двух или оба данных аргумен-
                       та, чтобы сообщить программе SETUP, каким об-
                       разом будут обрабатываться в ваших программах
                       операции с плавающей точкой.
                       Чтобы сообщить пакету Quick-C, что в первую
                       очередь будут использоваться процедуры эмуля-
                       ции операций с плавающей точкой, (а не сопро-
                       цессор 8087 или 80287), введите опцию EM.
                       (В разделе 9.3.5 вы найдете подробности об об-
                       работке в программах операций с плавающей точ-
                       кой).
                       Если вы разрабатываете программы, использующие
                       научные, математические или финансовые вычис-
                       ления с вещественными числими и всегда будете
                       работать на системе с математическими сопроце-
                       ссором, введите 87. В этом случае будет постро
                       ена дополнительная библиотека, которая требует
                       дополнительной дисковой памяти, но разработка
                       и выполнение программ с данной библиотекой бу-
                       дет производиться гораздо компактнее и быст-
                       рее.
    GR                 Если вы будете использовать графические функ-
                       ции пакета Quick-C, введите параметр GR (опи-
                       сание содержится в Главе 4 данного руководства
                       и в документе "Справочное руководство по биб-
                       лиотеке процедур Microsoft C." Эти функции бу-
                       дут добавлены в библиотеку, которую строит про
                       грамма SETUP. Данная опция делает библиотеку
                       приблизительно на 50К больше. Если данная оп-
                       ция не будет задана, графические функции не бу-
                       дут включены в библиотеку. Если ваша программа
                       использует графические функции, компилятор
                       Quick-C должен найти библиотеку GRAPHICS.LIB.
  \bin                 Введите имя подкаталога (bin) каталога dest, в
                       которую будут сброшены выполняемые файлы компи
                       лятора, в частности; компилятор, компоновщик и
                       утилиты. Если вы опискаете этот аргумент или
                       введете вместо его знак вопроса (?), программа
                       SETUP по умолчанию использует подкаталог \BIN.
  \incl                Введите имя подкаталога каталога dest, в кото-
                       рый будут установлены включаемые файлы. Если
                       вы опускаете данный аргумент или введете вмес-
                       то него знак вопроса (?), программа SETUP ис-
                       пользует по умолчанию подкаталог \INCLUDE.
  \lib                 Введете имя подкаталога каталога dest, в кото-
                       рую вы хотите установить библиотечные файлы.
                       Если вы опустите данный аргумент, или введете
                       вместо него знак вопроса (?), программа SETUP
                       использует по умолчанию подкаталог LIB.

    Программа SETUP автоматически создает следующие подкаталоги:

    - Подкаталог с именем \TMP, в который компилятор помещает  временные
файлы, создаваемые в процессе компиляции.

    - Подкаталог выполняемых файлов  \SAMPLE, в который программа  SETUP
помещает демонстративные программы.

      Примеры:

      SETUP H C:\MEM ???

    Данная командная  строка требует,  чтобы программа  SETUP установила
математическое   обеспечение   компилятора   в   стандартные подкаталоги
корневого каталога  на жестком  диске С.  Стандартными каталогами будут:
\BIN  для  выполняемых  файлов   компилятора  и  утилит,  \INCLUDE   для
включаемых  файлов  и  \LIB  для  библиотечных  файлов.  Программа SETUP
построит соответствующую библиотеку для  средней модели памяти и  пакета
математических  процедур  для  эмуляции  операций  с  плавающей точкой и
назовет данную библиотеку MLIBCE.LIB.

    SETUP H C:\QC SMCL EM GR 87\BINDER\INC\LIBS

    Указанная  командная  строка  указывает  программе  SETUP установить
математическое обеспечение компилятора  в заданные подкаталоги  каталога
\QC на жестком  диске С. Выполняемые  файлы будут сброшены  в подкаталог
\QC\BINDIR; включаемые файлы в подкаталог \QC\INC; библиотечные файлы  в
подкаталог    \QC\LIBS;    демонстрационные    файлы    в     подкаталог
\QC\BINDIR\SAMPLE.

    Библиотечные файлы будут построены для всех имеющихся моделей памяти
и  пакетов  математических  операций  с  плавающей  точкой (всего восемь
библиотек). Каждая  библиотека будет  включать в  себя пакет графических
фунций Microsoft C.


               1.3.1.3. Построение библиотек на системе
                           с жестким диском.

    После того, как вы нажмете  ENTER, программа SETUP начнет строить  и
устанавливать библиотеки, причем SETUP сообщит вам, когда менять дискеты
в дисководе А.

    Программа SETUP  считывает аргументы  модели памяти  (S, M,  C, L) и
аргументы математики с плавающей точкой (EM и 87), заданные в  командной
строке,  и  строит  по   одной  библиотеке  на  каждое   сочетание  двух
параметров. Причем SETUP высвечивает по мере построения имена библиотек.

    Названия библиотек  составляются программой  SETUP в  зависимости от
используемой модели памяти  и пакета математических  подпрограмм. Каждое
стандартное имя библиотеки имеет следующую форму:

    {S|M|C|L}LIBC{E|7}.LIB

    Первый символ имени библиотеки совпадает с аргументом модели памяти:
S для малой (стандартной) модели памяти, M для средней модели памяти,  C
для компактной  модели памяти,  L для  большой модели  памяти. Последний
символ базового имени (часть имени перед расширением .LIB)  определяется
аргументом пакета математических подпрограмм: E, если задан аргумент EM,
или 7, если задан аргумент 87.

    Например, библиотека с именем MLIBCE.LIB поддерживает среднюю модель
памяти  и  пакет  эмуляции  математики  с  плавающей точкой-стандарт для
программной  среды  пакета  Quick-C.  Библиотека  с  именем   SLIBC7.LIB
поддерживает  малую  модель  памяти  и  пакет  процедур для сопроцессора
8087/8,287,  она   может  быть   использована  только   на  компьютерах,
оснащенных математическим сопроцессором.

---------------------------------------------------------------------

Примечание:

    Чтобы  облегчить  изложение  материала,  в  оставшейся части данного
руководства  для  идентификации  библиотек,  поддерживающих определенные
комбинации моделей памяти и математических пакетов, используются  данные
стандартные имена.

---------------------------------------------------------------------



                1.3.1.4 Удаление компонентов библиотек.

    Программа SETUP высвечивает следующее дополнительное сообщение:

    "Программе SETUP больше не требуются библиотечные компоненты, и  они
на понадобятся вам для компиляции и компановки программ. Хотите  удалить
их? [Y/N]"

    Если  вы  будете  пользоваться  моделями  памяти или математическими
пакета иными, чем  были заданы в  командной строке программы  SETUP, вам
следует  сохранить   отдельные  библиотеки.   Однако,  если   вы  будете
пользоваться  только   моделями  памяти   и  математическими   пакетами,
поддерживаемыми  вашими  объединенными  библиотеками,  вы можете удалить
отдельные  библиотеки.  Ответьте  Y  или  y,  чтобы  удалить   отдельные
библиотеки, или N или n, чтобы сохранить их.


             1.3.1.5 Завершение процесса установки пакета.

    Кроме прочего,  программа SETUP  выполняет некоторые  дополнительные
шаги, включая создание файлов NEW-VARS.BAT и NEW-CONF.SYS.


                  1.3.1.6 Установка на жестком диске
                        операционной среды DOS.

    Финальная часть процесса установки-это установка операционной  среды
DOS для ускорения поиска требуемых файлов.

    Программа  SETUP  автоматически  создает  пакетный  файл  с   именем
NEW-VARS.BAT. Этот файл можно использовать, чтобы установить  переменные
операционной среды для поиска нужных файлов.

    Можно также команды  SET из файла  NEW-VARS.BAT добавить в  ваш файл
AUTOEXEC.BAT   таким   образом,   что   среда   DOS   будет    корректно
устанавливаться всякий раз при загрузке системы.

    Кроме файла NEW-VARS.BAT программа SETUP создает файл  NEW-CONF.SYS.
Этот файл  устанавливает необходимые  для компилятора  Microsoft Quick-C
параметры files и buffers. Вы можете либо заменить ваш существующий файл
CONFIG.SYS на файл NEW-CONF.SYS, либо скопировать назначение  параметров
files  и  buffers  из   файла  NEW-CONF.SYS  в  ваш   существующий  файл
CONFIG.SYS.

    Программа SETUP  устанавливает файлы  NEW-VARS.BAT и  NEW-CONF.SYS в
тот подкаталог каталога dest, в который были сброшены выполняемые  файлы
пакета Quick-C (по умолчанию dest\BIN\SAMPLE).


               1.3.2 Установка пакета Quick-C на систему
                          с гибкими дисками.

    В разделах 1.3.2.1-1.3.2.4 описывается процесс установки компилятора
Quick-C на  систему с  гибкими дисками.  Заметим, что  данные инструкции
предполагают, что вы запускаете программу  SETUP с дисковода А; если  вы
предпочитаете запускать программу  SETUP с дисковода  В, то в  следующих
инструкциях  просто  замените  слова  "дисковод  А"  на  "дисковод  В" и
наоборот.


             1.3.2.1 Что программа SETUP делает на системе
                          с гибкими дисками.

    При установке пакета Quick-C на системе с гибкими дисками, программа
SETUP  строит  автономную  библиотеку  для  каждой заданной на командной
строке   комбинации   "модель   памяти/математический   пакет".   Многие
стандартные  процедуры  языка  СИ  встроены  в  программную среду пакета
Quick-C, однако,  в некоторых  случаях компилятор  Quick-C просматривает
библиотеки, построенные программой SETUP, чтобы найти процедуру, которая
не может быть найдена другим способом. Эти библиотеки также используются
для создания программ вне программной среды пакета Quick-C.


              1.3.2.2. Запуск программы SETUP на системе
                          с гибкими дисками.

    Перед  тем,,  как  запустить  программу  SETUP  на системе с гибкими
дисками,  вам  следует   определить,  сколько  вам   понадобится  чистых
отформатированных  дискет  для  того,  чтобы  разместить все библиотеки,
которые будут построены в процессе установки системы. Вам потребуется по
одной чистой отформатированной дискете для каждой модели памяти, которую
вы  будете  использовать  плюс  одна  рабочая  дискета;  если  вы будете
пользоваться  только  одной  стандартной  для  программной среды Quick-C
моделью  памяти  (средняя  модель),  вам  понадобятся всего две дискеты.
Программа  SETUP  разместит  каждую  построенную библиотеку на отдельном
гибком диске.

    После  того,  как  вы  отформатируете  требуемое  количество дискет,
вставьте  в  дисковод  А   вашу  рабочую  копию  дистрибутивного   диска
Libraries#1.

    Затем введите командную строку в следующей форме:

    SETUP F B:{S|M|C|L}...{EM|87}[GR]

    Каждый пункт (или аргумент) в командной строке программы SETUP  дает
программе информацию о том, каким образом установить компилятор Quick-C.
Необязательные  аргументы  заключены  в  квадратные  скобки [ ]. Если вы
опустите   необязательные   аргументы,   программа   SETUP    использует
соответствующие   стандартные.   Некоторые   необязательные    аргументы
позволяют для выбора стандартного значения ввести знак вопроса (?).

    Далее перечислены  аргументы, которые  вы можете  ввести в командный
строке программы SETUP; если  вы хотите получить краткую  информацию обо
всех аргументах  командной строки,  введите SETUP  без аргументов  (в то
время, как в дисководе А установлен дистрибутивный диск Program)

Аргумент               Значение


F                      Сообщает программе SETUP, что устанока произ-
                       водится на системе с гибкими дисками.
B:                     Наберите B:, чены к библиотеке. Если вы используете гра-
                       фические функции, компилятор должен находить
                       также и библиотеку GRAPHICS.LIB. Подробности
                       смотрите в Разделе 1.5.


      Пример:

      SETUP F B: M EM

      Приведенная командная строка требует, чтобы программа SETUP
построила соответствующую библиотеку для средней модели памяти и для



Аргумент               Значение


                       Если вы будете разрабатывать программы вне
                       программной среды пакета Quick-C (используя
                       команду QCL, описанную в Главе 9 "Компиляция
                       и компановка программ"), введите S, поскольку
                       малая модель памяти стандартна для команды
                       QCL. Кроме того, если вы будете применять ком-
                       пактную модель памяти или большую модель, вве-
                       дите C или L.
                       Программа SETUP использует задаваемые вами ар-
                       гументы модели памяти и математического пакета
                       (смотрите ниже) для построения библиотек. Объе
                       диненные библиотеки ускоряют процесс разработ-
                       ки программ; однако, поскольку для каждой по-
                       строенной библиотеки требуется отдельная дис-
                       кета, задавайте буквы только для тех моделей,
                       которыми вы точно будете пользоваться. (Если
                       вы используете более одной модели памяти, вам
                       могут понадобиться отдельные библиотеки, вмес-
                       то того, чтобы занимать дисковое пространство
                       для объединенных библиотек, подробности смот-
                       рите Раздел 1.4).
 EM,87                 Чтобы сообщить программе SETUP, как обрабаты-
                       вать операции с плавающей точкой с помощью
                       эмуляции сопроцессора 8087 или 80287 (EM),
                       или используя реальный сопроцессор (87). Обыч-
                       но, задаете EM, посколько программная среда
                       пакета Quick-C использует эмулятор.
                       Если вы разрабатываете программы, выполняющие
                       научные, математические или финансовые вычис-
                       ления с вещественными числами, и которые всег-
                       да будут работать на системах, имеющих матема-
                       тический сопроцессор, запускайте программу
                       SETUP с аргументом 87. При заданном аргумента
                       87 будет построена добавочная библиотека,
                       требующая дополнительного дискового простран-
                       ства, но написание программ с помощью этой биб
                       лиотеки сделает их компактнее и быстрее.
GR                     Введите GR, если вы хотите добавить в библио-
                       теки, создаваемые программой SETUP графические
                       функции пакета Quick-C (описанные в Главе 4
                       данного руководства и в документе "Справочное
                       руководство по библиотеке процедур
                       Microsoft C")
                       Использование данной опции сделает библиотеку
                       больше примерно на 50К. Если вы не зададите
                       эту опцию, графические функции не будут под-
                       ключены к библиотеке. Если вы используете гра-
                       фические функции, компилятор должен находить
                       также и библиотеку GRAPHICS.LIB. Подробности
                       смотрите в Разделе 1.5.


      Пример:

      SETUP F B: M EM

      Приведенная командная строка требует, чтобы программа SETUP
построила соответствующую библиотеку для средней модели памяти и для
процедур эмуляции операций с плавающей точкой с именем MLIBCE.LIB на
гибком диске в дисководе В.


                1.3.2.3 Построение библиотек на системе
                          с гибкими дисками.

    После того, как вы нажмите  ENTER, программа SETUP начнет строить  и
устанавливать  библиотеки.   SETUP  устанавливает  одну  библиотеку   на
дискету;  она  сообщает  вам  о  смене  дискет  в  устройствах  А  и  В-
дистрибутивных  дискет,  на  которых  расположены библиотеки, дискет, на
которые вы устанавливаете новые библиотеки и вашей рабочей дискеты.

    Программа SETUP считывает аргументы моделей памяти (S, M, C или L) и
аргументы математики с плавающей точкой (EM или 87), которые вы задали в
командной  строке  и  строит  по  одной  библиотеке  на каждую возможную
комбинацию этих двух параметров. В процессе построения, программа  SETUP
высвечивает  имена  строящихся  библиотек.   SETUP дает имена строящимся
библиотекам  в  зависимости  от  модели  памяти  и  пакета  математики с
плавающей точкой, которые вы выбрали. Каждое стандартное имя  библиотеки
имеет следующую форму:

    {S|M|C|L}LIBC{E|7}.LIB

    Первый символ имени библиотеки совпадает с аргументом модели памяти:
S для малой (стандартной) модели, M для средней модели, C для компактной
модели, L  для большой  модели памяти.  Последний символ  базового имени
(часть имени перед расширением .LIB) определяется аргументом  математики
с плавающей точкой: E для аргумента EM, 7 для аргумента 87.

    Например, библиотека с именем MLIBCE.LIB поддерживает среднюю модель
памяти и пакет  эмуляции операций с  плавающей точкой, стандарт  ной для
программной  среды  пакета  Quick-C.  Библиотека  с  именем   SLIBC7.LIB
поддерживает малую модель памяти  и пакет математики с  плавающей точкой
для сопроцессора 8087/80287,  данная библиотека может  быть использована
только в программах,  работающих на компьютерах,  имеющих математический
сопроцессор.

---------------------------------------------------------------------

    Примечание

    Для  простоты  изложения,   оставшаяся  часть  данного   руководства
использует  для  идентификации  библиотек,  поддерживающих  определенные
комбинации моделей памяти  и математических пакетов,  данные стандартные
имена.

---------------------------------------------------------------------



                1.3.2.4 Устанока операционной среды DOS
                     на системе с гибкими дисками.

    Финал процесса установки пакета-это установка операционной среды DOS
для облегчения поиска требуемых файлов. Введите следующие команды DOS:

      SET PATH=A:;
      SET LIB=A:;
      SET INCLUDE=A:\INCLUDE;

    Данные  команды  добавляют   пакет  Quick-C  искать   выполняемые  и
библиотечные  файлы  в  корневом  каталоге  дискеты  в  дисководе  А,  а
включаемые файлы в каталоге \INCLUDE на дискете в дисководе А.


    Данные  назначения   будут  работать   до  тех   пор,  пока   вы  не
перезагрузите  систему.   Вы  можете   добавить  эти   команды  в   файл
AUTOEXEC.BAT,  тогда  они  будут  выполняться  автоматически  при каждой
перезагрузке системы.

    Перед тем, как стартовать пакет Quick-C, добавьте следующие строки в
ваш файл конфигурации системы CONFIG.SYS, затем перезагрузите систему:

      files=15
      buffers=10


                1.4. Использование отдельных библиотек.

    Программа SETUP строит объединенные библиотеки, поскольку разработка
программ с использованием  отдельных библиотек занимает  больше времени.
Если вы используете много различных вариантов комбинаций моделей  памяти
и  математики  с  плавающей  точкой,  вам  может  показаться  чрезмерным
количество памяти, занимаемое различными комбинированными  библиотеками.
Вместо этого, вы можете пользоваться отдельными компонентами  библиотек.
Заметим, что применение отдельных библиотек имеет следующие недостатки:

    -Вы будете вынуждены набирать  слишком длинные командные строки  для
компиляции и компановки программ

    -Вы должны потребовать, чтобы редактор связей не использовал обычные
библиотеки и явно задать имена соответствующих отдельных библиотек.

    -Процесс компановки с отдельными библиотеками займет больше времени,
чем тот же процесс с комбинированными библиотеками.

    С компилятором Quick-C  поставляются следующие отдельные  библиотеки
(m означает соответствующую модель памяти).


 Библиотека            Применение


mLIBC.LIB              Стандартная библиотека процедур; содержит все
                       процедуры, входящие в библиотеку использующей
                       системыя Microsoft C, исключая математические
                       процедуры, поддерживающие операции с плавающей
                       точкой.
mLIBFP.LIB             Библиотека математики с плавающей точкой, тре-
                       буется, если ваша программа использует EM.LIB
                       или 87.LIB
EM.LIB                 Эмулятор операций с плавающей точкой, незави-
                       симый от используемой модели; применяется для
                       выполнения операций с плавающей точкой.
LIBH.LIB               "Помощник компилятора" независимый от исполь-
                       зуемой модели; применяется для обработки ком-
                       плексных операций, таких как 32-разрядное ум-
                       ножение и деление.
87.LIB                 Независимая от используемой модели библиотека
                       поддержки операций с плавающей точкой для со-
                       процессора 8087/80287; может быть использована
                       только на компьютерах, имеющих данный сопроце-
                       ссор.

    Следующий  ниже  список  показывает,  каким образом программой SETUP
строятся   комбинированные   библиотеки,   и   соотверствующие отдельные
библиотеки:


Комбинированные        Отдельные библиотеки
библиотеки


mLIBCE.LIB             mLIBC.LIB, mLIBFP.LIB, LIBH.LIB, EM.LIB
mLIBC7.LIB             mLIBC.LIB, mLIBFP.LIB, LIBH.LIB, 87.LIB


    Если вы предпочитаете использовать отдельные библиотеки,  скопируйте
требуемые вам  библиотеки с  ваших рабочих  копий дистрибутивных  дискет
Libraries#1, Libraries#2, Libraries#3  в подкаталог, который  вы создали
для  них  на  вашем  жестком  диске  (по  умолчанию,  dest\LIB). Если вы
запускаете пакет  с гибких  дисков, пользуйтесь  вашими рабочими копиями
дистрибутивных дисков.

    В следующем списке показано, где найти каждый тип библиотеки

Библиотеки             Дистрибутивная дискета

Независимые от модели  Libraries#1
памяти
Средняя и малая мо-    Libraries#2
дель памяти
Компактная и большая   Libraries#3
модели памяти

    В  разделе  9.4.2.3  вы  найдете  подробную  информацию  о специфике
отдельных библиотек.


        1.5. Использование графической библиотеки Microsoft C.

    Если вы  решили не  включать графические  функции в  комбинированные
библиотеки, строящиеся программой SETUP, но будете использовать  графику
в   ваших   программах,   пакет   Quick-C   должен   находить библиотеку
GRAPHICS.LIB, которая  содержит графические  функции. Данная  библиотека
находится на  дистрибутивном диске  Libraries#1. Если  вы устанавливаете
пакет Quick-C на систему с жестким диском, скопируйте данную  библиотеку
в подкаталог, в котором SETUP установил билиотеки.

    Если вы разрабатываете программу с графикой в среде пакета  Quick-C,
установите  для  программы  список,  как  описано в разделе 6.2.6. Затем
добавьте  в  программный  список  билиотеку  GRAPHICS.LIB, как описано в
разделе 6.2.7.

    Если вы разрабатываете  графическую программу вне  программной среды
пакета Quick-C, вам следует  подвязать библиотеку GRAPHICS.LIB явно.  Вы
можете выбрать из следующего:

    -Задать GRAPHICS.LIB в  командной строке команды  LINK или QCL,  как
описано в разделе 9.4.2.3.

    -Определить  библиотеку  GRAPHICS.LIB  в  переменной  среде  CL, как
описано в разделе 9.3 или в переменной среды LINK, как описано в разделе
9.5. Если  вы определите  библиотеку GRAPHICS.LIB  в операционной  среде
DOS, ваша программа будет подвязывать библиотеку автоматически.

                     1.6. Если у вас есть "мышь".

    Пакетом Quick-C можно пользоваться и без "мыши". Данное  руководство
описывает работу пакета как с  клавиатурой, так и с "мышью",  поэтому вы
можете всегда выбрать свой способ работы.

---------------------------------------------------------------------

Примечание

    Пакет  Microsoft   Quick-C  разработан   для  использования   "мыши"
Microsoft  Mouse.  Многие  производители  разрабатывают свои устройства,
совместимые с Microsoft  Mouse. Пакет Quick-C  может работать с  теми из
данных устройств,  которые полностью  совместимы, а  особенно, если  они
эмулируют функции Microsoft Mouse. За подробностями обратитесь к  вашему
поставщику.

---------------------------------------------------------------------

    В данном руководстве используются специальные термины для устройства
"мышь".

Термин                 Определение

Позиционировать        Перемещиние "мыши" до тех пор, пока указатель
 (point)               не установится на том месте, которое вам нуж-
                       но.
Нажать (press)         Нажать кнопку "мыши".
Быстро нажать и отпус- Быстро нажать и отпустить кнопку "мыши". Это
тить-щелкнуть          относится к левой кнопке, если не указано
(Click)                иначе.
Нажать и держать       Нажать левую кнопку "мыши" во время перемеще-
  (Drag)               ния ее по поверхности стола.
Двойное быстрое нажа-  Быстро нажать левую кнопку "мыши" дважды.
тие (Double click)


                  1.7. Работа с компилятором Quick-C.

    В  следующих  разделах  поясняется,  как  стартовать  и как выйти из
компилятора  Microsoft  Quick-C,  описываются  шаги  компиляции примера,
даются опции, задаваемые на  командной строке QC и  изменяющие поведение
компилятора.


                  1.7.1. Запуск компилятора Quick-C.

    После того, как вы установите математическое обеспечения компилятора
и назначите переменные программной среды DOS, вы готовы стартовать пакет
Quick-C. Какой из методов использовать зависит от того, работаете вы  на
жестком, или на гибких дисках:

      - На системе с жеским диском вы можете стартовать компилятор
      Quick из любого каталога, если у вас есть файл NEW-VARS.BAT, в
      котором установлена программная среда. В противном случае, вы-
      полните команду DOS CD, чтобы перейти в тот каталог, в кото-
      ром находится файл QC.EXE. Затем просто введите:
           QC

      - На системе с гибкими дисками, сделайте дисковод В текущим
      устройством. Установите в дисковод А вашу рабочую копию дис-
      трибутивной дискеты Product, а дискету, на которой будут раз-
      мещаться ваши программы, в дисковод В. Затем стартовать пакет
      Quick-C можно следующей командой:
           A:QC.

       Когда появится экран пакета Quick-C, замените дискету в диско-
      воде А на рабочую копию вашего дистрибутивного диска WORK.
      Чтобы загрузить одновременно со стартом пакета Quick-C и ваш
      исходный СИ-файл, наберите в командной строке после QC имя
      файла.

    Компилятор Quick-C  позволяет вам  также задать  в командной  строке
некоторые опции  и аргументы;  данные аргументы  описываются в следующем
разделе.


                          1.7.2. Кoманда QC.

    При  использовании  команды  QC  действиями  компилятора  Quick-C вы
модете управлять с помощью опций командной строки. Данные опции задаются
в  любом  порядке,  только  имя  исходного  файла,  которым  вы   хотите
загрузить,  должно  быть  последним  в  командной  строке. Ниже приведен
полный синтаксис команды QC:

      QC [[/b][/g][/h][/l quicklib][sourcefile]]

      Опции поясняются в следующей таблице:

Опция                  Действие


/b                     Стартует компилятор Microsoft Quick-C в черно-
                       -белом режиме. Если в вашей вычислительной
                       системе-монохромный монитор применяйте данную
                       опцию.
/g                     Применяйте данную опцию, если вы имеете цвет-
                       ной графический адаптер (CGA). Пакет Quick-C
                       автоматически регулирует экранный вывод в со-
                       ответствии с вашей аппаратурой. На некоторых
                       машинах возможна более быстрая регулировка эк-
                       рана, чем это делает пакет Quick-C стандартно
                       Опция /g позволит пакету Quick-C как можно
                       быстрее отрегулировать экранный вывод. Если вы
                       увидите "снег"(мерцание точек на экране), ког-
                       да вы изменяете на экране большой раздел (на-
                       пример с помощью PGUP), это значит, что ваша
                       аппаратура не может работать так быстро и вам
                       следует повторить старт пакета Quick-C с опци-
                       ей /g. Данная опция не оказывает влияния на
                       машинах, применяющих Усовершенствованный гра-
                       фический адаптер (EGA) или монохронный адаптер
                       (MA).
/h                     Стартует Quick-C с тем количеством строк, ка-
                       кое позволяет разрешение вашего видео-адапте-
                       ра. Например адаптер EGA, подсоединенный к
                       Усовершенствованному цветному монитору IBM
                       (ECD) может высвечивать 43 строки.
/l quicklib            Введите имя библиотеки Quick-C, если вам тре-
                       буется ее подзагрузить. Если в ваших програм-
                       мах используются библиотечные СИ-процедуры, не
                       встроенные в программную среду пакета Quick-C,
                       вы можете отладить их быстрее, если загрузите
                       библиотеку Quick, содержащую данные процедуры.
                       (В таблице 6.1 приведен список встроенных биб-
                       лиотечных процедур, а в разделе 10.1 приведена
                       информация о создании и использовании библио-
                       тек Quick).
sourcefile             Введите имя исходного СИ-файла, который вам
                       нужно загрузить для редактирования и компиля-
                       ции во время старта пакета Quick-C.



                    1.7.3. Выход из пакета Quick-C

    Чтобы выйти из  пакета Quick-C и  вернуться в операционную  систему,
проделайте следующие дествия:

    1.Нажмите Alt+F, чтобы высветить Меню файлов.

    2.Введите X, чтобы выполнить команду Exit.

    Другие способы выйти из пакета Quick-C описаны в Главе 6,  "Создание
и сохранение программ". Если вы выходите из Quick-C без записи программы
на диск, система спросит вас, хотите ли вы запомнить программу.  Введите
имя, которое вы хотите дать вашему файлу, затем нажмите ENTER.


                       1.7.4. Пример компиляции.

    Данный пример сеанса работы с пакетом дает вам небольшую практику. В
течение  этого  сеанса   вы  скомпилируете  демонстрационную   программу
CFLOW.C, которая  подготавливает вызовы  функций и  зависимости в  любом
исходном СИ-файле.

    Шаги, приведенные ниже, описывают процесс компиляции:

    1. Если вы работаете на системе с жестким диском, программа  CFLOW.C
находится  в  каталоге,  который  программа  SETUP  создает для примеров
программ.  (По умолчанию, dest\BIN\SAMPLE). Если вы работаете на системе
с  гибкими  дисками,  установите   в  дисковод  А  вашу   рабочую  копию
дистрибутивного  диска  Product,  а  в  дисковод  В  вашу  рабочую копию
дистрибутивного диска Libraries#2.

    2. Если вы запускаете систему на жестком диске, наберите:

                       qc cflow.c

    и нажмите ENTER для запуска пакета Quick-C и загрузки CFLOW.C.  Если
вы запускаете систему на гибких дисках, введите: a:qc cflow.c и  нажмите
ENTER

    3. Нажмите ALT+R для открытия Меню запуска.

    4. Нажмите C для выполнения команды Compile.

    5. Появится рамка  (называемая "диалоговая рамка")  команды Compile.
Теперь просто  нажмите ENTER.  Когда пакет  Quick-C закончит  компиляцию
ваших программ, рамка компиляции исчезнет с экрана.

    6. Снова нажмите ALT+R, чтобы открыть Меню запуска.

    7.  Нажмите  ALT+O  для  установки  опций  времени  выполнения  (или
выполнения команды SET Runtime Options.

    8.  Появится  диалоговая  рамка  команды  установки  опций   времени
выполнения.  В  командной  строке  текстовой  рамки  наберите  cflow.c и
нажмите ENTER.

    9. Снова нажмите ALT+R для открытия Меню запуска. 10. Нажмите S  для
запуска  вашей  программы.  Если  она  проработает  без  ошибок, Quick-C
высветит  следующее  сообщение:  Program  returned  (0).   Press any key
(Программа закончилась (0). Нажмите любой ключ).

    11. Нажмите любой ключ, чтобы вернуться в главное окно Quick-C.

    12. Нажмите ALT+R, чтобы снова открыть Меню файлов.

    13. Нажмите X,чтобы выйти из среды пакета Quick-C и вернуться в DOS


                        1.8. Опции сохранения:
                       Файл инициализации QC.INI

    Файл  QC.INI  представляет  собой  файл  иниализации,  который пакет
Quick-C  использует  для  записи  назначений  команды Options... из Меню
обзора  и  команды  Compile...  из  Меню  запуска.  Назначение   команды
Options... -определение цветов,  используемых для изображения  различных
частей текста, табуляции и автоматического размещения текста.

    Назначение   команды   Compile...   управляюи   различными аспектами
процесса компиляции. Если вы  изменили какое-либо из назначений  команды
Options...  или  Compile...,  и  затем  вышли  из  среды Quick-C, данные
изменения запишутся в файл с именем QC.INI. Файл QC.INI не  поставляется
ни на одной из дистрибутивных дискет. Он создается только при  изменении
назначений команды  Options... Если  вы пользуетесь  только стандартными
значениями, файл QC.INI не создается.

    При  старте  пакет  Quick-C  ищет  файл  QC.INI  сначала  в корневом
каталоге, затем в каталоге,  заданным с помощью переменной  операционной
среды PATH. Если  пакет Quick-C не  находит файла QC.INI,  он использует
стандартные  назначения  команды  Options...  из  Меню  обзора.  Если вы
изменили назначения  команды Options...,  Quick-C записывает  новый файл
QC.INI в каталог,  в котором он  был первоначально найден.  Заметим, что
если  вы  имеете  несколько  версий  файла QC.INI в отдельных каталогах,
пакет Quick-C использует версию того католога, из которого вы стартовали
пакет.

