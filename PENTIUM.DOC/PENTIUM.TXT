╔════════════════════════════════════════════════════════════╗
║                                                            ║
║                                                            ║
║                                                            ║
║                                                            ║
║                         ▌█  ▌█                             ║
║                        ▌███                                ║
║    ▌████▄  ▄██▄  ▌█▄██▄ ▌█  ▌█  ▌█  ▌█ ▌█▄██▄███▄  TM      ║
║    ▌█  ▌█ ▌█  ▌█ ▌█▀ ▌█ ▌█  ▌█  ▌█  ▌█ ▌█▀ ▌█▀ ▌█          ║
║    ▌█  ▌█ ▌█  ▌█ ▌█  ▌█ ▌█  ▌█  ▌█  ▌█ ▌█  ▌█  ▌█          ║
║    ▌█  ▌█ ▌█▀▀▀  ▌█  ▌█ ▌█  ▌█  ▌█  ▌█ ▌█  ▌█  ▌█          ║
║    ▌███▀   ▀██▀  ▌█  ▌█ ▀██ ▀██ ▀███▀█ ▌█  ▌█  ▌█          ║
║    ▌█                                                      ║
║    ▌█ P    R    O     C     E    S    S    O    R          ║
║                                                            ║
║                 (M)(C) I N T E L '9 2                      ║
║                                                            ║
║                                                            ║
║                                                            ║
║                                                            ║
║                                                            ║
║                                                            ║
║             P E N T I U M   P r o c e s s o r              ║
║                                                            ║
║                   Технический обзор                        ║
║                                                            ║
║                                                            ║
║                                                            ║
║             (С) 1993. Александр Колпаков.                  ║
║                   Составление, перевод.                    ║
║                                                            ║
║                                                            ║
║                                                            ║
║                                                            ║
║                                                            ║
║                                                            ║
║         Аннотация.                                         ║
║                                                            ║
║         Краткий исторический обзор                         ║
║         Особенности технологии Pentium процессора          ║
║         Основные нововведения                              ║
║         Особенности архитектуры Pentium процессора         ║
║         Сравнительные характеристики                       ║
║                                                            ║
║                                                            ║
║                                                            ║
║                                                            ║
║                                                            ║
║                                                            ║
║                                                            ║
║                                                            ║
║                                                            ║
║                                                            ║
║                                                            ║
║                                                            ║
║                                                            ║
║                           1993                             ║
║                                                            ║
╚════════════════════════════════════════════════════════════╝
                        P E N T I U M
                          processor

     История появления Pentium процессора.

     Одним обычным тихим воскресным утром 10  мая  1992  года,
четыре инженера  фирмы  INTEL  прибыли  в  аэропорт  San  Jose
International. Установив видеоаппаратуру,  Анджела Чанг,  Эрик
Деваннайн, Автар  Саини и Сухель Заатри нервозно прохаживались
по залу, ожидая с минуты на минуту самолета из Орегона.
     Когда Марк Хопман, спустя несколько минут после приземле-
ния самолета, вышел из коридора, держа в руках маленький голу-
бой  чемодан,  вся встречающая группа направилась к нему.  Все
внимание было приковано к чемодану,  в котором находился  про-
дукт разработчиков 5 Орегонской фабрики. Трудно было поверить,
что в этом чемодане находился результат трехлетнего труда мно-
гих  людей,  воплощенный  в маленький чип.  Так началась жизнь
Pentium процессора, который формально был представлен 22 марта
1993 года.
     В то время,  когда Винод Дэм делал первые наброски, начав
в июне 1989 года разработку Pentium процессора, он и не подоз-
ревал, что именно этот продукт будет одним из главных достиже-
ний фирмы INTEL.  С появлением Pentium процессора рынок компь-
ютеров сразу изменился и начался новый этап  конкуренции.  San
Microsistems,  MIPS и другие продавцы RISC процессоров, разра-
батывающие супербыстрые чипы,  безоговорочно признали, что но-
вый процессор фирмы INTEL станет стандартом для новых настоль-
ных PC.

     Процесс рождения Pentium процессора был нелегким.

     По теории, создавая процессор, команда разработчиков соз-
дает концепцию  проекта,  в  котором определяются его основные
свойства и нововведения.  Далее инженеры  проектируют  логику,
которая затем  воплощается в конкретные схемы.  Как только за-
канчивается схемотехническое  проектирование,   проектировщики
топологии прорисовывают  каждый  транзистор.  В  результате их
труда создается конечный шаблон.
     Реально же все было иначе.  Традиционный процесс проекти-
рования был  кардинально  переработан,  поскольку  требовались
ускоренные темпы реализации проекта.
     Как только команда разработчиков выполняла локальную  за-
дачу, мененджеры перераспределяли ресурсы.  Каждый инженер ре-
шал персональную задачу.  Командный дух постоянно  подвергался
таким испытаниям,  как задержки и трудности,  однако временной
план выполнения проекта от этого не  зависел.  Для  выполнения
всех задач использовались самые последние достижения автомати-
зированного проектирования. Очень пригодился опыт, накопленный
при  проектировании  и  решении  аналогичных  проблем  в  286,
Intel386 и Intel486 процессорах.
     Как только выполнялся очередной этап проекта, сразу начи-
нался процесс всеобъемлющего  тестирования.  Было  желание  не
повторить проблемы,  возникшие в свое время с Intel486, задер-
жавшие его запуск в производство. Каждая ошибка трассировалась
в обратном порядке и устранялись ее причины. Остальные инжене-
ры выполняли сотни тестирований для проверки логики,  архитек-
туры и общей конструкции.  Они выполнили более, чем 5000 уточ-
няющих тестирований,  прежде, чем Pentium процессор обрел свою
архитектуру. Для  тестирования  была  разработана  специальная
технология, позволившая имитировать  функционирование  Pentium
процессора с использованием программируемых устройств, объеди-
ненных на 14 платах с помощью кабелей. Только когда были обна-
ружены все ошибки, процессор смог работать в реальной системе.
В дополнение ко всему,  в процессе разработки  и  тестирования
Pentium  процессора  принимали  активное  участие все основные
разработчики персональных компьютеров и программного обеспече-
ния, что немало способствовало общему успеху проекта.
     В конце 1991 года,  когда была завершен макет процессора,
инженеры смогли запустить на нем программное обеспечение. Про-
екировщики начали изучать под микроскопом разводку и прохожде-
ние сигналов по подложке с целью оптимизации топологии и повы-
шения эффективности работы.
     Проектирование в  основном  было завершено в феврале 1992
года. Началось всеобъемлющее тестирование опытной партии  про-
цессоров, в течение которого испытаниям подвергались все блоки
и узлы.  В апреле 1992 года было принято решение, что пора на-
чинать промышленное  освоение  Pentium процессора.  В качестве
основной промышленной базы была выбрана 5 Орегонская  фабрика.
Более 3 миллионов транзисторов были окончательно перенесены на
шаблоны. Началось промышленное освоение производства и доводка
технических характеристик,  завершившиеся через 10 месяцев, 22
марта 1993 года широкой презентацией Pentium процессора.

     Современная микропроцессорная технология фирмы INTEL.

     Достижения фирмы  INTEL в искусстве проектирования и про-
изводства полупроводников делают возможным производить  мощные
микропроцессоры в все более малых корпусах.  Разработчики мик-
ропроцессоров в  настоящее  время  работают  с комплементарным
технологическим процесом метал-оксид  полупроводник  (CMOS)  с
разрешением менее, чем микрон.
     Использование субмикронной технологии позволяет разработ-
чикам фирмы INTEL располагать больше  транзисторов  на  каждой
подложке. Это  сделало  возможным  увеличение количества тран-
зисторов для семейства X86 от 29,000 в 8086 процессоре до  1,2
миллионов в процессоре Intel486 DX2, с наивысшим достижением в
Pentium процессоре. Выполненный по 0.8 микронной BiCMOS техно-
логии,  он  содержит  3.1  миллиона  транзисторов.  Технология
BiCMOS  объединяет  преимущества  двух технологий:  биполярной
(скорость) и CMOS ( малое энергопотребление ).  С помощью  бо-
лее,  чем  в два раза большего количества транзисторов Pentium
процессора по сравнению с Intel486,  разработчики поместили на
подложке компоненты,  ранее располагавшимися снаружи процессо-
ра.  Наличие компонентов внутри уменьшает время  доступа,  что
существенно увеличивает производительность. 0.8 микронная тех-
нология фирмы INTEL использует трехслойный метал и имеет  уро-
вень,  более высокий по сравнению с оригинальной 1.0 микронной
технологией двухслойного металла,  используемой  в  процессоре
Intel486.
     
     Фирма INTEL  использовала самые последние достижения тех-
нологии проектирования микропроцессоров для достижения преиму-
ществ, сравнимых с альтернативными архитектурами, используемы-
ми в научных и инженерных рабочих станциях, обеспечив при этом
совместимость с програмным обеспечение стоимостью $50 миллиар-
дов, наработанного для семейства микропроцессоров серии X86.
     Да и  само программное обеспечение для Pentium процессора
разрабатывалось по новой технологии. Еше на этапе проектирова-
ния аппаратных средств процессора к проекту стали привлекаться
эксперты из всех основных компаний, разрабатывающих операцион-
ные системы  и компиляторы - Microsoft,  IBM,  NeXT,  Borland,
Watcom, MetaWare и др. Это позволило на аппаратном уровне под-
держать новые  технологии программирования с учетом фирменного
стиля поставщиков  стандартного  программного  обеспечения.  С
другой стороны,  еще до рождения нового процессора использова-
лись методы классической и специльной оптимизации,  раскрываю-
щие специфические   достоинства   архитектуры  X86,  например,
использование команд загрузки-записи,  мощных режимов адресса-
ции, удаление инвариантных участков кода из циклов и т.д.  Те-
перь, только за счет  перекомпиляции  традиционных  приложений
удается повысить их производительность на новом процессоре еще
вдвое. Такого в настоящее время не может предложить не один из
конкурентов фирмы INTEL.
     
     

                      PENTIUM Processor
                      Технический обзор
     
     

     Новый процессор  "Pentium" фирмы INTEL объединяет преиму-
щества, традиционно присущие миникомпьютерам и рабочим станци-
ям, с  гибкостью  и  совместимостью,  которыми характеризуются
платформы персонльных компьютеров.
     Спроектированный для  нужд объединения все усложняющегося
современного и будующего прикладного программного обеспечения,
Pentium  процессор  расширяет диапазон микропроцессорной архи-
тектуры фирмы INTEL до новых высот, затеняемой ранее отличиями
между мощными вычислительными платформами и созданными для со-
вершенно новой области применений настольными  компьютерами  и
серверами.

           Новое поколение процессоров фирмы INTEL

     Объединяя более,  чем  3.1  миллион транзисторов на одной
кремниевой подложке, 32-разрядный Pentium процессор характери-
зуется высокой производительностью с тактовой частотой 60 и 66
МГц. Его суперскалярная архитектура использует  усовершенство-
ванные способы проектирования, которые позволяют выполнять бо-
лее, чем одну команду за один период тактовой частоты,  в  ре-
зультате чего Pentium в состоянии выполнять огромное количест-
во PC-совместимого программного обеспечения быстрее, чем любой
другой микропроцессор.  Кроме существуюших наработок программ-
ного обеспечения, высокопроизводительный арифметический блок с
плавающей запятой  Pentium  проессора  обеспечивает увеличение
вычислительной мощности до необходимой для  использования  не-
доступных ранее технических и научных приложений, первоначаль-
но предназначенных для платформ рабочих  станций.  Также,  как
локальные и  глобальные  сети  продолжают вытеснять устаревшие
иерархические сети,  управляемые  большими  ЭВМ,  преимущества
мультипроцессорности  и  гибкость операционной системы Pentium
процессора - идеал для Хост-компьютера для современных  прило-
жений клиент-серверов, применяемых в промышленности.
     Поскольку Pentium  процессор  способен  достигать  уровня
производительности равного или более высокого, чем современные
рабочие станции  высокого  уровня,  он обладает преимуществми,
которых лишены обычные рабочие станции: полная совместимость с
более, чем 50 000 программных приложений со стоимостью  милли-
арды долларов,  которые  были  написаны  под  ахитектуру фирмы
INTEL.  В дополнение, Pentium процессор позволяет использовать
все основные операционные системы,  которые доступны современ-
ным настольным персональным компьютерам,  рабочим  станциям  и
серверам, включая UNIX, Windows-NT, OS/2, Solaris и NEXTstep.

         Pentium процессор. Технические нововведения.

     Многочисленные нововведения  -  характерная   особенность
Pentium процессора в виде уникального сочетания высокой произ-
водительности,  совместимости,  интеграции данных и наращивае-
мости. Это включает:
     - Суперскалярную архитектуру;
     - Раздельное кэширование программного кода и данных;
     - Блок предсказания правильного адреса перехода;
     - Высокопроизводительный  блок вычислений с плавающей за-
пятой;
     - Расширенную 64-битовую шину данных;
     - Поддержку многопроцессорного режима работы;
     - Средства задания размера страницы памяти;
     - Средства  обнаружения  ошибок и функциональной избыточ-
ности;
     - Управление производительностью;
     - Наращиваемость с помощью Intel OverDrive процессора.

                Архитектура Pentium процессора

┌────────────────────────────────────────────────────────────┐
│                Intel Pentium Processor                     │
├────────────────────────────────────────────────────────────┤
│                        2────────────┐      8────────────┐  │
│                64-bits │    Code    │      │   Branch   │  │
│                  ┌─────┤    Cache   ├──────┤ Prediction │  │
│                  │     └────┬───────┘      └──────┬─────┘  │
│                  │  256-bits│    ┌────────────────┘        │
│                  │     3────┴────┴──┐      9────────────┐  │
│                  │     │  Prefetch  │      │            │  │
│                  │     │  Buffers   │      │            │  │
│                  │     └──┬──────┬──┘      │            │  │
│ 1────────────┐   │ 4──────┴──┐5──┴──────┐  │ Pipelined  │  │
│ │   64-bit   │   │ │ Integer ││ Integer │  │ Floating-  │  │
│─┤    Bus     ├───┤ │   ALU   ││   ALU   │  │ Point Unit │  │
│ │  Interface │   │ └──────┬──┘└──┬──────┘  │            │  │
│ └────────────┘   │     6──┴──────┴──┐   ┌──┤            │  │
│                  └─────┤  Register  │   │  │            │  │
│                64-bits │    Set     │   │  ├────────────┤  │
│                        └───┬─────┬──┘   │  │  Multiply  │  │
│                     32-bits├─────┼──────┘  ├────────────┤  │
│                        7───┴─────┴──┐64-bit│    Add     │  │
│                        │    Data    │      ├────────────┤  │
│                        │    Cache   │      │   Divide   │  │
│                        └────────────┘      └────────────┘  │
└────────────────────────────────────────────────────────────┘
     1 - 64-битовый шинный интерфейс;
     2 - Средства кэширования программного кода;
     3 - Буферы выборки с упреждением;
     4 - 32-битовый целочисленный блок АЛУ;
     5 - 32-битовый целочисленный блок АЛУ;
     6 - Набор регистров;
     7 - Средства кэширования данных;
     8 - Блок предсказания правильного адреса перехода;
     9 - Блок конвеерных вычислений с плавающей запятой.

     Суперскалярная архитектура.

┌─────────────────────────────────────┬──────────────────────┐
│         ┌────────┐      ┌────────┐  │                      │
│       ┌─┤        ├──────┤        │  │                      │
│       │ └───┬────┘      └────┬───┘  │                      │
│       │     │  ┌─────────────┘      │                      │
│       │ ┌───┴──┴─┐      ┌────────┐  │                      │
│ ┌───┐ │ │░░░░░░░░├──────┤        │  │                      │
│ ┤   ├─┤ └─┬────┬─┘      │        │  │                      │
│ └───┘ │ ┌─┴─┐┌─┴─┐      │        │  │                      │
│       │ │░░░││░░░│   ┌──┤        │  │   Суперскалярная     │
│       │ └─┬─┘└─┬─┘   │  │        │  │     архитектура      │
│       │ ┌─┴────┴─┐   │  ├────────┤  │                      │
│       │ │░░░░░░░░│   │  │        │  │                      │
│       │ └─┬────┬─┘   │  ├────────┤  │                      │
│       │   ├────┼─────┘  │        │  │                      │
│       │ ┌─┴────┴─┐      ├────────┤  │                      │
│       └─┤        │      │        │  │                      │
│         └────────┘      └────────┘  │                      │
└─────────────────────────────────────┴──────────────────────┘

     Суперскалярная архитектура Pentium процессора представля-
ет собой совместимую только с INTEL  двухконвеерную  индустри-
альную архитектуру,  позволяющую  процессору  достигать  новых
уровней производительности посредством выполнения  более,  чем
одной команды  за  один  период тактовой частоты.  Термин "су-
перскалярная" обозначает микропроцессорную архитектуру,  кото-
рая содержит более одного вычислительного блока.  Эти вычисли-
тельные блоки,  или конвееры,  являются узлами, где происходят
все основные процессы обработки данных и команд.
     Появление суперскалярной архитектуры  Pentium  процессора
представляет собой естественное развитие предыдущего семейства
процессоров с 32-битовой архитектурой фирмы  INTEL.  Например,
процессор Intel486  способен  выполнять несколько своих команд
за один период тактовой частоты,  однако предыдущие  семейства
процессоров фирмы  INTEL  требовали  множество циклов тактовой
частоты для выполнения одной команды.
     Возможность выполнять  множество  команд  за  один период
тактовой частоты существует благодаря тому,  что Pentium  про-
цессор имеет   два   конвеера,  которые  могут  выполнять  две
инструкции одновременно. Так же, как и Intel486 с одним конве-
ером, двойной конвеер Pentium процессора выполняет простую ко-
манду за пять этапов: предварительная подготовка, первое деко-
дирование (  декодирование  команды ),  второе декодирование (
генерация адреса ), выполнение и обратная выгрузка. Это позво-
ляет нескольким командам находиться в различных стадиях выпол-
нения,  увеличивя тем самым вычислительную производительность.
Каждый  конвеер имеет свое арифметическо-логическое устройство
(ALU), совокупность устройств генерации адреса и интерфейс кэ-
ширования  данных.  Так  же как и процессор Intel486,  Pentium
процессор использует аппаратное выполнение команд,  заменяющее
множество  микрокоманд,  используемых  в предыдуших семействах
микропроцессоров.  Эти инструкции включают загрузки, запомина-
ния и простые операции АЛУ, которые могут выполняться аппарат-
ными средствами процессора,  без использования микрокода.  Это
повышает производительность без затрагивания совместимости.  В
случае выполнения более сложных  команд,  для  дополнительного
ускорения производительности выполнения расширенного микрокода
Pentium процессора для выполнения команд используются оба кон-
веера суперскалярной архитектуры.

     В результате этих архитектурных нововведений,  по сравне-
нию с предыдущими микропроцессорами, значительно большее коли-
чество команд может быть выполнено за одно и то же время.

     Раздельное кэширование программного кода и данных.

┌─────────────────────────────────────┬──────────────────────┐
│         ┌────────┐      ┌────────┐  │                      │
│       ┌─┤░░░░░░░░├──────┤        │  │                      │
│       │ └───┬────┘      └────┬───┘  │                      │
│       │     │  ┌─────────────┘      │                      │
│       │ ┌───┴──┴─┐      ┌────────┐  │                      │
│ ┌───┐ │ │        ├──────┤        │  │                      │
│ ┤   ├─┤ └─┬────┬─┘      │        │  │  Кэнирование команд  │
│ └───┘ │ ┌─┴─┐┌─┴─┐      │        │  │                      │
│       │ │   ││   │   ┌──┤        │  │                      │
│       │ └─┬─┘└─┬─┘   │  │        │  │  Кэширование данных  │
│       │ ┌─┴────┴─┐   │  ├────────┤  │                      │
│       │ │        │   │  │        │  │                      │
│       │ └─┬────┬─┘   │  ├────────┤  │                      │
│       │   ├────┼─────┘  │        │  │                      │
│       │ ┌─┴────┴─┐      ├────────┤  │                      │
│       └─┤░░░░░░░░│      │        │  │                      │
│         └────────┘      └────────┘  │                      │
└─────────────────────────────────────┴──────────────────────┘
     Другое важнейшее революционное усовершенствование, реали-
зованное в Pentium процессоре,  это введение раздельного кэши-
рования. Кэширование  увеличивает производительность посредст-
вом активизации места временного хранения для часто используе-
мого программного кода и данных, получаемых из быстрой памяти,
заменяя по возможности обращение ко внешней  системной  памяти
для некоторых команд.  Процессор Intel486,  например, содержит
один 8-KB блок встроенной кэш-памяти, используемой одновремен-
но для  кэширования программного кода и данных.
     Проектировщики фирмы INTEL обошли это ограничение исполь-
зованием дополнительного контура,  выполненного на 3.1 миллио-
нах транзисторов Pentium процессора ( для сравнения,  Intel486
содержит 1.2  миллиона  транзисторов  )  создающих  раздельное
внутреннее кэширование программного кода и данных. Это улучша-
ет производительность посредством исключения конфликтов на ши-
не и делает двойное кэширование доступным чаще,  чем это  было
возможно ранее. Например, во время фазы предварительной подго-
товки, используется код команды,  полученный из кэша команд. В
случае наличия одного блока кэш-памяти, возможен конфликт меж-
ду процессом предварительной подготовки команды и  доступом  к
данным. Выполнение раздельного кэширования для команд и данных
исключает такие конфликты,  давая возможность  обеим  командам
выполняться одновременно.  Кэш-память программного кода и дан-
ных Pentium процессора содержит по 8 KB информации  каждая,  и
каждая  организована  как  набор двухканального ассоциативного
кэша  -  предназначенная  для  записи  только   предварительно
просмотренного специфицированного 32-байтного сегмента, причем
быстрее,  чем внешний кэш. Все эти особенности расширения про-
изводительности  потребовали использования 64-битовой внутрен-
ней шины данных, которая обеспечивает возможность двойного кэ-
ширования и суперскалярной конвеерной обработки одновременно с
загрузкой следующих данных.  Кэш данных имеет два  интерфейса,
по одному для каждого из конвееров,  что позволяет ему обеспе-
чивать данными две одельные инструкции в течение одного машин-
ного цикла.  После того, как данные достаются из кэша, они за-
писываются в главную память в режиме  обратной  записи.  Такая
техника кэширования   дает   лучшую   производительность,  чем
простое кэширование с непосредственной  записью,  при  котором
процессор записывает  данные одновременно в кэш и основную па-
мять. Тем не менне,  Pentium  процессор  способен  динамически
конфигурироваться для поддержки кэширования с непосредственной
записью.
     Таким образом,  кэширование данных использует два различ-
ных великолепных решения:  кэш с обратной записью и  алгоритм,
названный MESI ( модификация, исключение, распределение, осво-
бождение) протокол.  Кэш с обратной записью позволяет  записы-
вать в  кэш  без  обращения  к  основной  памяти  в отличие от
используемого до этого непосредственного простого кэширования.
Эти решения  увеличивают производитльность посредством исполь-
зования преобразованной шины и  предупредительного  исключения
самого узкого  места  в системе.  В свою очередь MESI-протокол
позволяет данным в кэш-памяти и внешней памяти совпадать - ве-
ликолепное  решение  в  усовершенствованных мультипроцессорных
системах,  где различные процессоры могут использовать для ра-
боты одни и те же данные.
     Рекомендуемый объем  общей  кэш-памяти   для   настольных
систем, основанных на Pentium процессоре,  равен 128-256 K,  а
для серверов - 256 K и выше.

     Блок предсказания правильного адреса перехода.

┌─────────────────────────────────────┬──────────────────────┐
│         ┌────────┐      ┌────────┐  │                      │
│       ┌─┤        ├──────┤░░░░░░░░│  │                      │
│       │ └───┬────┘      └────┬───┘  │                      │
│       │     │  ┌─────────────┘      │                      │
│       │ ┌───┴──┴─┐      ┌────────┐  │                      │
│ ┌───┐ │ │        ├──────┤        │  │                      │
│ ┤   ├─┤ └─┬────┬─┘      │        │  │    Предсказание      │
│ └───┘ │ ┌─┴─┐┌─┴─┐      │        │  │     правильного      │
│       │ │   ││   │   ┌──┤        │  │       адреса         │
│       │ └─┬─┘└─┬─┘   │  │        │  │      перехода        │
│       │ ┌─┴────┴─┐   │  ├────────┤  │                      │
│       │ │        │   │  │        │  │                      │
│       │ └─┬────┬─┘   │  ├────────┤  │                      │
│       │   ├────┼─────┘  │        │  │                      │
│       │ ┌─┴────┴─┐      ├────────┤  │                      │
│       └─┤        │      │        │  │                      │
│         └────────┘      └────────┘  │                      │
└─────────────────────────────────────┴──────────────────────┘
     Блок предсказания  правильного адреса перехода - это сле-
дующее великолепное решение для вычисленй,  увеличивающее про-
изводительность  посредством  полного заполнения конвееров ко-
мандами, основанное на предварительном определении правильного
набора  команд,  которые  должны быть выполнены.  Pentium про-
цессор - это первый и единственный  PC-совместимый  процессор,
использующий  блок предсказания,  который до этого традиционно
был связан с вычислительными платформами больших ЭВМ.
     Для лучшего понимания этой концепции, рассмотрим типичное
программное приложение.  После выполнения каждого программного
цикла, программа  выполняет соответствующую проверку для опре-
деления, необходимо ли возвратиться в начало цикла или выйти и
продолжить выполнение  следующего шага.  Эти два решения,  или
пути, называют предсказанием адреса перехода.  Блок предсказа-
ния правильного  адреса  перехода  прогнозирует,  какая  ветвь
программы будет затребована,  основываясь  на  допущении,  что
предыдущая ветвь,  которая была пройдена, будет использоваться
снова. Pentium процессор  выполняет  предсказание  правильного
адреса перехода,  используя специальный буфер предсказания пе-
рехода (BTB).  В отличие от  альтернативной  архитектуры,  это
программно-шаблонное нововведение  дает  возможность для пере-
компилирования программного кода, увеличивая при этом скорость
и производительность  существующего  прикладного  программного
обеспечения. Если команда управляет ветвлением программы,  бу-
фер BTB запоминает команду и адрес,  на который необходимо пе-
рейти, и предсказывает,  какая ветвь команд в следующий момент
будет использоваться. Когда буфер содержит правильное предска-
зание, переход выполняется без задержки.

    Высокопроизводительный блок вычислений с плавающей запятой.

┌─────────────────────────────────────┬──────────────────────┐
│         ┌────────┐      ┌────────┐  │                      │
│       ┌─┤        ├──────┤        │  │  Блок  конвеерных    │
│       │ └───┬────┘      └────┬───┘  │    вычислений с      │
│       │     │  ┌─────────────┘      │  плавающей запятой   │
│       │ ┌───┴──┴─┐      ┌────────┐  │                      │
│ ┌───┐ │ │        ├──────┤░░░░░░░░│  │                      │
│ ┤   ├─┤ └─┬────┬─┘      │░░░░░░░░│  │                      │
│ └───┘ │ ┌─┴─┐┌─┴─┐      │░░░░░░░░│  │                      │
│       │ │   ││   │   ┌──┤░░░░░░░░│  │                      │
│       │ └─┬─┘└─┬─┘   │  │░░░░░░░░│  │                      │
│       │ ┌─┴────┴─┐   │  ├────────┤  │                      │
│       │ │        │   │  │░░░░░░░░│  │     Умножитель       │
│       │ └─┬────┬─┘   │  ├────────┤  │                      │
│       │   ├────┼─────┘  │░░░░░░░░│  │      Сумматор        │
│       │ ┌─┴────┴─┐      ├────────┤  │                      │
│       └─┤        │      │░░░░░░░░│  │      Делитель        │
│         └────────┘      └────────┘  │                      │
└─────────────────────────────────────┴──────────────────────┘
     Наростающая волна   32-разрядных  программных  приложений
включает много интенсивно вычисляющих,  графически  ориентиро-
программ, которые занимают много процессорных ресурсов на  вы-
полнение операций с плавающей запятой,  обеспечивающих матема-
тические вычисления.  Поскольку  требования   к   персональным
компьютерам со стороны программного обеспечения по вычислениям
с плавающей запятой постоянно  возрастают,  удовлетворить  эти
потребности могут  усовершенствования в микропроцессорной тех-
нологии. Процессор Intel486 DX, например, был первым микропро-
цессором, интегрированным  на  одной подложке с математическим
сопроцессором. Предыдущие семейства процессоров  фирмы  INTEL,
при необходимости  использования  вычислений с плавающей запя-
той, использовали внешний математический сопроцессор.
     Pentium процессор  позволяет выполнять математические вы-
числения на более высоком уровне благодаря использованию  усо-
вершенствованного встроенного блока вычислений с плавающей за-
пятой, который включает восьмитактовый конвеер и аппаратно ре-
ализованные основные  математические функции.  Четырехтактовые
конвеерные команды вычислений с  плавающей  запятой  дополняют
четырехтактовую целочисленную конвееризацмю. Большая часть ко-
манд вычислений с плавающей запятой могут выполняться в  одном
целочисленном конвеере, после чего подаются в конвеер вычисле-
ний с плавающей запятой.  Обычные функции вычислений с плаваю-
щей запятой, такие как сложение, умножение и деление, реализо-
ваны аппаратно с целью ускорения вычислений.
     В результате этих инноваций,  Pentium процессор выполняет
команды вычислений с плавающей запятой в пять раз быстрее, чем
33-МГц    Intel486 DX,  оптимизируя  их  для  высокоскоростных
численных вычислений,  являющихся  неотъемлемой  частью  таких
усовершенствованных видеоприложений, как CAD и 3D-графика.
     Pentium процессор на тактовой частоте 66 МГц работает как
"числодробилка" с  рейтингом 64.5 по тесту SPECint92,  практи-
чески не уступая RISC-процессору Alpha компании Digital,  но с
тактовой частотой вдвое более высокой.
     Общая производительность Pentium процессора превосходит в
6 раз  25  МГц  Intel486 SX и в 2.6 раз - 66 МГц Intel486 DX2.
Индекс по рейтингу iCOMP для 66 МГц Pentium процессора,  кото-
рый выполняет  112  миллионов  операций в секунду,  составляет
567. Индекс  по  iCOMP  (  Intel  COmparative   Microprocessor
Peformance )  выполняет относительное сравнение производитель-
ности 32-битовых процессоров фирмы INTEL.

     Расширенная 64-битовая шина данных.

┌─────────────────────────────────────┬──────────────────────┐
│         ┌────────┐      ┌────────┐  │                      │
│       ┌─┤        ├──────┤        │  │                      │
│       │ └───┬────┘      └────┬───┘  │                      │
│       │     │  ┌─────────────┘      │                      │
│       │ ┌───┴──┴─┐      ┌────────┐  │                      │
│ ┌───┐ │ │        ├──────┤        │  │                      │
│ ┤░░░├─┤ └─┬────┬─┘      │        │  │                      │
│ └───┘ │ ┌─┴─┐┌─┴─┐      │        │  │                      │
│       │ │   ││   │   ┌──┤        │  │                      │
│       │ └─┬─┘└─┬─┘   │  │        │  │                      │
│       │ ┌─┴────┴─┐   │  ├────────┤  │                      │
│       │ │        │   │  │        │  │                      │
│       │ └─┬────┬─┘   │  ├────────┤  │                      │
│       │   ├────┼─────┘  │        │  │                      │
│       │ ┌─┴────┴─┐      ├────────┤  │                      │
│       └─┤        │      │        │  │                      │
│         └────────┘      └────────┘  │                      │
└─────────────────────────────────────┴──────────────────────┘
     Pentium процессор  снаружи  представляет собой 32-битовое
устройство. Внешняя шина данных к памяти является  64-битовой,
удваивая количество данных, передаваемых в течение одного шин-
ного цикла.  Pentium процессор  поддерживает  несколько  типов
шинных циклов, включая пакетный режим, в течение которого про-
исходит порция данных из 256 бит в кэш данных и в течение  од-
ного шинного цикла.
     Шина данных является главной магистралью, которая переда-
ет информацию между процессором и подсистемой памяти. Благода-
ря этой 64-битовой шине данных,  Pentium процессор существенно
повышает скорость передачи по сравнению с процессором Intel486
DX - 528 MB/сек для 66 МГц,  по сравнению со 160 MB/сек для 50
МГц процессора  Intel486  DX.  Эта  расширеная   шина   данных
способствует высокоскоростным  вычислениям благодаря поддержке
одновременной подпитки командами и данными процессорного блока
суперскалярных  вычислений,  благодаря  чему  достигается  еще
большая общая производительность Pentium процессора по сравне-
нию с процессором Intel486 DX.
     В общем,  имея более широкую шину  данных,  Pentium  про-
цессор обеспечивает    конвееризацию    шинных   циклов,   что
способствует увеличению пропускной способности шины. Конвеери-
зация шинных  циклов  позволяет второму циклу стартовать ранше
завершения выполнения первого цикла. Это дает подсистеме памя-
ти больше  времени  для  декодирования  адреса,  что позволяет
использовать более медленные и менее дорогостоящие  компоненты
памяти, уменьшая в результате общую стоимость системы. Ускоре-
ние процессов чтения и записи,  параллелилизм адреса и данных,
а также декодирование в течение одного цикла - все вместе поз-
воляет улучшить пропускную способность и повышает  возможности
системы.

     Мультипроцессорность.

┌────────────────────────────────────────────────────────────┐
│      Внутреннее определнние ошибок и тестирование          │
│          с помощью функциональной избыточности             │
├───────────────────────────┬────┬───────────────────────────┤
│         Master            │    │         Checker           │
│        ┌────────┐   ┌────┐│    │        ┌────────┐   ┌────┐│
│      ┌─┤        ├───┤    ││    │      ┌─┤        ├───┤    ││
│      │ └───┬────┘   └──┬─┘│    │      │ └───┬────┘   └──┬─┘│
│      │     │  ┌────────┘  │    │      │     │  ┌────────┘  │
│      │ ┌───┴──┴─┐   ┌────┐│    │      │ ┌───┴──┴─┐   ┌────┐│
│┌───┐ │ │        ├───┤    ││    │┌───┐ │ │        ├───┤    ││
│┤   ├─┤ └─┬────┬─┘   │    ││ ─┬─│┤   ├─┤ └─┬────┬─┘   │    ││
│└───┘ │ ┌─┴─┐┌─┴─┐   │    ││  │ │└───┘ │ ┌─┴─┐┌─┴─┐   │    ││
│      │ │   ││   │ ┌─┤    ││  │ │      │ │   ││   │ ┌─┤    ││
│      │ └─┬─┘└─┬─┘ │ │    ││  │ │      │ └─┬─┘└─┬─┘ │ │    ││
│      │ ┌─┴────┴─┐ │ ├────┤│  │ │      │ ┌─┴────┴─┐ │ ├────┤│
│      │ │        │ │ │    ││  │ │      │ │        │ │ │    ││
│      │ └─┬────┬─┘ │ ├────┤│  │ │      │ └─┬────┬─┘ │ ├────┤│
│      │   ├────┼───┘ │    ││  │ │      │   ├────┼───┘ │    ││
│      │ ┌─┴────┴─┐   ├────┤│  │ │      │ ┌─┴────┴─┐   ├────┤│
│      └─┤        │   │    ││  │ │      └─┤        │   │    ││
│        └────────┘   └────┘│  │ │        └────────┘   └────┘│
├─────────────┬─────────────┘  │ └──────┬──────┬─────────────┤
│             │                │  Check │      │             │
│             ├────────────────┼────────┘      │             │
│          Outputs          Inputs          IERR#            │
└────────────────────────────────────────────────────────────┘
     Pentium процессор - это идеал для наростающей волны муль-
типроцессорных систем,  а также высочайший уровень  производи-
тельности и  вычислительной мощности в области современных вы-
числительных средств.  Мультипроцессорные приложения,  которые
соединяют два  или более Pentium процессоров - хорошо обслужи-
ваются посредством усовершенствованной архитектуры кристаллов,
раздельным встроенным кэшированием программного кода и данных,
а также наборами микросхем для управления внешней  кэш-памятью
и утонченными средствами контроля целостности данных.
     Как обсуждалось  ранее,  Pentium  процессор  поддерживает
упорядоченный кэш с его MESI протоколом.  Когда один процессор
получает доступ  к  данным,  которые  кэшируются в другом про-
цессоре, он имеет возможность приема правильных данных. И если
данные модифицировались,  все процессоры получают  возможность
доступа  к  приему  данных  в модифицированном виде.  Новейший
Pentium процессор фирмы INTEL также определяет,  какие команды
распознаются  системой  в  соответствии с ипользуемым способом
программирования.  Это строго определенно подсказывает,  каким
образом программному обеспечению,  разработанному для однопро-
цессорной системы,  корректно работать в многопроцессорном ок-
ружении.

     Средства разделения памяти на страницы.

     Pentium процессор предлагает  опции  поддержки  любой  из
традиционных размеров страниц памяти - 4 KB или более широкие,
4 MB страницы.  Эта  опция  позволяет  производить  вычисление
частоты свопинга  страниц в комплексных графических приложени-
ях, буферах фреймов,  а также ядер  операционных  систем,  где
увеличенный размер  страницы  сейчас  позволяет  пользователям
перепланировать шире первоначально громоздкие объекты.  Увели-
чение страниц  дает  результат в виде повышения производитель-
ности, причем все это  отражается  на  прикладном  программном
обеспечении.

     Определение ошибок и функциональная избыточность.

     Хорошая защита   данных   и  обеспечение  их  целостности
посредством внутренних средств становится крайне важным в при-
ложениях, критичным к потерям данных благодаря распространению
современного окружения клиент-серверов.  Pentium процессор со-
держит два усовершенствования, традиционно присущих проектиро-
ванию класса больших ЭВМ -  внутреннее  определение  ошибок  и
контроль за счет функциональной избыточности ( FCR ) - это по-
могает обеспечить  целостность  данных  развивающихся  сегодня
систем, базирующихся на настольных компьютерах.
     Внутреннее определение ошибок  дополняет  битом  четности
внутренний код  и кэширование данных,  сдвиговую ассоциативную
таблицу страниц, микрокод, а также целевой буфер перехода, по-
могая определять ошибки таким образом,  что это остается неза-
метным и для пользователя,  и для системы. В то же время конт-
роль с помощью функциональной избыточности  оптимизирован  для
приложений,  критических  к  потерям данных,  где Pentium про-
цессор может работать в конфигурации  основной/контролирующий.
Если  между  двумя  процессорами  обнаруживаются  разногласия,
система извещается об ошибке.  В результате происходит обнару-
жение более, чем 99% ошибок.
     Кроме того, на подложке процессора расположено устройство
встроенного тестирования.  Самотестирование  охватывает  более
70% узлов Pentium процессора,  не  требует  выполнения  сброса
кристалла и представляет собой процедуру,  обычно используемую
при диагностике систем. Другими встроенными решениями является
реализация  стандарта  IEEE  1149.1,  позволяющая  тестировать
внешние соединения проессора и отладочный режим,  дающий  воз-
можность  программному  обеспечению  просматривать  регистры и
состояние процессора.

     Управление производительностью.

     Управление производительностью - особенность Pentium про-
цессора, что  позволяет  разработчикам  систем  и   прикладных
расширений оптимизировать   свои   аппаратные   и  программные
средства посредством определения потенциально узкого места для
программного кода. а работчики могут наблюдать и считать такты
для внутренних событий процессора,  таких,  как производитель-
ность чтения и записи данных, кэширование совпадений и выпаде-
ний,  прерываний и использования шины.  Это позволяет им изме-
рять эффективность,  которую имеет код в  двойной  архитектуре
Pentium  процессора  и  в  своих  продуктах и выполнять тонкую
настройку своих приложений или систем для достижения оптималь-
ной  производительности.  Выгода  для конечных пользователей -
это более высокие достоинства и высшая  производительность,  и
все  это благодаря хорошему взаимодействию с Pentium процессо-
ром,  пользовательской  системой  и   прикладным   программным
обеспечением.
     Давая возможность разработчикам проектировать  системы  с
управлением энергопотреблением,  защитой и другими свойствами,
Pentium процессор  поддерживаем  режим   управления   системой
(SMM), подобный режиму архитектуры Intel SL.

     Наращиваемость.

     Вместе со всем, что сделано нового для 32-битовой микроп-
роцессорной  архитектуры  фирмы   INTEL,   Pentium   процессор
сконструирован  для легкой наращиваемости с использованием ар-
хитектуры наращивания фирмы INTEL.  Эти нововведения  защищают
инвестиции пользователей  посредством  наращивания  производи-
тельности, которая помагает  поддерживать  уровень  продуктив-
ности систем,  основанных  на  архитектуре  процессоров  фирмы
INTEL, больше, чем продолжительность жизни отдельных компонен-
тов. Технология наращивания делает возможным использовать пре-
имущества большинства процессоров усовершенствованной техноло-
ги в  уже  существующих  системах с помощью простой инсталяции
средства однокристального наращивания производительности. Нап-
ример, первое  средство наращивания - это OverDrive процессор,
разработанный для  процессоров  Intel486  SX  и  Intel486  DX,
использующий технологию  простого  удвоения  тактовой частоты,
использованную при разработке микропроцессоров Intel486 DX2.
     Посредством наращивания  одного  из  этих  дополнительных
процессоров в сокет,  расположенный возле центрального микроп-
роцессора на большинстве материнских платах Intel486,  пользо-
ватели могут увеличить общую производительность системы более,
чем на 70% практически для всех программных приложений.
     Технология наращивания с  помощью  OverDrive  процессоров
возможна и  для  систем,  основанных на семействе Pentium про-
цессора, посредством простой установки в  будущем  процессора,
выполненного по  усовершенствованной  технологии.  В свою оче-
редь,  технология Pentium процессора является основой дополни-
тельного процессора,  разрабатываемого для систем,  базируемых
на Intel486 DX2.

     На сегодня Pentium процессор дает  возможность  получения
наибольшей производительности  при самой умеренной цене,  пол-
ностью поддерживая совместимость с предыдущими  микропроцессо-
рами семейства X86.
     
     Если Вы еще колеблетесь и пока не сделали выбор среди ве-
ликолепной продукции фирм Intel,  DEC,  San и пр., подумайте о
совместимости существующего аппаратного и программного обеспе-
чения !
     Intel Inside  -  это  наилучшие  гарантии качества и сов-
местимости Ваших  систем.  Вычислительные  системы  на  основе
Pentium процессора уже сегодня в широкой продаже.  А инфомация
о великолепии Digital Alpha (21064/133),  SuperSparc/40 и т.д.
может несколько поблекнуть с появлением в 1994 г.  100-МГц ва-
рианта Pentium процессора,  ведь даже сейчас, имея вдвое мень-
шую частоту ( 66 МГц ), он практически не уступает по произво-
дительности классическому  RISC - процессору Alpha (21064/133)
c тактовой частотой 133 МГц.
     
     Выбор - за Вами ...

    ──────────────────────────────────────────────────────

     Технический обзор подготовлен на основе оригинальных  ма-
териалов, любезно  предоставленных корпорацией INTEL лаборато-
рии микропроцессорных средств Радиотехнического факультета Ки-
евского политехнического института.

     Основные источники информации:

     1. The Intel Pentium Processor. A Technical Overview.
     2. Intel Solutions.

     Составление обзора и технический перевод выполнил
               Колпаков Александр Анатольевич.

  (С) 1993. Александр Колпаков. Составление и перевод.
