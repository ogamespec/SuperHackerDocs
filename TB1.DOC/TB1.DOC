.R:
.L:72
.N:18
.H:...$$$...
.H:
.H:
.X:10
.S:6
                           Г Л А В А  3
----------------------------------------------------------------
                      ТУРБО БЕЙСИК: ПРОГРАММА
----------------------------------------------------------------

                          Редактор ТУРБО.
                          ---------------                      
     Встроенный редактор ТУРБО БЕЙСИК (ТБ) специально  предназна-
чен  для  создания  исходного текта программы.  Если вы знакомы с 
программой "УордСтар" (WordStar),  созданной компанией  MicroPro, 
то вы уже знаете,  как пользоваться редактором, поскольку команды 
их практически идентичны.  
     При выборе режима Edit (Редактирование) из основного меню ТБ 
в верхней части экрана высвечивается  окно  этого  режима,  пока-
зывая,  что  вы  "вошли"  в  редактор.  Для выхода из редактора и 
возврата в шкалу основного меню нажмите  Esc  (данные  окна  Edit 
остаются на экране).  
     Текст вводится легко, как при использовании пишущей машинки.  
Для  окончания строки нажмите клавишу Enter (Ввод).  Когда вводи-
мые вами строки заполнят весь экран,  верхняя строка  "убежит"  с 
экрана.  Не  беспокойтесь  - она не пропала совсем;  и вы сможете 
перемещаться назад и вперед по тексту,  используя команды  "прок-
рутки" текста, описываемые ниже.  
     В  редакторе ТБ,  в отличие от "УордСтар" ,  имеется возмож-
ность команды "отмены",  позволяющая отменить  внесенные  измене-
ния,  если  данная строка еще не окончена.  Эта команда (Ctrl-QL) 
описана в разделе "Разные команды редактирования".  
     Давайте теперь рассмотрим информацию, содержащуюся  в строке
состояния окна редактора:

 X:  Filename.typ   Line    Col      Insert   Indent  Tab
 X:  Имя файла.тип  Строка  Колонка  Вставка  Отступ  Табуляция

     Имя файла.тип
     Показывает рабочий дисковод,  имя и расширение текущего фай-
ла. Если имя файла с расширением - NONAME.BAS (БЕЗЫМЯННЫЙ.БЕЙЗ) - 
это  означает, что вы еще не присвоили имени файлу,  а за вас (по  
умолчанию) это сделала система ТВ, назвав ваш файл NONAME.BAS.  

     Строка
     Показывает номер строки в которой находится курсор  (относи-
тельно верхней границы файла, а не экрана).

     Колонка
     Показывает номер колонки, в которой находится курсор.

     Вставка
     Показывает, что включен режим "Вставка".  В этом режиме зна-
ки, вводимые с клавиатуры вставляются в позиции курсора. Текст за 
курсором,  (т.е.  справа  от  него)  сдвигается  вправо  по  мере 
введения символов. Для переключения режимов редактора "Вставка" и 
"Замена" используются клавиши Insert (Вставка) или Ctrl -V. В ре-
жиме "Замена" символы,  вводимые с клавиатуры,  накладываются  на 
позицию курсора, текст справа от курсора остается неподвижным.  
     ВНИМАНИЕ:  Новые  строки  текста  в режиме "Замена" не могут 
быть введены.  

     Отступ
     Показывает,  включен ли  авто-отступ.  Отключается  командой 
включения/отключения, Ctrl-OI.  

     Табуляция
     Показывает, включена или выключена табуляция. Выбор произво- 
дят клввишами Ctrl-OT.  

                        Работа в редакторе.
                        -------------------
     Работая с любым редактором важно знать, как двигать  курсор.  
В редакторе ТБ его можно передвигать по экрану с помощью  клавиши

Ctrl и одновременным нажатием  клавиши одного из управляющих сим-
волов: A,S,D,F,E,R,X,C,W и Z.  
     Эти знаки  так расположены на клавиатуре,  что легко опреде-
лить их назначение. Например, на таком дисплее:

   E
S     D
   X

нажатием Ctrl-E перемещаем курсор вверх; Ctrl-X - вниз;  Ctrl-S -
влево; Ctrl-D - вправо.
    В редакторе используется около 50 команд для перемещения кур-
сора, "перелистывания" текста,  поиска и замены строк, и т.п.
     Эти команды можно сгруппировать по следующим категориям:
 - Команды перемещения курсора
 - Команды вставки и стирания
 - Команды для работы с выделенными фрагментами - "блоками"
 - Разные команды
     Каждая группа содержит логически связанные команды,  описан-
ные  в следующих разделах (Команды приведены в Таблице 3-1.) Каж-
дый элемент таблицы состоит из определения команды  и  комбинации 
клавиш для ее выполнения.  

                    Таблица 3-1.  Команды редактора
-----------------------------------------------------------------
Команды перемещения курсора            Используемые клавиши

    На символ влево                    Ctrl-S  или Левая стрелка
    На символ вправо                   Ctrl-D  или Правая стрелка
    На слово влево                     Ctrl-A
    На слово вправо                    Ctrl-F
    На строку вверх                    Ctrl-E  или стрелка вверх
    На строку вниз                     Ctrl-X  или стрелка вниз
    Прокрутка вверх                    Ctrl-W
    Прокрутка вниз                     Ctrl-Z
    Страница  вверх                    Ctrl-R  или клавиша PgUp
    Страница  вниз                     Ctrl-C  или клавиша PgDn

Расширенные команды перемещения

    В начало строки                    Ctrl-QS или клавиша Home
    В конец строки                     Ctrl-QD или клавиша End
    В начало окна                      Ctrl-QE
    В конец окна                       Ctrl-QX
    В начало файла                     Ctrl-QR
    В конец файла                      Ctrl-QC
    В начало блока                     Ctrl-QB
    В конец блока                      Ctrl-QK
    В последнюю позицию курсора        Ctrl-QP

Команды вставки и стирания

    Режим вставки включить/выключить   Ctrl-V
    Вставить строку                    Ctrl-N
    Стереть  строку                    Ctrl-Y
    Стереть до конца строки            Ctrl-QY
    Стереть знак слева от курсора      Ctrl-H   или клавиша 
                                                Backspace
    Стереть знак под курсором          Ctrl-G   или клавиша Del
    Стереть слово справа               Ctrl-T

Команды работы с блоками

    Маркировать начало блока           Ctrl-KB  или F7
    Маркировать конец  блока           Ctrl-KK  или F8
    Маркировать одно слово             Ctrl-KT
    Копировать блок                    Ctrl-KC
    Перелистать блок                   Ctrl-KV

                  Таблица 3-1.  Команды редактора
                  (продолжение)
  -------------------------------------------------------------
Команды работы с блоками (продолжение)
  
    Стереть блок                                Ctrl-KY
    Считать блок с диска                        Ctrl-KR
    Записать блок на диск                       Ctrl-KW
    Показать/убрать маркировку блока            Ctrl-KH
    Печатать блок                               Ctrl-KP

    Разные команды

    Закончить редактирование, не записывать     Ctrl-KD, Ctrl-KQ 
                                                или Esc
    Записать и редактировать                    Ctrl-KS  или F2
    Новый файл                                  F3
    Табуляция                                   Ctrl-I
    Режим табуляции                             Ctrl-OT
    Включение/выключение авто-отступа           Ctrl-QI
    Восстановить строку                         Ctrl-QL
    Установить маркер                           Ctrl-KN
    Найти маркер                                Ctrl-QN
    Найти                                       Ctrl-QF
    Найти и заменить                            Ctrl-QA
    Повторить последний поиск                   Ctrl-L
    Префикс управляющего символа                Ctrl-P
    Прервать работу                             Ctrl-U
    Восстановить сообщение об ошибке            Ctrl-QW
-----------------------------------------------------------------

              Основные команды перемещения курсора.
              -------------------------------------
     Ниже приведениы некоторые основные  команды, которые позволят 
Вам начать редактирование файла.

  На знак влево                      Ctrl-S или левая стрелка
     Перемещает курсор на один знак влево.

  На знак вправо           Ctrl-D или правая стрелка
     Перемещает курсор на один знак вправо.

  На слово влево           Ctrl-A
     Перемещает  курсор на начало следующего слова слева.  (Слово 
определяется как последовательность символов, разделяеая одним из 
следующих символов: "пробел" < > , ; . ( ) [ ] * + - / $
     Эта команда работает и при переносе строки.

  На слово вправо          Ctrl-F
     Перемещает курсор на начало следующего слова справа. (См.оп-
ределение слова в "На слово влево")
     Эта команда работает и при переносе строки.

  На строку вверх          Ctrl-E или стрелка вверх
     Перемещает курсор на одну строку вверх.

  На строку вниз           Ctrl-X или стрелка вниз
     Перемещает курсор на одну строку вниз.

  Прокрутка вверх          Ctrl-W
     Прокручивает текст к началу файла по одной строке за  каждое 
нажатие клавиши (весь "экран" сдвигается вниз).  

  Прокрутка вниз           Ctrl-Z
     Прокручивает  текст  к концу файла по одной строке за каждое 
нажатие клавиши (весь "экран" сдвигается вверх).  

  Перелистывать вверх      Ctrl-R или PgUp
     Перемещает курсор на одну  дисплейную  страницу,  без  одной 
строчки, "вверх".  

  Перелистывать вниз       Ctrl-C или PgDn
     Перемещает  курсор  на  одну дисплейную страницу,  без одной 
строчки, "вниз".  

                 Расширенные команды перемещения.
                 --------------------------------
    Иногда может возникать необходимость более быстрого перемеще-
ния  по  файлу,  чем  позволяют  основные команды перемещения.  В 
редакторе есть шесть команд на перемещение к краям строк,  началу 
и концу файла и к последней позиции курсора.  

 К началу строки           Ctrl-QS или Home.
     Перемещает курсор к началу текущей строки (колонка 1).

 К концу  строки           Ctrl-QD или End.
     Перемещает курсор к концу текущей строки.

 В верхнюю строку экрана   Ctrl-QE
     Перемещает курсор в левый верхний угол экрана.

 В нижнюю строку экрана    Ctrl-QX
     Перемещает курсор в левый нижний угол экрана

 В начало файла            Ctrl-QR
     Перемещает курсор на первый символ файла.

 В конец файла             Ctrl-QC
     Перемещает курсор на последний символ файла.

     И наконец,  префикс Ctrl-Q с управляющими символами B, K или
P позволяет переместиться к определенным позициям в тексте.

 К началу блока            Ctrl-QB
     Перемещает  курсор к маркеру начала блока,  устанавливаемому 
командой Ctrl-KB. Команда действует даже если маркировка блока не 
показана.(См.  "Показать/убрать маркировку блока" в разделе  "Ко-
манды  для  работы  с  блоками"),  или не установлен маркер конца 
блока.  

 К концу блока             Ctrl-QK
     Перемещает курсор к маркеру "конец блока",  устанавливаемому 
командой Ctrl-KK. Команда действует даже если маркировка блока не 
показана.(См.  "Показать/убрать  маркировку блока" в разделе "Ко-
манды для работы с блоками"),  или не  установлен  маркер  начала 
блока.  

 В последнюю позицию курсора  Ctrl-QP
     Перемещение в позицию курсора перед последней командой. Дан-
ная  команда особенно удобна после выполнения операций поиска или 
поиска/замены,  когда  нужно  вернуться к последней позиции перед 
выполнением этих операций.  

                    Команды вставки и стирания.
                    ---------------------------
     Невозможно написать программу простыми перемещениями курсора 
по экрану  нужно иметь возможность вставлять и  стирать  текст. 
     Следующие команды позволяют  вставлять  и  стирать  символы, 
слова и строки.  

 Включение/выключение режима "Вставка"      Ctrl-V или Ins
     При введении текста выбирают один из двух  основных  режимов 
ввода:  Вставка (Insert) или Замена (Owerwrite).  Переключать эти 
режимы можно нажатием Ctrl-V или Ins. Текущий режим высвечивается 
в строке состояния на верху экрана.  

     Режим вставки,  являющийся режимом  редактора  по  умолчанию, 
позволяет  вставлять  новые  знаки/символы  в существующий текст.  
Текст справа от курсора при этом просто смещается вправо по  мере 
введения нового текста.  

    Режим  замены  используется для записи нового текста на месте 
старого;  вводимый новый символ заменяет старый в положении  кур-
сора. В этом режиме невозможна вставка новых строк текста.  

 Стирать символы влево от курсора           Ctrl-H или Backspase
     Перемещает курсор на один знак влево, стирая расположенный в 
этой позиции символ.  Любые символы справа от курсора перемещают-
ся на один символ влево.  Команду можно использовать  для  отмены 
переноса строк.  

 Стирать знак в положении курсора           Ctrl-G или Del
     Стирает  символ в положении курсора и сдвигает любой символ, 
расположенный справа от курсора, на один разряд влево. Команда не 
работает при переносе строки.  

 Стирать слово справа от курсора            Ctrl-Т
     Стирает  слово  справа  от  курсора.  Команда  работает  при 
переносе  строки  и  может  быть использована для отмены переноса 
строки.  

 Вставить строку                            Ctrl-N
     Переносит строку, начиная с позиции курсора.

 Стереть строку                             Ctrl-Y
     Стирает строку с курсором и перемещает  строки,  находящиеся 
под ней , на одну строку вверх.  

 Стереть до конца строки                    Ctrl-QY
     Стирает весь текст от курсора и до конца строки.  


                     Команды работы с блоками.
                     -------------------------
     Команды  работы  с  блоками  требуют выполнения определенной 
командной последовательности управляющих  символов.  Если  вы  не 
совсем  уверенно  чувствуете  себя  на данном этапе,  вернитесь к 
этому разделу, когда вам необходимо будет перемещать, стирать или 
копировать значительные куски текста.  А для упрямо стремящихся к 
цели - продолжим!  
    Текстовой блок - это любое количество текста,  от дного знака 
до сотен строк, заключенное в специальные маркерные символы.  Од-
новременно  в тексте можно создать только один блок.  Блок марки-
руется установкой начального маркера перед первой,  а конечного -
после последней буквы желаемого куска текста.  Маркированный еди-
ножды блок можно копировать, перемещать, стирать или записывать в 
файл.  

 Маркировать (отметить) начало блока        Ctrl-KB или F7
     Маркирует  начало  блока.   Сам  маркер  невидим,   а   блок 
выделяется    только    после    установки   конечного   маркера. 
     Маркированный текст (блок) выделяется интенсивным свечением. 

 Маркировать конец блока                    Ctrl-KК или F8
     Маркирует конец блока. Сам маркер невидим, а блок выделяется 
только если установлен и начальный маркер.  

 Маркировать одно слово                     Ctrl-КТ
     Маркирует слово как  блок,  заменяя  всю  последовательность 
"начало  /конец  блока".  Если  курсор  расположен на любой букве 
слова - маркируется  это  слово.  Если  же  курсор  вне  слова  - 
маркируется слово, расположенное слева от него.  

 Показать/убрать маркировку блока           Ctrl-КН
     Включает  или  выключает  высвечивание маркированного блока.  

     Команды  операций  с   блоком   (копирование,   перемещение, 
стирание  и  запись  в  файл)  работают только при "показываемом" 
блоке.  Перемещения  курсора в конец или на начало блока (команды 
"К  концу  блока",  "К  началу  блока") срабатывают независимо от 
этого.  

 Копировать блок                            Ctrl-КС
     Копирует   предварительно  маркированный  блок  в  положение 
курсора.  Исходный блок не изменяется,  а маркеры перемещаются  с 
новой  копией блока.  Если нет маркированного блока,  либо курсор 
находится внутри маркированной области - команда не работает.  

 Переместить блок                           Ctrl-KV 
     Перемещает предварительно  маркированный  блок  в  положение 
курсора.  Блок исчезает со своего исходного положения,  а маркеры 
перемещаются с блоком на новую позицию.  Если нет маркированного 
блока - команда не работает.  

 Стереть блок                               Ctrl-KY
     Стирает  предварительно  маркированный  блок.   Восстановить 
стертый блок невозможно,  поэтому будьте внимательны при работе с 
этой командой.  

 Записать блок на диск                      Ctrl-KW
     Записывает предварительно маркированный блок в файл. Блок не 
изменяется;  маркеры  остаются  на  месте.  После  выдачи команды 
машина запросит имя файла, в который следует записать блок. Файлу 
может  быть  присвоено  любое  допустимое  имя   (расширение   по 
умолчанию  -  .BAS). Если вы предпочитаете имя файла без расшире-
ния, поставьте точку в конце имени.  
    Для записи файлов на место  существующих  можно  использовать 
шаблоны; название каталога высвечивается на экране.  Если указан-
ный файл существует,  то перед записью на экране появляется  таб-
личка-предупреждение.  Если нет маркированного блока - команда не 
работает.  

 Считать блок с диска                       Ctrl-KR
     Считывает файл с диска в текущий текст  в  позиции  курсора, 
как  если бы это был блок.  Считанный текст маркируется как блок. 
При выдаче этой команды машина  запрашивает  имя  файла,  который 
следует    считывать.   Можно   использовать  шаблоны  -  каталог 
высвечивается на  экране.  Указываемый  файл  может  иметь  любое 
допустимое имя.  

 Печатать блок                              Ctrl-KP
     Направляет  маркированный  блок  на  принтер.  Если  блок не 
маркиро ван или маркировка убрана. печатается весь файл.  

                  Разные команды редактирования.
                  ------------------------------                  
     В  данном разделе описаны команды,  не входящие ни в одну из 
вышеописанных категорий.  

 Прекратить, не записывать      Ctrl-KD, Ctrl-KQ или Esc
     Прекращает редактирование и выводит в основное меню.  

     Запись отредактированного файла на диск выполняется:  
     -  по команде Save (сохранить) из набора команд для файлов в 
        основном меню; 
     -  автоматически,  с помощью  команды  Auto save  из  набора 
        "Разные команды" в Наборном меню (Setup Menu) или в самом 
        редакторе (см.  следующую команду).  

 Записать и редактировать       Ctrl-KS или F2
     Записывает файл и остается в редакторе.

 Новый файл                     F3
     Позволяет стереть  текст  текущего  редактируемого  файла  и 
создать  новый  файл;   либо  просто  создает  новый  файл,  если 
редактируемого нет.  При нажатии клавиши F3  машина  запрашивает, 
хотите ли вы записать текущий текстовой файл, если он есть.  

 Табуляция                      Ctrl-I или Tab
     Метки  табуляции в редакторе ТУРБО БЕЙСИКа установлены через 
8 колонок.  

 Режим табуляции                Ctrl-OT
     Включает  и  выключает  режим  табуляции.  Когда  на  экране 
высвечивается надпись "Tab" - можно вводить метки табуляции;  при 
выключенном  режиме табуляции автоматически устанавливается на на 
начало первого слова предыдущей строки.  (При включенном  режиме 
табуляции автоотступ не работает.) 

 Включение/выключение автоотступа   Ctrl-OI
     Осуществляет автоматический отступ.  Во включенном состоянии 
отступ текущей строки повторяется на каждой последующей, т.е. при 
нажатии клавиши Enter(Ввод) курсор возвращается не  в  первую ко-
лонку,  а  в начальную колонку следующей строки,  соответствующей 
начальной колонке предыдущей строки. Если вы хотите изменить  ве-
личину  отступа,  пользуйтесь  клавишами Пробел или Стрелка Влево 
для выбора новой начальной колонки.  Если автоотступ  включен,  в 
строке  состояния  высвечивается  сообщение Indent(Отступ);  если 
выключен - надписи нет. Автоотступ включается по умолчанию.  (При 
включенном режиме табуляции автоотступ не работает.) 

 Восстановить строку            Ctrl-QL
     Позволяет  отменить  все изменения в строке,  если вы еще не 
"ушли" с нее.  Строка  восстанавливается  в  первоначальном  виде 
независимо от внесенных изменений.  

 Установить метку позиции       Ctrl-KN
     Позволяет  отметить четыре позиции в тексте нажатием клавиши 
Ctrl -K и одной цифры (0-3).  Отметив позицию, вы можете работать 
в  любом  месте файла,  а затем очень быстро вернуться в исходную 
позицию нажатием Ctrl-QN  (убедитесь только,  что вы ввели тот же 
номер метки).  

 Найти метку позиции            Ctrl-QN
     Находит до четырех меток позиции в тексте (0-3).  Перемещать 
курсор к любой предварительно поставленной метке  можно  нажатием 
клавиши Ctrl-QP и номер метки.  

 Найти                          Ctrl-QF
     Позволяет  найти  цепочку,  включающую  до  30  знаков.  При 
введении данной команды  строка  состояния  очищается,  и  машина 
запрашивает  искомую  цепочку.  Введите искомую цепочку и нажмите 
клавишу Enter.  Искомая  цепочка  может  содержать  любые  знаки, 
включая управляющие символы,  которые следует вводить,  используя 
префикс Ctrl-P.  Например, вводите Ctrl-T, удерживая клавишу Ctrl 
и нажимая P, а затем T.  В искомую цепочку можно включить также и 
перенос  строки  введением   Ctrl-MJ   (возврат   каретки/перевод 
строки).  Обратим внимание, что Ctrl-A имеет специфический смысл: 
она  сличает  любые  знаки   и   може   быть   использована   для 
универсальной выборки при поиске цепочек.  
     Искомую  цепочку  можно  редактировать  командами  "На  знак 
влево/вправо",   "На  слово  влево/вправо".   "На  слово  вправо" 
вызывает  предыдущую  искомую  цепочку,   которую   затем   можно 
редактировать.  Поиск можно прервать командой "Прервать работу" - 
Ctrl-U.  
     После введения искомой цепочки  машина  запрашивает  вариант 
поиска. Возможные варианты включают : 

     B   -поиск в обратном направлении от текущего положения кур-
          сора к началу текста;
     G   -ведет  глобальный  поиск по всему  тексту независимо от 


          текущего  положения  курсора  и  останавливается только  
          на последнем употреблении искомой цепочки;
     n   -где  n соответствует числу , находит n-ное употребление 
          искомой цепочки,  отсчитывая от текущего положения кур-
          сора;
     N   -находит следующее употребление искомой цепочки от теку-
          щего положения курсора в файле.  Обратите внимание, что 
          вариант G замещает N  при  их  одновременном  использо-
          вании;  

     U   -игнорирует различия "строчная/прописная";

     W   -находит только целые слова, пропуская подходящие наборы 
          знаков, имеющиеся в словах или сочетаниях;

     Например:

     W   -находит только целые слова. Искомая цепочка "term"  бу-
          дет соответствовать слову "term", но не "terminal".

     BU  -ищет в обратном направлении,  игнорируя разницу пропис-
          ных/строчных  знаков.  "Block"  будет соответствовать и 
          слову "blockhead", и слову "BLOCKADE", и т.п.  

     125 -находит 125-й случай употребления искомой цепочки.

     Завершить список вариантов поиска можно  нажатием  Enter,  и 
машина начнет поиск.  Если в тексте есть набор знаков,  соответс-
твующий искомой цепочке,  курсор остановится в конце этого  набо-
ра,  или  в его начале при "обратном" поиске.  Поиск можно повто-
рить командой "Повторить последний поиск" (Ctrl-L).  

 Найти и заменить               Ctrl-QA
     Эта операция работает идентично выполнению команды  "Найти", 
с  той  разницей,  что  можно  заменить  найденную  цепочку любой 
другой,  содержащей до 30 знаков.  Обратите внимание,  что Ctrl-A 
может  быть  использована  для  универсальной выборки при команде 
"найти",   но  не  имеет  специального  назначения  при   команде 
"заменить".  
     После  ввода  искомой цепочки машина запрашивает цепочку для 
замены искомой.  Введите до 30 знаков;  ввод и редактирование уп-
равляющих символов как описано в подразделе "Команда Найти".  Ес-
ли вы просто нажмете клавишу Enter,  то  соответствующий  искомой 
цепочке  набор  в  тексте  будет заменен "ничем" - попросту гово-
ря,стерт.  
     Выбор вариантов,как и в команде "Найти",  со следующими  до-
полнениями:  
 
     N  -Заменяет, не запрашивая подтверждения по каждому  случаю
         употребления искомой цепочки.

     n  -Заменяет  следующие  n  случаев употребления искомой це-
         почки. Выполняемая однлвременно с вариантом G,  проводит 
         поиск от начала файла;  в противном случае - от текущего 
         положения курсора.

     Например:

     N10 -Находит  следующие  десять случаев употребления искомой 
          цепочки и заменяет без запроса.

     GW  -Находит и заменяет целые слова по всему тексту, игнори-

          руя различия "строчная/прописная".  Запрашивает цепочку 
          для замены.  

     GNU -Находит  по  всему  тексту  строчно-прописные маленькие 
          "похожие  на  антилоп"  создания (дошло?) и заменяет их 
          без запроса.  

    И вновь завершить список вариантов можно  нажатием  Enter,  и 
машина  начнет  поиск и замену.  Когда искомая цепочка найдена (и 
если не указан вариант N), курсор помещен в конец цепочки,  и ма-
шина  спрашивает "Заменить (Да/Нет)(Y/N)" на строке запроса ввер-
ху экрана.  В этот момент можно прервать исполнение команды "Най-
ти  и  заменить"  командой "Прервать работу" (Ctrl-U).  Повторить 
работу "Найти и заменить"  можно  командой  "Повторить  последний 
поиск" (Ctrl-L).  

 Повторить последний поиск          Ctrl-L
     Повторяет  последнее  исполнение команд "Найти" или "Найти и 
заменить" так, как будто вся информация введена заново.  

 Префикс управляющего символа       Ctrl-P
     Позволяет вводить  в  файл  управляющие  символы,  используя 
перед  желаемым  символом  префикс  Ctrl-P;  т.е.  сначала нажать 
Ctrl-P,  а затем клавишу управляющего символа. На экране управля-
ющие   символы  будут  представлены  прописными  буквами  меньшей 
яркости  (или  наоборот,  в  зависимости  от  заданной  установки 
экрана).  

 Прервать работу                    Ctrl-U
     Позволяет прервать исполнение любой команды при ее остановке 
для ввода,  например,  по запросу команды "Найти" или при запросе 
машины "Заменить (Да/Нет)(Y/N)",  или при вводе  искомой  цепочки 
или имени файла (Читать или записывать блок).  

 Восстановить сообщение об ошибке   Ctrl-QW
     Нажмите  данные  клавиши  для  восстановления  сообщения  об 
ошибке после его исчезновения из окна "Ошибка" строки состояния.  

              Сравнение Редакторов ТБ и "УордСтар".
              -------------------------------------
     Многие команды Редактора ТБ несколько  отличаются  от  "УС", 
некоторые  команды,  которых  нет  в  "УС",  были  добавлены  для 
расширения  возсожностей  редактирования  исходного  программного 
текста. Ниже рассмотрены эти различия.  
     Команды перемещения курсора в ТБ:  Ctrl-S,  Ctrl-D, Ctrl-E и
Ctrl-X  свободно перемещают его по экрану,  не перескакивая в ко-
лонку 1 на свободных строках.  Это не значит, что на экране много 
свободных  мест  -  напротив,  все конечные пробелы автоматически 
устраняются.   Такие  возможности  перемещения  курсора  особенно 
привлекательны при составлении программ,  например, для сопостав-
лении смещенных пар FOR/NEXT.  
     Ctrl-S и Ctrl-D не работают при переносе строк.  Для переме-
щения с одной строки на другую следует использовать Ctrl-E,  Ctrl 
-X или Ctrl-F.  

     В ТБ символы "возврат каретки" не могут быть введены в конце 
файла  в  режиме  "Замена"(Owerwrite);  т.е.  если  режим "Встав-
ка"(Insert) выключен,  нажатием Enter  в  онце  файла  невозможно 
вставить  символ  возврата каретки или переместить курсор на сле-
дующую строку.  Можно, однако либо включить режим "Вставка", либо 
использовать  команду Ctrl-N в режиме "Замена" для ввода "возвра-
та каретки".  
     Последовательность Ctrl-Q  Del  -  стереть с текущей позиции
курсора до начала строки, выполняемая в "УС",  - не обеспечивает-
ся в ТБ.  
     ТБ  позволяет  маркировать отдельное слово как блок командой 
Ctrl-KT.  Это гораздо удобнее  двухшаговой  команды  "УС",  когда 
приходится отдельно маркировать начало и конец одного слова.  
     Поскольку редактирование в ТБ полностью осуществляется в ЗУ, 
команда Ctrl-KD не меняет файл на диске,  как в "УС".  Обновление 
дискового   файла   осуществляется   выполнением   команды   "За-
пись"(Save)  в меню Работа с Файлами или автоматически в варианте 
Auto save(Автоматическая запись) набора "Разных команд" из "Setup 
Menu"(Наборное меню). Можно также использовать F2 или Ctrl-KS.  

     Команда Ctrl-KQ в ТБ не адекватна Ctrl-KQ (прекратить редак-
тирование) "УС".  Измененный текст не выбрасывается. - он остает-
ся в памяти, готовый к компилированию и записи.  
     Команда Ctrl-QL в ТБ восстанавливает строку  в  ее  первона-
чальном виде (до редактирования),  пока курсор остается на данной 
строке.  

     Команда Ctrl-IQ в ТБ включает/выключает режим автоотступа.
     И, наконец, последнее, но не менее важное, клавиша Backspace
(обратный пробег) в ТБ работает,  как клавиша  Del  (Стирание)  в 
"УС"  -  она  стирает символы слева от курсора.  Клавиша Del в ТБ 
стирает знаки в позиции курсора.  

                            Компилятор.
                            -----------
     Компилятор  ТБ,  написанный  полностью  на  ассемблере,  это 
высокоэффективный  транслятор.  Для  запуска  компилятора нажмите 
клавишу  C  (от  английского  Compile)  в  основном  меню.  Когда 
основной  файл  установлен,  машина может запросить,  если нужно, 
хотите ли вы сохранить текущий рабочий файл.  Если да  -  текущий 
файл   записывается,   программа   выходит  в  основной  файл  и 
начинается компиляция.  
     Компилятор записывает компилируемую программу либо в ЗУ(  по 
умолчанию),  либо  на  диск,  в зависимости от установки текущего 
варианта "Compile to" ("Компилировать в...") Наборного  меню.  По 
мере работы компилятор отсчитывает увеличение на 20 числа строк и 
операторв, обработанных на текущий момент. Состояние компиля-тора 
отображается в окне "Сообщения"(Message).  
     При  обнаружении  ошибки автоматически вызывается редактор и 
курсор ставится в положение ошибочного  оператора.  Сообщение  об 
ошибке  высвечивается  в  верхней строке редактора.  После снятия 
ошибки вновь появляется строка состояния.  Для восстановления со-
общения об ошибке на жмите Ctrl-QW.  
     По завершении компиляции в окне Сообщения показывается общее 
число  строк  и операторов в программе,  а также объем свободного 
места в памяти для компиляции (см. рис. 3-1).  Обратите внимание, 
что  свободной  памяти  остается  гораздо больше при компиляции в 
файлы типа EXE или TBC чем при компиляции в ЗУ.

 ┌─────────────────────────────────────────────────────────┐
 │ File  Edit  Exe  Compile  Options  Setup  Window  Debug │
 ├──────────────────────────────────────────────────┬──────┤
 ├─────────────────────Еdit────────────────────────┐│Trace │
 │  C:NONAME.BAS  Line 1  Col 17 Insert Indent Tab ││      │
 │  WHILE -1                                       ││      │
 │      FOR N=1 TO 0                               ││      │
 │          READ A$                                ││      │
 │          PRINT A$                               ││      │
 │      NEXT N                                     ││      │
 │      PRINT                                      ││      │
 │      RESTORE                                    ││      │
 │  WEND                                           ││      │
 ├─────────────────────────────────────────────────┘│      │
 ├─────────── Message ─────────┐┌─────── Run ──────┐│      │
 │Compiling: MYFIRST           ││                  ││      │
 │Line:     9   stat    11     ││                  ││      │
 │Code:     3394               ││                  ││      │
 ├─────────────────────────────┴┴──────────────────┴┴──────┤
 │F1-Help  F5-Zoom  F7-Gate  SCBOOL-Size/weve    Alt-X-Edit│
 │                                                         │
 └─────────────────────────────────────────────────────────┘
            Рисунок  3-1.  Экран при ко	пиляции.

     В  трехстрочном резюме выходной программы,  представленном в 
шестнадцатиричном формате,  приведены размеры кодовых  сегментов, 
стек и область данных сгенерированной программы.  

                          Основное меню.
                          --------------                         
     ТУРБО БЕЙСИК работает с помощью наборов команд,  всплывающих 
и спускающихся меню,  а также обеспечивает четыре окна для  среды 
программирования  (показанных  на  рис.  3-2).  В  данном разделе 
рассмотрено  действие  каждой из команд  основного  меню,  и  со-
ответствующие  им  всплывающие  и спускающиеся  меню  и  варианты  
(если такие имеются).  

 ┌─────────────────────────────────────────────────────────┐
 │ File  Edit  Exe  Compile  Options  Setup  Window  Debug │
 ├──────────────────────────────────────────────────┬──────┤
 ├─────────────────────Еdit────────────────────────┐│Trace │
 │  C:NONAME.BAS  Line 1  Col 17 Insert Indent Tab ││      │
 │                                                 ││      │
 │                                                 ││      │
 │                                                 ││      │
 │                                                 ││      │
 │                                                 ││      │
 │                                                 ││      │
 │                                                 ││      │
 │                                                 ││      │
 ├─────────────────────────────────────────────────┘│      │
 ├─────────── Message ─────────┐┌─────── Run ──────┐│      │
 │                             ││                  ││      │
 │                             ││                  ││      │
 │                             ││                  ││      │
 ├─────────────────────────────┴┴──────────────────┴┴──────┤
 │F1-Help  F5-Zoom  F7-Gate  SCBOOL-Size/weve    Alt-X-Edit│
 │                                                         │
 └─────────────────────────────────────────────────────────┘
            Рисунок  3-2. Основное меню.

     Для выбора и вызова функции в основном меню нажмите клавишу, 
соответствующую  помеченной  прописной  букве желаемого варианта, 
или используйте клавиши "стрелок"  для  перемещения  на  желаемый 
вариант и нажмите Enter.  Нажатие, например, клавиши E (для Edit) 
запускет Редактор.  В этом случае уже не  нужно  нажимать  Enter.  
Для  выхода  из  любого  спускающегося меню просто нажмите Esc (и 
более одного раза,  если вы работаете  в  всплывающем  меню)  для 
возврата в основное меню.  
     Если вы работаете в окне Редактора, или любом из всплывающих 
или спускающихся меню,  нажатием Alt и первой буквы верхнего меню 
можно войти в этот вариант.  
     Установить цвета, каталоги и другие характеристики можно че-
рез спускающиеся Наборные (Setup) меню  (описанные  ниже).  Любые 
изменения  можно  сохранить  в  .TB-файле  или  непосредственно в 
TB.EXE в каталоге системы ТБ (каталог Turbo).  Файл .TB по  умол-
чанию  TBCONFIG.TB,  но  с  помощью  команд Setup можно обслужить 
несколько .TB файлов.  
     Для изменения размера и/или перехода в другое активное  окно 
(в  двойнрй  "рамке") нажмите Scroll Lock (Блокировка Прокрутки).  
Затем зажмите клавишу Shift (Регистр) и с помлщью  стрелок  пере-
мещайте и/или меняйте размер окна вправо,  влево,  вверх,  вниз и 
т.п.  
     В ТБ Подсказка, учитывающая контекст, обеспечивает необходи-
мую информацию именно для текущего экрана, независимо от того,  в 
каком  меню Вы в этот момент работаете.  Для выхода в Подсказку с 
любого уровня нажмите F1;  а а нажатием Alt-F1  можно  перейти  в 
предыдущую подсказку.  
     Кроме того,  в ТБ есть ряд клавиш ("горячих"), которые можно 
использовать независимо от текущего  "места"  работы  в  Основном 
меню.  Например, для выхода из ТБ из любого варианта меню, нажми-
те Alt-X.  Для вашего удобства, все "горячие" клавиши перечислены 
в таблице 3-2.  

                      Таблица 3-2  "Горячие ключи ТБ"
    ------------------------------------------------------------
      Клавиши         Функция
    ____________________________________________________________

        F1           Обеспечивает контектуальную подсказку
        F2           Записывает ваш файл
        F3           Создает новый файл
        F5           "Распахивает" окна Прогона или Редактора
        F6           Включает активное окно
        F7           Изнутри системы меню переход в активное окно
        Scroll Lock  Меняет размер или перемещает активное окно
        Esc          Возвращает в основное меню
        Alt-C        Компилирует текущую загруженную программу
        Alt-E        Редактирует текущую загруженную программу
        Alt-R        Прогон текущей загруженной программы
        Alt-X        Выход из ТБ системы
        Alt-F        Переход в меню "Файлы" (Files)
        Alt-O        Переход в меню "Варианты" (Optios)
        Alt-D        Переход в меню "Отладка" (Debug)
        Alt-W        Переход в меню "Окна" (Windous)
    -------------------------------------------------------------

                     Команды работы с файлами
-----------------------------------------------------------------
     Команда   Файл   вызывает   спускающееся  меню,   содержащее 
несколько вариантов (см. рис. 3-3).  

 ┌─────────────────────────────────────────────────────────┐
 │ File  Edit  Exe  Compile  Options  Setup  Window  Debug │
 ├──┬──────────┬────────────────────────────────────┬──────┤
 ├──┤Load      ├───────Еdit────────────────────────┐│Trace │
 │  │New       │  Line 1  Col 17 Insert Indent Tab ││      │
 │  │Save      │                                   ││      │
 │  │Write to  │                                   ││      │
 │  │Main file │                                   ││      │
 │  │Directory │                                   ││      │
 │  │Change dir│                                   ││      │
 │  │OS shell  │                                   ││      │
 │  │Quit      │                                   ││      │
 │  └──────────┘                                   ││      │
 ├─────────────────────────────────────────────────┘│      │
 ├─────────── Message ─────────┐┌─────── Run ──────┐│      │
 │                             ││                  ││      │
 │                             ││                  ││      │
 │                             ││                  ││      │
 ├─────────────────────────────┴┴──────────────────┴┴──────┤
 │F1-Help  F5-Zoom  F7-Gate  SCBOOL-Size/weve    Alt-X-Edit│
 │                                                         │
 └─────────────────────────────────────────────────────────┘
            Рисунок  3-3. Меню файлов.

 Загрузить (Load)
     Команда Загрузить позволяет выбрать  рабочий  файл,  который 
можно   затем  редактировать,   компилировать  ,   выполнять  или 
записывать.  
     После нажатия клавиши L (Load/Загрузить) машина  запрашивает 
имя файла. Можно ввести любое из нижеперечисленных: 

     1. Любое допустимое имя файла. Если опущены точка и тип фай-
        ла (расширение),  автоматически присваивается  расширение
        BAS;  для уточнения имени файла без расширения  поставьте
        точку в конце вводимого имени файла.

     2. Имя файла из каталога.  Сверка с содержимым каталога про-
        исходит,  когда  после  ответа на вопрос  Имя Файла (File 
        Name) нажимается Enter или печатается  имя файла с симво-

        лами шаблонов и нажимается Enter. Если имя файла не зада-
        но, пролистываются все файлы. В любом случае можно  потом 
        пробежать  курсором вверх  и  вниз по списку имен файлов,  
        используя  клавиши  "стрелок",  Home,  End,  PgUp и PgDn. 
        Выбор  фиксируется нажатием Enter. При нажатии Esc курсор 
        возвращается в вариант "Загрузить" (Load).

     Если вы хотите назначить свое расширение,  старайтесь  избе-
гать таких,  которые имеют в ДОС свои особые значения: EXE,  COM
и  BAT;  не используйте также  BAC,  поскольку редактор  создает
резервные файлы с этим расширением.
     Старайтесь выбирать уникальные имена файлов,  независимо от
того, используете  вы  расширения или нет.Рассмотрим,  например,
имена файлов MYPROG.V1 и MYPROG.V2. После редактирования и запи-
си MYPROG.V1    ТБ    переименовывает   оригинал   программы   в
MYPROG.BAK; когда же вы отредактируете затем файл MYPROG.V2, его
оригинал также будет назван MYPROG.BAK и записан,  уничтожив та-
ким образом первый резервный файл.
    При нажатии клавиши Enter после ввода рабочего файла ТБ ищет
его в текущем каталоге данного диска и если не может  найти этот
файл, создает новый.

 Новый файл (New)
     При  этом  варианте  текст  в  текущем редакторе стирается и 
файлу присваивается по умолчанию имя NONAME.BAS.  

 Записать (SAVE)
     По этой команде текщий рабочий файл  записывается  на  диск. 
Прежней   версии  названного  файла,   если  таковая  существует, 
присваивается  расширение  BAK;  если  ваш  рабочий  файл  назван 
NONAME.BAS   и   вы  попытаетесь  его  записать,   то  вам  будет 
предоставлена возможность переименовать его до записи. Если же вы 
просто нажмете Enter, то будет записан файл NONAME.BAS.  

 Записать в (Write to)
     После  редактирования  выберите  вариант  "Записать  в"  для 
записи текущего редактируемого файла на диск под  новым  имененм. 
Машина запросит новое имя.  

 Основной файл (Main File)
     При  работе  с  большими  программами  вы можете предпочесть 
разбивку исходной программы на удобные для работы части. Впрочем, 
если вы превысите объем  редактора,  иного  выхода  и  не  будет. 
Отдельные части большой программы сохраняются и редактируются как 
независимые  "составные" файлы,  но при необходимости компиляции 
собиратся в единое целое.  
     Вместе с выдачей промежуточных  операторов  $INCLUDE  (Вклю-
чить)   выбор  варианта  Основной  файл  позволяет  компилировать 
программы, состоящие из нескольких исходных программ.  
     Исходный модуль,  который вы определите как  Основной  файл, 
должен содержать директивы $INCLUDE.  Как обычно,  для редактиро-
вания любого модуля программы (даже Основного) сделайте  его  те-
кущим загружаемым файлом.  
     По  получении команды Compile (Компилировать),  ТБ проверяет 
не отличается ли текущий рабочий файл от Основного. Если нет (или 
если Основного файла нет), - компилируется рабочий файл.  Если же 
он отличается, машина запрашивает сохранить ли рабочий файл (если 
в него были внесены изменения), и Основной файл затем загружается 
в  память.   Если  при  компилировании  найдена   ошибка,   файл, 
содержащий  ее  автоматически  загружается  для   редактирования. 
После  исправления  ошибки  и  возобновления  компиляции  следует 
подсказка  сохранить  исправленный  рабочий файл.  Затем повторно 
загружается Основной файл.  

 Каталог (Directory)
     Нажмите D для "пролистования"  содержания  каталога,  поиска 
каталогов и изменения маски "пробела".  

 Сменить каталог (Change dir)
     Эта  команда  вводится для перехода в другой каталог.  После 
нажатия клавиши C следует запрос ветви каталога; она и становится   
вашим текущим каталогом  (куда желаете,  туда и попадете).  Можно  
ввести любое допустимое имя ветви.  См. "наборные команды" (Setup 
commands):  описание других каталогов, используемых системой.  

      Командный процессор операционной системы (OS  shell). 
      -----------------------------------------------------     
    Нажатием O вызывается операционная система DOS;  ТБ остается 
резидентно в памяти.  как только DOS загружена, любая команда DOS 
может быть выполнена.  Управление  передается  вновь  резидентной 
системе ТБ командой EXIT (Выход).  

 Прервать работу (Quit)
     Эта команда выводит вас из программы ТБ в DOS.  Если текущий 
файл был изменен и  еще  не  записан,  последует  соответствующий 
запрос.  (Можно  также  выйти  из  ТБ  нажатием  Ctrl-X из любого 
варианта системного меню).  

                   Команда Edit (Редактировать)
     Команда Edit запускает встроенный экранный  редактор,  пере-
водя  в  него рабочий файл для редактирования.  (Вы называете имя 
рабочего  файла  при  выборе   команды   "Загрузить"   (Load)   в 
спускающемся  меню  "Файлы")  Если имя рабочего файла не указано, 
присваивается NONAME.BAS.  
    Для выхода из редактора и возврата в  основное  меню  нажмите 
Esc.  Исходный  текст  остается  на экране и достаточно нажать E, 
чтобы вернуться к нему.  

                       Команда Run (Прогон)
     Команда Run выполняет программу, находящуюся в памяти.  Если 
скомпилированная программа уже в памяти,  и исходная программа не 
изменялась в редакторе с  момента  последнего  исполнения  команд 
Компилировать  или Прогон (Compile или Run),  и варианты не меня-
лись, она выполняется немедленно. Если скомпилированной программы 
в памяти нет,  то вначале компилируется исходная программа, нахо-
дящаяся в редакторе,  а получившаяся в результате  программа  вы-
полняется.  
     При  выполнении  программы ее работу можно прервать нажатием 
Ctrl-Break,  если установлен вариант  "Прерывание  с  клавиатуры" 
(Keyboard  break)  и  прогоняемая программа выполняет ввод/вывод.  
Если замечена ошибка,  программа переводится в редактор  в  точке 
обнаружения ошибки.  Описание ошибки появляется в "строке состоя-
ния" редактора.  Исправьте ошибку и верните программу  (повторная 
компиляция произойдет автоматически).  
     В  окне  "Сообщения" (Message) ТБ отображается увеличение на 
20 числа обработанных строк и операторов.  В  окне  "Прогон"(Run) 
отображается вывод программы.  
     Для распахивания окна "Прогон" при прогоне программы нажмите 
Ctrl-F5.  

                 Команда Compile (Компилировать)
     Команда Compile компилирует текущую программу в редакторе. В 
результате компиляции программа размещается в памяти (по  умолча-
нию), в файле EXE, или в файле TBC (цепной), в зависимости от те-
кущей установки варианта Compile to (Компилировать в) в  наборном 
меню.  
     Нажмите  C (или Enter если вы находитесь в позиции этого ва-
рианта) для запуска компиляции.  Если Основной  файл  не  назван, 
компилируется загруженный файл.  
     Если выбран Основной файл,  машина запрашивает, хотите ли вы 
сохранить текущий рабочий файл (если файл в редакторе  был  изме-
нен). Затем Основной файл загружается и компилируется.  
     По мере компиляции ТБ отображает в окне "Сообщение" увеличе-
ние  на  20 числа строк и операторов,  обработанных на данный мо-
мент. Ctrl-Break прерывает компиляцию.  






