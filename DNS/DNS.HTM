<html><head>
<title>Domain Name Service - Служба Доменных Имен</title>
		    <style type="text/css">
TH.arial { font-family: Arial, Serif;}
P.topic { font-family: sans-serif;}
A.plain { text-decoration: none;}
A.topic01 { color: #006890;
font-family: sans-serif;
text-decoration: none;}
A.topic02 { color: #099771;
font-family: sans-serif;
text-decoration: none;}
A.topic03 { color: #719709;
font-family: sans-serif;
text-decoration: none;}
A.topic04 { color: #98650A;
font-family: sans-serif;
text-decoration: none;}
A.topic05 { color: #98340A;
font-family: sans-serif;
text-decoration: none;}
A.topic06 { color: #099607;
font-family: sans-serif;
text-decoration: none;}
A.topic07 { color: #9E1215;
font-family: sans-serif;
text-decoration: none;}
A.topic08 { color: #970941;
font-family: sans-serif;
text-decoration: none;}
A.topic09 { color: #950995;
font-family: sans-serif;
text-decoration: none;}
A.topic010 { color: #390A98;
font-family: sans-serif;
text-decoration: none;}
H1 { font-family: sans-serif;}
H2 { font-family: sans-serif;}
H3 { font-family: sans-serif;}
H4 { font-family: sans-serif;}
H5 { font-family: sans-serif;}
H6 { font-family: sans-serif;}
</style>
</head>
<body bgcolor="#FFFFFF" link="#006890" vlink="#003860" alink="#800000" text="#000000">
<table cellspacing=0 cellpadding=0 border=0 background="../../PICTURES/MENU/HEADER0.JPG" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<img src="../../PICTURES/MENU/LOGO.GIF" width=157 height=53 border=0 alt="Server for Information Technologies">
</td><td align="right">
<font size="-2">Сервер поддерживается<br><a class="plain" href="http://www.citmgu.ru">Центром Информационных Технологий</a><br>(095) 932-9212, 932-9213, 939-0783<br>E-mail: <a class=noneline href="mailto:info@citmgu.ru?Subject='From page topic CIT FORUM local copy'">info@citforum.ru</a></font>
</td></tr>
</table>
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="left">
<font size="-1">Сервер содержит море(!) аналитической информации</font>
</td><td align="right">
<font size="-1">CIT Forum CD-ROM</font>
</td></tr>
</table>
</td></tr>
</table>
<H3 ALIGN=center>Domain Name Service<BR>Служба Доменных Имен</H3>
<p align=justify>Служба Доменных Имен предназначена для того, чтобы машины, работающие
в Internet, могли по доменному имени узнать IP-адрес нужной им машины,
а также некоторую другую информацию; а по IP-номеру могли узнать
доменное имя машины. </P>
<p align=justify>Служба Доменных Имен была разработана для именования машин в глобальной сети. Основной особенностью глобальной сети является распределенное
администрирование, когда один администратор физически не может уследить
за выделением имен. Поэтому Служба Доменных Имен функционирует на принципе
<B>делегирования полномочий</B>. Каждая машина либо знает ответ на вопрос,
либо знает кого спросить. При правильном функционировании система замкнута,
т.е. если запрошенная информация имеется у кого-либо, то она будет
найдена и сообщена клиенту, либо, если вопрос не имеет ответа,
клиент получит сообщение о невозможности получения ответа на вопрос. </P>
<p align=justify>Каждый клиент знает своего сервера; обычно указывается не один, а несколько серверов - если первый не отвечает, клиент обращается ко второму и так далее
до исчерпания списка. В принципе неважно, к какому серверу обращаться -
они дают (должны давать при правильном функционировании) одинаковые ответы
на любой запрос. Поэтому для ускорения работы обычно указывают ближайший.
Следует помнить, что на одной машине могут функционировать одновременно
Name-сервер и программы-клиенты; поэтому если на машине запущен Name-сервер,
то в качестве Name-сервера на ней должен быть прописан "я&nbsp;сам". </P>
<p align=justify>Имеется некий домен верхнего уровня, обозначаемый точкой:
"<BIG><B>.</B></BIG>". Имеется девять серверов (по крайней мере
на моем Name-сервере записано столько), которые отвечают за эту зону.
Они не знают ни одного доменного имени - они только авторизуют серверы
верхних зон. Серверы верхних зон тоже гнушаются хранить информацию
о конкретных машинах и передают это право нижележащим серверам.
Тут уже появляются первые упоминания о конкретных машинах,
равно как и происходит авторизация нижележащих серверов. </P>
<p align=justify>Мне неизвестна ни одна машина с доменным именем из одного сегмента;
очень редко используются доменные имена из двух сегментов;
имена из трех и четырех сегментов составляют подавляющую долю
всех имен Internet; имена из пяти сегментов встречаются довольно
редко, а из шести и более мне неизвестны. </P>
<p align=justify>Допустим, клиент запросил адрес "www.организация.город.страна".
Поиск информации по доменному имени происходит следующим образом: 
<UL>
<LI> Клиент спрашивает своего сервера. 
<UL>
<LI> Если тот является сервером данной зоны, то ответит, на чем все заканчивается.
</UL>
<LI> Сервер спрашивает корневой сервер.
<LI> Тот не может ответить, потому что не знает; зато знает, какой сервер отвечают за зону "страна".
<LI> Сервер зоны "страна" тоже не может ответить, но знает, что нужно спросить сервер зоны "город.страна".
<LI> Тот в свою очередь отсылает запрос серверу зоны "организация.город.страна", который сообщит нужную информацию.
</UL>
Это приближенная модель, которая тем не менее позволяет представить
работу системы DNS. </P>
<p align=justify>Однако эту стройную картину искажают системы кэширования и вторичных
серверов. Дело в том, что получив ответ на свой вопрос, DNS-сервер получает
также некоторое число, которое говорит ему о том, по истечении какого времени
эта информация должна считаться устаревшей. Таким образом, все серверы,
участвовавшие в поиске ответа на вопрос, заданный клиентом, могут
(и скорее всего будут) помнить как ответ на заданный вопрос, так и путь,
по которому шел поиск. При следующих запросах, имеющих общую правую часть
с недавно сделанными запросами, поиск будет упрощен (ускорен). </P>
<p align=justify>Кроме того, большинство зон имеет вторичные серверы, которые содержат копии данных с первичных серверов. Сервер вышележащей зоны может направить запрос
как первичному серверу, так и любому из вторичных, основываясь на своих
соображениях о том, какой из них ближе. </P>
<p align=justify>Хочу обратить особое внимание на сходство, различие и взаимодействие
систем DNS и IP-маршрутизации. Как и IP-маршрутизация, DNS работает
по принципу делегирования полномочий, но выделение доменных имен совершенно
не зависит от выделения IP-адресов. Для примера рассмотрим домен
<TT>freebsd.org</TT>. Это - домен организации, занимающейся
распространением операционной системы FreeBSD Unix. FTP-сервер,
содержащий дистрибутив операционной системы и множества утилит для нее,
имеет копии в нескольких десятках стран. Имена серверов выглядят так:
<UL>
<LI> ftp.freebsd.org - первичный сервер в США
<LI> ftp.<I>страна</I>.freebsd.org - основной сервер в <I>стране</I>
<LI> ftp<I>число</I>.<I>страна</I>.freebsd.org - дополнительный сервер в <I>стране</I>
</UL>
Так например на 11 февраля 1998 года
<UL>
<LI> ftp.ru.freebsd.org соответствует ftp.ru
<LI> ftp2.ru.freebsd.org соответствует ftp.gamma.ru
<LI> ftp3.ru.freebsd.org соответствует ftp.chg.ru
</UL>
<p align=justify>
Таким образом, машины, находящиеся в России оказались произвольно
(по воле DNS-мастера из университета Bercley) включенными
в домен freebsd.org; однако, они также состоят в своих зонах.
Система DNS позволяет любому DNS-мастеру включить любой сервер
в свою зону, хотя это включение никого ни к чему не обязывает. </P>
<p align=justify>Однако, некоторым сервисам этого недостаточно - так E-mail требует,
чтобы машина, принимающая письмо, признала своим адрес, указанный в качестве
пункта назначения. Протокол HTTP 1.1 (в 1.0 этого не было) требует,
чтобы в HTTP-запросе указывался не путь к файлу, отсчитанный от корня
сервера (хотя такие запросы тоже признаются), но и имя сервера;
при этом сам сервер знает, какие имена - его, а остальные обрезает
и обслуживает в соответствии с HTTP 1.0. </P>
<p align=justify>Делегирование зоны <TT>...in-addr.arpa</TT> дается только от провайдера
вместе с IP-адресами. Собственно, это связано с предназначением ReverceDNS -
сообщать доменное имя по IP-адресу. Наверняка мастер зоны <TT>freebsd.org</TT>
держит Reverce-зону для IP-номеров, выделенных университету Bercley;
но все эти серверы (кроме сервера, расположенного в университете)
не входят в эту Reverce-зону, а значит, ему неподконтрольны.
<p align=justify>Одна из проблем состит в том, что Reverce-зону можно выделить только на
сеть класса A, B или C (на 16777216, 65536 или 256 адресов) и никак иначе.
Можно получить правА на несколько зон одного или разных классов, но что
делать тем, кому выделили меньше 256 адресов? А ведь в условиях исчерпания
адресного пространства не редкость выделения пула уже на 16 адресов!
<H4>DNS-услуги Internet-провайдера</H4>
<p align=justify>Как правило, провайдер предоставляет клиенту целый комплекс услуг.
В число оказываемых DNS-услуг входят:
<UL>
<LI>делегирование зоны <TT>...in-addr.arpa</TT> клиентам, имеющим пул адресов, кратный 256.
<LI> регистрация доменного имени клиента у держателя той зоны, в которой клиент хочет зарегистрироваться;
<LI> поддержание вторичного сервера прямой и обратной DNS-зон клиента;
<LI> поддержание первичного сервера этих зон, если клиент по какой-либо
причине не поддерживает их сам (особенно это относится к случаю
виртуальных зон и к случаю выделения малого пула адресов);
</UL>
Если провайдер будет отказываться - сошлитесь на меня. :-)
<H4>Политика и стратегия назначения имен</H4>
<p align=justify>Имена зон условно можно разделить на "<I>организационные</I>" и
"<I>географические</I>". В высшей зоне зарегестрированы следующие
"<I>организационные</I>" зоны:
<UL>
<LI><TT>com</TT> - commercial (коммерческие)
<LI><TT>edu</TT> - educational (образовательные)
<LI><TT>gov</TT> - goverment (правительственные)
<LI><TT>mil</TT> - military (военные)
<LI><TT>net</TT> - network (организации, обеспечивающие работу сети)
<LI><TT>org</TT> - organization (некоммерческие организации)
</UL>
<p align=justify>
В данный момент, чтобы разгрузить домен <TT>com</TT>, собираются создать
несколько новых доменов, но у меня нет достоверной информации по ним.
В организационных зонах обычно размещаются непосредственно домены организаций.
</P>
<P>Каждая страна (государство) имеет свой географический домен из двух букв:
<UL>
<LI><TT>ae</TT> - United Arab Emirates (Объединенные Арабские Эмираты)
<LI><TT>au</TT> - Australia (Австралия)
<LI> <TT>be</TT> - Belgium (Бельгия)
<LI> <TT>br</TT> - Brazil (Бразилия)
<LI> <TT>by</TT> - Belarus (Белоруссия)
<LI> <TT>ca</TT> - Canada (Канада)
<LI> <TT>ch</TT> - Switzerland (Швейцария)
<LI> <TT>cz</TT> - Czech Republic (Чехия)
<LI> <TT>de</TT> - Germany (Германия)
<LI> <TT>dk</TT> - Denmark
<LI> <TT>do</TT> - Dominican Republic (Доминиканская республика)
<LI> <TT>ee</TT> - Estonia (Эстония)
<LI> <TT>eo</TT> - ???
<LI> <TT>es</TT> - Spain (Испания)
<LI> <TT>fi</TT> - Finland (Финляндия)
<LI> <TT>fr</TT> - France (Франция)
<LI> <TT>hu</TT> - Hungary (Венгрия)
<LI> <TT>il</TT> - Israel (Израиль)
<LI> <TT>in</TT> - India (Индия)
<LI> <TT>iz</TT> - ???
<LI> <TT>jp</TT> - Japan (Япония)
<LI> <TT>kg</TT> - Kyrgyzstan (Кыргызстан)
<LI> <TT>kr</TT> - South Korea (Южная Корея)
<LI> <TT>kz</TT> - Kazakhstan (Казахстан)
<LI> <TT>lt</TT> - Lithuania (Литва)
<LI> <TT>lv</TT> - Latvia (Латвия)
<LI> <TT>mx</TT> - Mexico (Мексика)
<LI> <TT>nl</TT> - Netherlands (Нидерланды)
<LI> <TT>no</TT> - Norway (Норвегия)
<LI> <TT>nz</TT> - New Zealand (Новая Зеландия)
<LI> <TT>pl</TT> - Poland (Польша)
<LI> <TT>ro</TT> - Romania (Румыния)
<LI> <TT>ru</TT> - Russia (Россия)
<LI> <TT>si</TT> - Slovenia (Словения)
<LI> <TT>sk</TT> - Slovak Republic (Словакия)
<LI> <TT>su</TT> - Soviet Union (Советский Союз - поддерживается, но не распределяется)
<LI> <TT>ua</TT> - Ukraine (Украина)
<LI> <TT>uk</TT> - United Kingdom (Соединенное Королевство ВеликоБритания / Англия)
<LI> <TT>yu</TT> - Yugoslavia (Югославия)
<LI> <TT>za</TT> - South Africa (Южная Африка)
</UL>
Я перечислил отнюдь не все страны - кто хочет, может прислать мне
другие названия. </P>
<p align=justify>В зонах государств опять же имеются "<I>организационные</I>" и
"<I>географические</I>" зоны. "<I>Организационные</I>" в большинстве
своем повторяют структуру "<I>организационных</I>" зон верхнего уровня,
разве что вместо "<TT>com</TT>" используется "<TT>co</TT>".
"<I>Географические</I>" выделяются городам, областям и т.п. территориальным
образованиям. Непосредственно в тех и других размещаются домены организаций
или домены персональных пользователей. </P>
<HR noshade>
<p align=justify>После выбора зоны, в которую будет включен наш домен надо выбрать
собственное имя домена. Обычно это имя компании, торговая марка или что-нибудь
столь же характерное. Для неанглоязычных стран используется транскрипция имен.
Часто возникают конфликты, связанные с тем, что одно и то же имя
используется несколькими фирмами (законодательство допускает это
для фирм, работающих в разных отраслях); многие люди заранее
резервируют имена, могущие стать популярными для последующей продажи
их владельцу торговой марки; но это уже касается юридической стороны
функционирования Internet и не входит в мою компетенцию. </P>
<HR noshade>
<p align=justify>С левого конца доменного имени находятся имена машин. Имена бывают
"<I>собственные</I>" и "<I>функциональные</I>". Имена "<I>собственные</I>"
каждый придумавает в меру фантазии: машинам присваиваются имена членов семьи,
животных, растений, музыкантов и артистов, литературных персонажей -
кто во что горазд. </P>
<P>Имена "<I>функциональные</I>" вытекают из функций, выполняемых машиной:
<UL>
<LI> <TT>www</TT> - HTTP (WWW) сервер
<LI> <TT>ftp</TT> - FTP сервер
<LI> <TT>ns</TT>, <TT>nss</TT>, <TT>dns</TT> - DNS (Name) сервер
<LI> <TT>mail</TT> - Mail сервер
<LI> <TT>relay</TT> - Mail Exchanger
<LI> <TT>*proxy</TT> - соответствующий Proxy сервер
</UL>
<p align=justify>
Я считаю нежелательным присваивать какой-либо машине функциональное имя -
в любой момент может потребоваться перенести соответствующую функцию
на другую машину. Для этого лучше всего использовать псевдонимы,
которые перенаправляют запросы к данному имени на записи, относящиеся
к другому имени. Но вот ссылаться на псевдонимы при обьявлении
Mail Exchanger'ов и вообще использовать их в правой части записей
считается нежелательным, а зачастую является недопустимым. </P>
<H4>Ссылки:</H4>
<UL>
<LI><A HREF="DNS_SMP.HTM">Пример настройки Name-сервера</A>
<LI>WINS - Window Internet Name Service<br>
Отслеживает соответствие имен Windows Network и IP-номеров машин.
Аналог DNS, но с динамическим отлеживанием и без какого-либо масштабирования.
<LI>NDS - Novell Directory Service
<BR>Служит для определения местонахождения сервера, на котором находится
данная <EM>сетевая директория</EM> (аналог <EM>ресурса</EM> в Windows Network).
<LI>Active Directory
<BR>Micro$oft'овский аналог NDS.
<LI>WindowsNT Domain
<BR>Система централизованного хранения базы данных о правах и паролях
пользователей. Никакого отношения к службе имен не имеет, здесь приведена
для устранения возможной путаницы, вызваной созвучием названий.
</ul><table cellspacing=0 cellpadding=0 border=0 background="../../PICTURES/MENU/FOOTER0.JPG" width="100%">
<tr><td align="center">
<table cellspacing=0 cellpadding=4 border=0 width="100%" background="">
<tr><td align="right" valign="top" width="33%">
<font size="-2">Comments: <a class="plain" href="mailto:info@citmgu.ru?Subject='From bottom of CIT FORUM local copy'">info@citmgu.ru</a><br>
Designed by <a class="plain" href="mailto:andrey@novikov.com">Andrey Novikov</a><br>
Copyright &copy; <a class="plain" href="http://www.citmgu.ru/">CIT</a></font>
</td></tr>
</table>
</td></tr>
</table>
</body>
</html>