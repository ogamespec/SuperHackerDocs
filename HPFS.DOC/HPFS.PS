%!PS-Adobe-2.0
%%Creator: dvips 5.47 Copyright 1986-91 Radical Eye Software
%%Title: hpfs.dvi
%%Pages: 10 1
%%BoundingBox: 0 0 612 792
%%EndComments
%%BeginProcSet: tex.pro
/TeXDict 200 dict def TeXDict begin /N /def load def /B{bind def}N /S /exch
load def /X{S N}B /TR /translate load N /isls false N /vsize 10 N /@rigin{
isls{[0 1 -1 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
Resolution VResolution vsize neg mul TR matrix currentmatrix dup dup 4 get
round 4 exch put dup dup 5 get round 5 exch put setmatrix}N /@letter{/vsize 10
N}B /@landscape{/isls true N /vsize -1 N}B /@a4{/vsize 10.6929133858 N}B /@a3{
/vsize 15.5531 N}B /@ledger{/vsize 16 N}B /@legal{/vsize 13 N}B /@manualfeed{
statusdict /manualfeed true put}B /@copies{/#copies X}B /FMat[1 0 0 -1 0 0]N
/FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{/nn 8 dict N nn begin
/FontType 3 N /FontMatrix fntrx N /FontBBox FBB N string /base X array
/BitMaps X /BuildChar{CharBuilder}N /Encoding IE N end dup{/foo setfont}2
array copy cvx N load 0 nn put /ctr 0 N[}B /df{/sf 1 N /fntrx FMat N df-tail}
B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]N df-tail}B /E{pop nn dup definefont
setfont}B /ch-width{ch-data dup length 5 sub get}B /ch-height{ch-data dup
length 4 sub get}B /ch-xoff{128 ch-data dup length 3 sub get sub}B /ch-yoff{
ch-data dup length 2 sub get 127 sub}B /ch-dx{ch-data dup length 1 sub get}B
/ch-image{ch-data dup type /stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0
N /rw 0 N /rc 0 N /gp 0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S
dup /base get 2 index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx 0
ch-xoff ch-yoff ch-height sub ch-xoff ch-width add ch-yoff setcachedevice
ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff .1 add]{ch-image}
imagemask restore}B /D{/cc X dup type /stringtype ne{]}if nn /base get cc ctr
put nn /BitMaps get S ctr S sf 1 ne{dup dup length 1 sub dup 2 index S get sf
div put}if put /ctr ctr 1 add N}B /I{cc 1 add D}B /bop{userdict /bop-hook
known{bop-hook}if /SI save N @rigin 0 0 moveto}N /eop{clear SI restore
showpage userdict /eop-hook known{eop-hook}if}N /@start{userdict /start-hook
known{start-hook}if /VResolution X /Resolution X 1000 div /DVImag X /IE 256
array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for}N /p /show load N
/RMat[1 0 0 -1 0 0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X
/rulex X V}B /V statusdict begin /product where{pop product dup length 7 ge{0
7 getinterval(Display)eq}{pop false}ifelse}{false}ifelse end{{gsave TR -.1 -.1
TR 1 1 scale rulex ruley false RMat{BDot}imagemask grestore}}{{gsave TR -.1
-.1 TR rulex ruley scale 1 1 false RMat{BDot}imagemask grestore}}ifelse B /a{
moveto}B /delta 0 N /tail{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{
S p tail}B /c{-4 M}B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B
/j{3 M}B /k{4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p -1 w
}B /q{p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{3 2 roll p
a}B /bos{/SS save N}B /eos{clear SS restore}B end
%%EndProcSet
TeXDict begin 1000 300 300 @start /Fa 32 125 df<0001FC3C00060E67000C0EC7001C0D
C6001C01C0003801C0003803800038038000380380003803800070038007FFFFF8007007000070
07000070070000E0070000E00E0000E00E0000E00E0000E00E0001C00E0001C01C0001C01C0001
C01C0001C01C0003801C0003803800038038000380380003003800070030000700700006006000
C6606000E470C000C8618000703E00002025819C19>11 D<0001FC000703000C03001C07001C03
00180000380000380000380000380000700007FFFC00701C00701C00701C00E03800E03800E038
00E03800E07001C07001C07001C07001C0E201C0E201C0E20380E4038064038038038000030000
070000060000C60000E40000CC00007000001825819C17>I<183878380808101020404080050C
7D830D>44 D<3078F06005047C830D>46 D<01FFFFE0003C00E000380060003800400038004000
3800400070004000700040007020400070200000E0400000E0400000E0C00000FFC00001C08000
01C0800001C0800001C0800003810100038001000380020003800200070004000700040007000C
00070018000E007800FFFFF0001B1C7D9B1C>69 D<01FFFFC0003C01C0003800C0003800800038
0080003800800070008000700080007020800070200000E0400000E0400000E0C00000FFC00001
C0800001C0800001C0800001C08000038100000380000003800000038000000700000007000000
07000000070000000F000000FFF000001A1C7D9B1B>I<01FFCFFE003C01E0003801C0003801C0
003801C0003801C00070038000700380007003800070038000E0070000E0070000E0070000FFFF
0001C00E0001C00E0001C00E0001C00E0003801C0003801C0003801C0003801C00070038000700
380007003800070038000F007800FFE7FF001F1C7D9B1F>72 D<01FFFC00003C07000038038000
3801C0003801C0003801C0007003C0007003C0007003C00070038000E0078000E0070000E00E00
00E0380001FFE00001C0000001C0000001C0000003800000038000000380000003800000070000
000700000007000000070000000F000000FFE000001A1C7D9B1C>80 D<000F8400304C00403C00
801801001803001803001806001006001006000007000007000003E00003FC0001FF00007F8000
07C00001C00001C00000C00000C02000C02000C0600180600180600300600200F00400CC180083
E000161E7D9C17>83 D<1FFFFFC01C0701C0300E00C0200E0080600E0080400E0080401C008080
1C0080801C0080001C000000380000003800000038000000380000007000000070000000700000
0070000000E0000000E0000000E0000000E0000001C0000001C0000001C0000001C0000003C000
007FFE00001A1C799B1E>I<03CC063C0C3C181C3838303870387038E070E070E070E070E0E2C0
E2C0E261E462643C380F127B9115>97 D<3F00070007000E000E000E000E001C001C001C001C00
39C03E60383038307038703870387038E070E070E070E060E0E0C0C0C1C0618063003C000D1D7B
9C13>I<01F007080C08181C3838300070007000E000E000E000E000E000E008E010602030C01F
000E127B9113>I<001F80000380000380000700000700000700000700000E00000E00000E0000
0E0003DC00063C000C3C00181C00383800303800703800703800E07000E07000E07000E07000E0
E200C0E200C0E20061E4006264003C3800111D7B9C15>I<01E007100C1018083810701070607F
80E000E000E000E000E000E0086010602030C01F000D127B9113>I<0003C0000670000C70001C
60001C00001C0000380000380000380000380000380003FF800070000070000070000070000070
0000E00000E00000E00000E00000E00001C00001C00001C00001C00001C0000380000380000380
00030000030000070000C60000E60000CC00007800001425819C0D>I<00F3018F030F06070E0E
0C0E1C0E1C0E381C381C381C381C383830383038187818F00F700070007000E000E0C0C0E1C0C3
007E00101A7D9113>I<0FC00001C00001C0000380000380000380000380000700000700000700
000700000E78000E8C000F0E000E0E001C0E001C0E001C0E001C0E00381C00381C00381C003838
00703880703880707080707100E03200601C00111D7D9C15>I<01800380010000000000000000
000000000000001C002600470047008E008E000E001C001C001C00380038007100710071007200
72003C00091C7C9B0D>I<1F800380038007000700070007000E000E000E000E001C001C001C00
1C0038003800380038007000700070007000E400E400E400E40068003800091D7C9C0B>108
D<3C1E0780266318C04683A0E04703C0E08E0380E08E0380E00E0380E00E0380E01C0701C01C07
01C01C0701C01C070380380E0388380E0388380E0708380E0710701C0320300C01C01D127C9122
>I<3C3C002646004687004707008E07008E07000E07000E07001C0E001C0E001C0E001C1C0038
1C40381C40383840383880701900300E0012127C9117>I<01E007180C0C180C380C300E700E70
0EE01CE01CE01CE018E038E030E06060C031801E000F127B9115>I<07870004D98008E0C008E0
C011C0E011C0E001C0E001C0E00381C00381C00381C00381800703800703000707000706000E8C
000E70000E00000E00001C00001C00001C00001C00003C0000FF8000131A7F9115>I<3C3C26C2
468747078E068E000E000E001C001C001C001C0038003800380038007000300010127C9112>
114 D<01F006080C080C1C18181C001F001FC00FF007F0007800386030E030C030806060C01F00
0E127D9111>I<00C001C001C001C00380038003800380FFE00700070007000E000E000E000E00
1C001C001C001C00384038403840388019000E000B1A7D990E>I<1E0300270700470700470700
870E00870E000E0E000E0E001C1C001C1C001C1C001C1C003838803838801838801839001C5900
078E0011127C9116>I<1E06270E470E4706870287020E020E021C041C041C041C081808380818
1018200C4007800F127C9113>I<1E01832703874703874703838707018707010E07010E07011C
0E021C0E021C0E021C0E04180C04181C04181C081C1C100C263007C3C018127C911C>I<1E0327
0747074707870E870E0E0E0E0E1C1C1C1C1C1C1C1C38383838183818381C7007F00070007000E0
E0C0E1C0818047003C00101A7C9114>121 D<FFFFFFFFF825017B8B2A>124
D E /Fb 1 4 df<01800180018001804182F18F399C0FF003C003C00FF0399CF18F4182018001
800180018010127E9215>3 D E /Fc 2 51 df<0C001C00EC000C000C000C000C000C000C000C
000C000C000C000C000C000C000C000C00FFC00A137D9211>49 D<1F0060C06060F070F0306030
00700070006000C001C00180020004000810101020207FE0FFE00C137E9211>I
E /Fd 33 122 df<00007000000000700000000070000000007000000000700000000070000000
007000000000700000000070000000007000000000700000000070000000007000000000700000
000070000000007000000000700000FFFFFFFFF8FFFFFFFFF8FFFFFFFFF8000070000000007000
000000700000000070000000007000000000700000000070000000007000000000700000000070
000000007000000000700000000070000000007000000000700000000070000000007000002525
7D9E2C>43 D<387CFEFEFE7C380000000000000000387CFEFEFE7C3807167C9510>58
D<000070000000007000000000F800000000F800000000F800000001FC00000001FC00000003FE
00000003FE00000003FE00000006FF000000067F0000000E7F8000000C3F8000000C3F80000018
3FC00000181FC00000381FE00000300FE00000300FE00000600FF000006007F00000E007F80000
FFFFF80000FFFFF800018001FC00018001FC00038001FE00030000FE00030000FE000600007F00
0600007F00FFE00FFFF8FFE00FFFF825227EA12A>65 D<FFFFFF8000FFFFFFE00007F001F80007
F000FC0007F0007E0007F0007E0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F00
07F0007E0007F000FE0007F000FC0007F003F80007FFFFF00007FFFFF00007F001FC0007F0007E
0007F0003F0007F0003F8007F0001F8007F0001FC007F0001FC007F0001FC007F0001FC007F000
1FC007F0001FC007F0003F8007F0003F8007F0007F0007F001FE00FFFFFFF800FFFFFFC0002222
7EA128>I<FFFFFF8000FFFFFFF00007F003FC0007F0007E0007F0003F0007F0001F8007F0000F
C007F00007E007F00007E007F00007F007F00003F007F00003F007F00003F007F00003F807F000
03F807F00003F807F00003F807F00003F807F00003F807F00003F807F00003F807F00003F807F0
0003F007F00003F007F00003F007F00007E007F00007E007F0000FC007F0001F8007F0003F0007
F0007E0007F003FC00FFFFFFF000FFFFFF800025227EA12B>68 D<FFFFFFFCFFFFFFFC07F000FC
07F0003C07F0001C07F0000C07F0000E07F0000E07F0000607F0180607F0180607F0180607F018
0007F0380007F0780007FFF80007FFF80007F0780007F0380007F0180007F0180007F0180307F0
180307F0000307F0000607F0000607F0000607F0000E07F0000E07F0001E07F0003E07F001FCFF
FFFFFCFFFFFFFC20227EA125>I<FFFFFFF8FFFFFFF807F001F807F0007807F0003807F0001807
F0001C07F0001C07F0000C07F0000C07F0180C07F0180C07F0180007F0180007F0380007F07800
07FFF80007FFF80007F0780007F0380007F0180007F0180007F0180007F0180007F0000007F000
0007F0000007F0000007F0000007F0000007F0000007F00000FFFFE000FFFFE0001E227EA123>
I<FFFF83FFFEFFFF83FFFE07F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F000
1FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007FF
FFFFC007FFFFFFC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007
F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC0
07F0001FC0FFFF83FFFEFFFF83FFFE27227EA12C>72 D<FFFFE0FFFFE003F80003F80003F80003
F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003
F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003
F800FFFFE0FFFFE013227FA115>I<FFFFFF00FFFFFFE007F007F007F001FC07F000FC07F0007E
07F0007E07F0007F07F0007F07F0007F07F0007F07F0007F07F0007E07F0007E07F000FC07F001
FC07F007F007FFFFE007FFFF0007F0000007F0000007F0000007F0000007F0000007F0000007F0
000007F0000007F0000007F0000007F0000007F0000007F00000FFFF8000FFFF800020227EA126
>80 D<01FC0407FF8C1F03FC3C007C7C003C78001C78001CF8000CF8000CFC000CFC0000FF0000
FFE0007FFF007FFFC03FFFF01FFFF80FFFFC03FFFE003FFE0003FF00007F00003F00003FC0001F
C0001FC0001FE0001EE0001EF0003CFC003CFF00F8C7FFE080FF8018227DA11F>83
D<7FFFFFFF807FFFFFFF807E03F80F807803F807807003F803806003F80180E003F801C0E003F8
01C0C003F800C0C003F800C0C003F800C0C003F800C00003F800000003F800000003F800000003
F800000003F800000003F800000003F800000003F800000003F800000003F800000003F8000000
03F800000003F800000003F800000003F800000003F800000003F800000003F800000003F80000
0003F8000003FFFFF80003FFFFF80022227EA127>I<FFFF800FFEFFFF800FFE07F00000C007F8
0000C003F800018003F800018001FC00030001FC00030001FE00070000FE00060000FF00060000
7F000C00007F800C00003F801800003F801800003FC03800001FC03000001FE03000000FE06000
000FF060000007F0C0000007F0C0000007F9C0000003F980000003FD80000001FF00000001FF00
000000FE00000000FE00000000FE000000007C000000007C00000000380000000038000027227F
A12A>86 D<07FC001FFF803F07C03F03E03F01E03F01F01E01F00001F00001F0003FF003FDF01F
C1F03F01F07E01F0FC01F0FC01F0FC01F0FC01F07E02F07E0CF81FF87F07E03F18167E951B>97
D<FF000000FF0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F00
00001F0000001F0000001F0000001F0FE0001F3FF8001FF07C001F801E001F001F001F000F801F
000F801F000FC01F000FC01F000FC01F000FC01F000FC01F000FC01F000FC01F000FC01F000F80
1F001F801F801F001FC03E001EE07C001C3FF800180FC0001A237EA21F>I<00FF8007FFE00F83
F01F03F03E03F07E03F07C01E07C0000FC0000FC0000FC0000FC0000FC0000FC00007C00007E00
007E00003E00301F00600FC0E007FF8000FE0014167E9519>I<0001FE000001FE0000003E0000
003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E00
01FC3E0007FFBE000F81FE001F007E003E003E007E003E007C003E00FC003E00FC003E00FC003E
00FC003E00FC003E00FC003E00FC003E00FC003E007C003E007C003E003E007E001E00FE000F83
BE0007FF3FC001FC3FC01A237EA21F>I<00FE0007FF800F87C01E01E03E01F07C00F07C00F8FC
00F8FC00F8FFFFF8FFFFF8FC0000FC0000FC00007C00007C00007E00003E00181F00300FC07003
FFC000FF0015167E951A>I<003F8000FFC001E3E003C7E007C7E00F87E00F83C00F80000F8000
0F80000F80000F80000F8000FFFC00FFFC000F80000F80000F80000F80000F80000F80000F8000
0F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80007FF8007FF800
13237FA211>I<03FC1E0FFF7F1F0F8F3E07CF3C03C07C03E07C03E07C03E07C03E07C03E03C03
C03E07C01F0F801FFF0013FC003000003000003800003FFF801FFFF00FFFF81FFFFC3800FC7000
3EF0001EF0001EF0001EF0001E78003C7C007C3F01F80FFFE001FF0018217E951C>I<FF000000
FF0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000
001F0000001F0000001F07E0001F1FF8001F307C001F403C001F803E001F803E001F003E001F00
3E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F
003E001F003E001F003E00FFE1FFC0FFE1FFC01A237EA21F>I<1C003E007F007F007F003E001C
000000000000000000000000000000FF00FF001F001F001F001F001F001F001F001F001F001F00
1F001F001F001F001F001F001F001F00FFE0FFE00B247EA310>I<FF00FF001F001F001F001F00
1F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F
001F001F001F001F001F001F001F00FFE0FFE00B237EA210>108 D<FF07F007F000FF1FFC1FFC
001F303E303E001F403E403E001F801F801F001F801F801F001F001F001F001F001F001F001F00
1F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F
001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F00FFE0FFE0FFE0FFE0
FFE0FFE02B167E9530>I<FF07E000FF1FF8001F307C001F403C001F803E001F803E001F003E00
1F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E
001F003E001F003E001F003E00FFE1FFC0FFE1FFC01A167E951F>I<00FE0007FFC00F83E01E00
F03E00F87C007C7C007C7C007CFC007EFC007EFC007EFC007EFC007EFC007EFC007E7C007C7C00
7C3E00F81F01F00F83E007FFC000FE0017167E951C>I<FF0FE000FF3FF8001FF07C001F803E00
1F001F001F001F801F001F801F000FC01F000FC01F000FC01F000FC01F000FC01F000FC01F000F
C01F000FC01F001F801F001F801F803F001FC03E001FE0FC001F3FF8001F0FC0001F0000001F00
00001F0000001F0000001F0000001F0000001F0000001F000000FFE00000FFE000001A207E951F
>I<FE1F00FE3FC01E67E01EC7E01E87E01E87E01F83C01F00001F00001F00001F00001F00001F
00001F00001F00001F00001F00001F00001F00001F0000FFF000FFF00013167E9517>114
D<0FF3003FFF00781F00600700E00300E00300F00300FC00007FE0007FF8003FFE000FFF0001FF
00000F80C00780C00380E00380E00380F00700FC0E00EFFC00C7F00011167E9516>I<01800001
80000180000180000380000380000780000780000F80003F8000FFFF00FFFF000F80000F80000F
80000F80000F80000F80000F80000F80000F80000F80000F80000F81800F81800F81800F81800F
81800F830007C30003FE0000F80011207F9F16>I<FF01FE00FF01FE001F003E001F003E001F00
3E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F
003E001F003E001F003E001F007E001F00FE000F81BE0007FF3FC001FC3FC01A167E951F>I<FF
E07FC0FFE07FC00F801C0007C0380003E0700003F0600001F8C00000F98000007F8000003F0000
001F0000001F8000003FC0000037C0000063E00000C1F00001C0F8000380FC0007007E000E003E
00FF80FFE0FF80FFE01B167F951E>120 D<FFE01FE0FFE01FE00F8006000F8006000FC00E0007
C00C0007E01C0003E0180003E0180001F0300001F0300000F8600000F86000007CC000007CC000
007FC000003F8000003F8000001F0000001F0000000E0000000E0000000C0000000C0000001800
0078180000FC380000FC300000FC60000069C000007F8000001F0000001B207F951E>I
E /Fe 10 58 df<003F800001FFF00007E0FC000FC07E001F803F001F803F003F001F803F001F
807F001FC07F001FC07F001FC07F001FC0FF001FE0FF001FE0FF001FE0FF001FE0FF001FE0FF00
1FE0FF001FE0FF001FE0FF001FE0FF001FE0FF001FE0FF001FE0FF001FE0FF001FE0FF001FE07F
001FC07F001FC07F001FC07F001FC03F001F803F001F801F803F001F803F000FC07E0007E0FC00
01FFF000003F80001B277DA622>48 D<000E00001E00007E0007FE00FFFE00FFFE00F8FE0000FE
0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE
0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE
0000FE0000FE007FFFFE7FFFFE7FFFFE17277BA622>I<00FF800003FFF0000FFFFC001F03FE00
3800FF007C007F80FE003FC0FF003FC0FF003FE0FF001FE0FF001FE07E001FE03C003FE000003F
E000003FC000003FC000007F8000007F000000FE000000FC000001F8000003F0000003E0000007
8000000F0000001E0000003C00E0007000E000E000E001C001C0038001C0070001C00FFFFFC01F
FFFFC03FFFFFC07FFFFFC0FFFFFF80FFFFFF80FFFFFF801B277DA622>I<007F800003FFF00007
FFFC000F81FE001F00FF003F80FF003F807F803F807F803F807F801F807F800F007F800000FF00
0000FF000000FE000001FC000001F8000007F00000FFC00000FFF0000001FC0000007E0000007F
0000007F8000003FC000003FC000003FE000003FE03C003FE07E003FE0FF003FE0FF003FE0FF00
3FC0FF007FC07E007F807C007F003F01FE001FFFFC0007FFF00000FF80001B277DA622>I<0000
0E0000001E0000003E0000007E000000FE000000FE000001FE000003FE0000077E00000E7E0000
0E7E00001C7E0000387E0000707E0000E07E0000E07E0001C07E0003807E0007007E000E007E00
0E007E001C007E0038007E0070007E00E0007E00FFFFFFF8FFFFFFF8FFFFFFF80000FE000000FE
000000FE000000FE000000FE000000FE000000FE000000FE00007FFFF8007FFFF8007FFFF81D27
7EA622>I<0C0003000F803F000FFFFE000FFFFC000FFFF8000FFFF0000FFFE0000FFFC0000FFE
00000E0000000E0000000E0000000E0000000E0000000E0000000E7FC0000FFFF8000F80FC000E
003E000C003F0000001F8000001FC000001FC000001FE000001FE018001FE07C001FE0FE001FE0
FE001FE0FE001FE0FE001FC0FC001FC078003F8078003F803C007F001F01FE000FFFF80003FFF0
0000FF80001B277DA622>I<0007F000003FFC0000FFFE0001FC0F0003F01F8007E03F800FC03F
801FC03F801F803F803F801F003F8000007F0000007F0000007F000000FF000000FF0FC000FF3F
F800FF707C00FFC03E00FFC03F00FF801F80FF801FC0FF001FC0FF001FE0FF001FE0FF001FE07F
001FE07F001FE07F001FE07F001FE03F001FE03F001FC01F801FC01F803F800FC03F0007E07E00
03FFFC0000FFF000003FC0001B277DA622>I<380000003E0000003FFFFFF03FFFFFF03FFFFFF0
7FFFFFE07FFFFFC07FFFFF807FFFFF0070000E0070000E0070001C00E0003800E0007000E000E0
000000E0000001C000000380000007800000078000000F0000000F0000001F0000001F0000003F
0000003E0000003E0000007E0000007E0000007E0000007E000000FE000000FE000000FE000000
FE000000FE000000FE000000FE000000FE0000007C0000003800001C297CA822>I<003FC00001
FFF00003FFFC0007C07E000F003F001E001F001E000F803E000F803E000F803F000F803F000F80
3FC00F003FF01F001FFC1E001FFE3C000FFFF80007FFE00003FFF80001FFFC0001FFFE0007FFFF
000F0FFF801E03FFC03C01FFC07C007FE078001FE0F80007E0F80007E0F80003E0F80003E0F800
03E0F80003C07C0003C07C0007803F000F001FC03E000FFFFC0003FFF800007FC0001B277DA622
>I<007F800001FFF00007FFF8000FE0FC001F807E003F803F007F003F007F001F80FF001F80FF
001FC0FF001FC0FF001FC0FF001FE0FF001FE0FF001FE0FF001FE07F001FE07F003FE03F003FE0
1F807FE00F807FE007C1DFE003FF9FE0007E1FE000001FE000001FC000001FC000001FC000003F
801F003F803F803F003F803F003F807E003F807C001F01F8001E03F0000FFFE00007FF800001FE
00001B277DA622>I E /Ff 80 125 df<007E1F0001C1B1800303E3C00703C3C00E03C1800E01
C0000E01C0000E01C0000E01C0000E01C0000E01C000FFFFFC000E01C0000E01C0000E01C0000E
01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C000
0E01C0000E01C0000E01C0007F87FC001A1D809C18>11 D<007E0001C1800301800703C00E03C0
0E01800E00000E00000E00000E00000E0000FFFFC00E01C00E01C00E01C00E01C00E01C00E01C0
0E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C07F87F8151D809C17>
I<007FC001C1C00303C00703C00E01C00E01C00E01C00E01C00E01C00E01C00E01C0FFFFC00E01
C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01
C00E01C00E01C07FCFF8151D809C17>I<003F07E00001C09C18000380F018000701F03C000E01
E03C000E00E018000E00E000000E00E000000E00E000000E00E000000E00E00000FFFFFFFC000E
00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C00
0E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C
007FC7FCFF80211D809C23>I<6060F0F0F8F86868080808080808101010102020404080800D0C
7F9C15>34 D<60F0F8680808081010204080050C7C9C0C>39 D<004000800100020006000C000C
0018001800300030007000600060006000E000E000E000E000E000E000E000E000E000E000E000
E000600060006000700030003000180018000C000C00060002000100008000400A2A7D9E10>I<
800040002000100018000C000C000600060003000300038001800180018001C001C001C001C001
C001C001C001C001C001C001C001C0018001800180038003000300060006000C000C0018001000
2000400080000A2A7E9E10>I<0006000000060000000600000006000000060000000600000006
0000000600000006000000060000000600000006000000060000FFFFFFE0FFFFFFE00006000000
060000000600000006000000060000000600000006000000060000000600000006000000060000
00060000000600001B1C7E9720>43 D<60F0F0701010101020204080040C7C830C>I<FFE0FFE0
0B0280890E>I<60F0F06004047C830C>I<00010003000600060006000C000C000C001800180018
0030003000300060006000C000C000C0018001800180030003000300060006000C000C000C0018
0018001800300030003000600060006000C000C00010297E9E15>I<03C00C301818300C300C70
0E60066006E007E007E007E007E007E007E007E007E007E007E007E007E00760066006700E300C
300C18180C3007E0101D7E9B15>I<030007003F00C70007000700070007000700070007000700
070007000700070007000700070007000700070007000700070007000F80FFF80D1C7C9B15>I<
07C01830201C400C400EF00FF80FF807F8077007000F000E000E001C001C00380070006000C001
80030006010C01180110023FFE7FFEFFFE101C7E9B15>I<07E01830201C201C781E780E781E38
1E001C001C00180030006007E00030001C001C000E000F000F700FF80FF80FF80FF00E401C201C
183007E0101D7E9B15>I<000C00000C00001C00003C00003C00005C0000DC00009C00011C0003
1C00021C00041C000C1C00081C00101C00301C00201C00401C00C01C00FFFFC0001C00001C0000
1C00001C00001C00001C00001C0001FFC0121C7F9B15>I<300C3FF83FF03FC020002000200020
002000200023E024302818301C200E000E000F000F000F600FF00FF00FF00F800E401E401C2038
187007C0101D7E9B15>I<00F0030C06040C0E181E301E300C700070006000E3E0E430E818F00C
F00EE006E007E007E007E007E007600760077006300E300C18180C3003E0101D7E9B15>I<4000
007FFF807FFF007FFF0040020080040080040080080000100000100000200000600000400000C0
0000C00001C0000180000180000380000380000380000380000780000780000780000780000780
00078000030000111D7E9B15>I<03E00C301008200C20066006600660067006780C3E083FB01F
E007F007F818FC307E601E600FC007C003C003C003C00360026004300C1C1007E0101D7E9B15>
I<03C00C301818300C700C600EE006E006E007E007E007E007E0076007700F300F18170C2707C7
00060006000E300C780C78187010203030C00F80101D7E9B15>I<60F0F0600000000000000000
000060F0F06004127C910C>I<60F0F0600000000000000000000060F0F0701010101020204080
041A7C910C>I<7FFFFFC0FFFFFFE0000000000000000000000000000000000000000000000000
0000000000000000FFFFFFE07FFFFFC01B0C7E8F20>61 D<000600000006000000060000000F00
00000F0000000F00000017800000178000001780000023C0000023C0000023C0000041E0000041
E0000041E0000080F0000080F0000180F8000100780001FFF80003007C0002003C0002003C0006
003E0004001E0004001E000C001F001E001F00FF80FFF01C1D7F9C1F>65
D<FFFFC00F00F00F00380F003C0F001C0F001E0F001E0F001E0F001E0F001C0F003C0F00780F01
F00FFFE00F00780F003C0F001E0F000E0F000F0F000F0F000F0F000F0F000F0F001E0F001E0F00
3C0F0078FFFFE0181C7E9B1D>I<001F808000E0618001801980070007800E0003801C0003801C
00018038000180780000807800008070000080F0000000F0000000F0000000F0000000F0000000
F0000000F0000000F0000000700000807800008078000080380000801C0001001C0001000E0002
00070004000180080000E03000001FC000191E7E9C1E>I<FFFFC0000F00F0000F003C000F000E
000F0007000F0007000F0003800F0003C00F0001C00F0001C00F0001E00F0001E00F0001E00F00
01E00F0001E00F0001E00F0001E00F0001E00F0001C00F0001C00F0003C00F0003800F0007800F
0007000F000E000F001C000F007000FFFFC0001B1C7E9B20>I<FFFFFC0F003C0F000C0F00040F
00040F00060F00020F00020F02020F02000F02000F02000F06000FFE000F06000F02000F02000F
02000F02010F00010F00020F00020F00020F00060F00060F000C0F003CFFFFFC181C7E9B1C>I<
FFFFF80F00780F00180F00080F00080F000C0F00040F00040F02040F02000F02000F02000F0600
0FFE000F06000F02000F02000F02000F02000F00000F00000F00000F00000F00000F00000F0000
0F8000FFF800161C7E9B1B>I<001F808000E0618001801980070007800E0003801C0003801C00
018038000180780000807800008070000080F0000000F0000000F0000000F0000000F0000000F0
000000F000FFF0F0000F80700007807800078078000780380007801C0007801C0007800E000780
07000B800180118000E06080001F80001C1E7E9C21>I<FFF3FFC00F003C000F003C000F003C00
0F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000FFFFC
000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F00
3C000F003C000F003C000F003C00FFF3FFC01A1C7E9B1F>I<FFF00F000F000F000F000F000F00
0F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F
00FFF00C1C7F9B0F>I<FFF03FE00F000F000F000C000F0008000F0010000F0020000F0040000F
0080000F0100000F0200000F0400000F0E00000F1F00000F2F00000F2780000F4780000F83C000
0F01E0000F01E0000F00F0000F00F8000F0078000F003C000F003C000F001E000F001F000F001F
80FFF07FF01C1C7E9B20>75 D<FFF8000F80000F00000F00000F00000F00000F00000F00000F00
000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00080F00080F00080F00
180F00180F00100F00300F00700F01F0FFFFF0151C7E9B1A>I<FF8000FF800F8000F8000F8000
F8000BC00178000BC00178000BC001780009E002780009E002780008F004780008F004780008F0
047800087808780008780878000878087800083C107800083C107800083C107800081E20780008
1E207800081E207800080F407800080F4078000807807800080780780008078078000803007800
1C03007800FF8307FF80211C7E9B26>I<FF007FC00F800E000F8004000BC0040009E0040009E0
040008F0040008F8040008780400083C0400083C0400081E0400080F0400080F04000807840008
07C4000803C4000801E4000801E4000800F40008007C0008007C0008003C0008003C0008001C00
08000C001C000C00FF8004001A1C7E9B1F>I<003F800000E0E0000380380007001C000E000E00
1C0007003C00078038000380780003C0780003C0700001C0F00001E0F00001E0F00001E0F00001
E0F00001E0F00001E0F00001E0F00001E0700001C0780003C0780003C0380003803C0007801C00
07000E000E0007001C000380380000E0E000003F80001B1E7E9C20>I<FFFF800F00E00F00780F
003C0F001C0F001E0F001E0F001E0F001E0F001E0F001C0F003C0F00780F00E00FFF800F00000F
00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F0000FFF000171C7E9B
1C>I<003F800000E0E0000380380007001C000E000E001C0007003C00078038000380780003C0
780003C0700001C0F00001E0F00001E0F00001E0F00001E0F00001E0F00001E0F00001E0F00001
E0700001C0780003C0780003C0380003803C0E07801C1107000E208E000720DC0003A0F80000F0
E020003FE0200000602000007060000078E000003FC000003FC000001F8000000F001B257E9C20
>I<FFFF00000F01E0000F0078000F003C000F001C000F001E000F001E000F001E000F001E000F
001C000F003C000F0078000F01E0000FFF00000F03C0000F00E0000F00F0000F0078000F007800
0F0078000F0078000F0078000F0078000F0078100F0078100F0038100F003C20FFF01C20000007
C01C1D7E9B1F>I<07E0801C1980300580700380600180E00180E00080E00080E00080F00000F8
00007C00007FC0003FF8001FFE0007FF0000FF80000F800007C00003C00001C08001C08001C080
01C0C00180C00180E00300D00200CC0C0083F800121E7E9C17>I<7FFFFFC0700F01C0600F00C0
400F0040400F0040C00F0020800F0020800F0020800F0020000F0000000F0000000F0000000F00
00000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F
0000000F0000000F0000000F0000001F800003FFFC001B1C7F9B1E>I<FFF07FC00F000E000F00
04000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F
0004000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F000400
0700080007800800038010000180100000C020000070C000001F00001A1D7E9B1F>I<FFE00FF0
1F0003C00F0001800F0001000F800300078002000780020003C0040003C0040003C0040001E008
0001E0080001F0080000F0100000F0100000F830000078200000782000003C4000003C4000003C
4000001E8000001E8000001F8000000F0000000F00000006000000060000000600001C1D7F9B1F
>I<FFE0FFE0FF1F001F003C1E001E00180F001F00100F001F00100F001F001007801F00200780
278020078027802003C027804003C043C04003C043C04003E043C04001E081E08001E081E08001
E081E08000F100F10000F100F10000F100F100007900FA00007A007A00007A007A00003E007C00
003C003C00003C003C00003C003C00001800180000180018000018001800281D7F9B2B>I<7FF0
FFC00FC03E000780180003C0180003E0100001E0200001F0600000F0400000788000007D800000
3D0000001E0000001F0000000F0000000F8000000F80000013C0000023E0000021E0000041F000
00C0F8000080780001007C0003003C0002001E0006001F001F003F80FFC0FFF01C1C7F9B1F>I<
FFF007FC0F8001E00780008007C0018003C0010003E0020001F0020000F0040000F80400007808
00007C1800003C1000001E2000001F2000000F4000000FC0000007800000078000000780000007
800000078000000780000007800000078000000780000007800000078000007FF8001E1C809B1F
>I<7FFFF07C01F07001E06003C06003C0400780400F80400F00401E00001E00003C00007C0000
780000F00000F00001E00003E00003C0100780100780100F00101F00301E00203C00203C006078
00E0F803E0FFFFE0141C7E9B19>I<08081010202040404040808080808080B0B0F8F878783030
0D0C7A9C15>92 D<1FC000307000783800781C00301C00001C00001C0001FC000F1C00381C0070
1C00601C00E01C40E01C40E01C40603C40304E801F870012127E9115>97
D<FC00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C7C001D86
001E03001C01801C01C01C00C01C00E01C00E01C00E01C00E01C00E01C00E01C00C01C01C01C01
801E030019060010F800131D7F9C17>I<07E00C301878307870306000E000E000E000E000E000
E00060007004300418080C3007C00E127E9112>I<003F00000700000700000700000700000700
00070000070000070000070000070003E7000C1700180F00300700700700600700E00700E00700
E00700E00700E00700E00700600700700700300700180F000C370007C7E0131D7E9C17>I<03E0
0C301818300C700E6006E006FFFEE000E000E000E00060007002300218040C1803E00F127F9112
>I<00F8018C071E061E0E0C0E000E000E000E000E000E00FFE00E000E000E000E000E000E000E
000E000E000E000E000E000E000E000E000E007FE00F1D809C0D>I<00038003C4C00C38C01C38
80181800381C00381C00381C00381C001818001C38000C300013C0001000003000001800001FF8
001FFF001FFF803003806001C0C000C0C000C0C000C06001803003001C0E0007F800121C7F9215
>I<FC00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C7C001C
87001D03001E03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C
03801C03801C0380FF9FF0141D7F9C17>I<18003C003C00180000000000000000000000000000
00FC001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C00FF80091D
7F9C0C>I<00C001E001E000C000000000000000000000000000000FE000E000E000E000E000E0
00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E060E0F0C0F1C061803E
000B25839C0D>I<FC00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C
00001C3FC01C0F001C0C001C08001C10001C20001C40001CE0001DE0001E70001C78001C38001C
3C001C1C001C0E001C0F001C0F80FF9FE0131D7F9C16>I<FC001C001C001C001C001C001C001C
001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C00
1C00FF80091D7F9C0C>I<FC7E07E0001C838838001D019018001E01E01C001C01C01C001C01C0
1C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01
C01C001C01C01C001C01C01C001C01C01C00FF8FF8FF8021127F9124>I<FC7C001C87001D0300
1E03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C0380
1C0380FF9FF014127F9117>I<03F0000E1C00180600300300700380600180E001C0E001C0E001
C0E001C0E001C0E001C06001807003803003001806000E1C0003F00012127F9115>I<FC7C001D
86001E03001C01801C01C01C00C01C00E01C00E01C00E01C00E01C00E01C00E01C01C01C01C01C
01801E03001D06001CF8001C00001C00001C00001C00001C00001C00001C0000FF8000131A7F91
17>I<03C1000C3300180B00300F00700700700700E00700E00700E00700E00700E00700E00700
600700700700300F00180F000C370007C700000700000700000700000700000700000700000700
003FE0131A7E9116>I<FCE01D301E781E781C301C001C001C001C001C001C001C001C001C001C
001C001C00FFC00D127F9110>I<1F9030704030C010C010E010F8007F803FE00FF000F8803880
18C018C018E010D0608FC00D127F9110>I<04000400040004000C000C001C003C00FFE01C001C
001C001C001C001C001C001C001C001C101C101C101C101C100C100E2003C00C1A7F9910>I<FC
1F801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C
03801C07800C07800E1B8003E3F014127F9117>I<FF07E03C03801C01001C01000E02000E0200
07040007040007040003880003880003D80001D00001D00000E00000E00000E00000400013127F
9116>I<FF3FCFE03C0F03801C0701801C0701001C0B01000E0B82000E0B82000E1182000711C4
000711C4000720C40003A0E80003A0E80003C0680001C0700001C0700001803000008020001B12
7F911E>I<7F8FF00F03800F030007020003840001C80001D80000F00000700000780000F80000
9C00010E00020E000607000403801E07C0FF0FF81512809116>I<FF07E03C03801C01001C0100
0E02000E020007040007040007040003880003880003D80001D00001D00000E00000E00000E000
004000004000008000008000F08000F10000F300006600003C0000131A7F9116>I<7FFC703860
38407040F040E041C003C0038007000F040E041C043C0C380870087038FFF80E127F9112>I<FF
FFF01401808B15>I<FFFFFFFFFF802901808B2A>I E /Fg 26 91 df<FFE0FFE00B0280890E>
45 D<E0E0E003037C820C>I<001C0000003E0000003E0000002E0000006700000067000000E780
0000C7800000C3800001C3C0000183C0000181C0000381E0000381E0000700F0000700F0000600
F0000E0078000FFFF8000FFFF8001C003C001C003C0018003C0038001E0038001E0070001F0070
000F0070000F00E0000780191D7F9C1C>65 D<FFF800FFFF00F00F80F003C0F001E0F000F0F000
F0F000F0F000F0F000F0F001E0F007C0FFFF80FFFE00FFFF80F03FC0F003E0F001F0F000F0F000
78F00078F00078F00078F00078F000F0F001E0F007C0FFFF80FFFC00151D7C9C1C>I<003FC000
FFF003C0F00780300F00001E00003C00003C0000780000780000780000F00000F00000F00000F0
0000F00000F00000F00000F00000F000007800007800007800003C00003C00001E00000F000807
801803C07800FFF0003F80151F7D9D1B>I<FFFC00FFFF00F00F80F003E0F001F0F000F0F00078
F00038F0003CF0003CF0001CF0001EF0001EF0001EF0001EF0001EF0001EF0001EF0001EF0003C
F0003CF0003CF00078F000F0F000F0F003E0F00FC0FFFF00FFFC00171D7C9C1E>I<FFFFC0FFFF
C0F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000FFFF80FFFF
80F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000FFFF
C0FFFFC0121D7C9C19>I<FFFF80FFFF80F00000F00000F00000F00000F00000F00000F00000F0
0000F00000F00000F00000FFFF00FFFF00F00000F00000F00000F00000F00000F00000F00000F0
0000F00000F00000F00000F00000F00000F00000111D7C9C18>I<003F8001FFF003C0F8078038
0F00181E00003C00003C0000780000780000780000F00000F00000F00000F00000F00000F00000
F007F8F007F8F000387800387800387800383C00383C00381E00380F003807803803C0F801FFF0
003F80151F7D9D1C>I<F000F0F000F0F000F0F000F0F000F0F000F0F000F0F000F0F000F0F000
F0F000F0F000F0F000F0FFFFF0FFFFF0F000F0F000F0F000F0F000F0F000F0F000F0F000F0F000
F0F000F0F000F0F000F0F000F0F000F0F000F0141D7C9C1D>I<F0F0F0F0F0F0F0F0F0F0F0F0F0
F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0041D7C9C0C>I<F0003CF00078F000F0F001E0F003C0F0
0780F00F00F01E00F03C00F07800F0F000F0E000F1F000F3F000F77800FE7C00FC3C00FC1E00F8
1F00F00F00F00F80F00780F003C0F003E0F001E0F000F0F000F0F00078F0007C161D7C9C1D>75
D<F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000
F000F000F000F000F000F000F000F000FFFEFFFE0F1D7C9C16>I<FC0007E0FC0007E0FC0007E0
EE000DE0EE000DE0EE000DE0E70019E0E70019E0E70019E0E78039E0E38031E0E3C071E0E3C071
E0E1C061E0E1C061E0E1E0E1E0E1E0E1E0E0E0C1E0E0F1C1E0E07181E0E07181E0E07181E0E03B
01E0E03B01E0E03B01E0E01E01E0E01E01E0E01E01E0E00001E01B1D7C9C24>I<FC0070FC0070
FE0070EE0070EF0070E70070E70070E78070E38070E3C070E3C070E1E070E1E070E0E070E0F070
E07070E07870E07870E03C70E03C70E01C70E01E70E00E70E00E70E00F70E00770E007F0E003F0
E003F0141D7C9C1D>I<003F000001FFE00003FFF00007C0F8000F807C001E001E003E001F003C
000F00780007807800078078000780F00003C0F00003C0F00003C0F00003C0F00003C0F00003C0
F00003C0F00003C0F80007C078000780780007807C000F803C000F003E001F001F003E000F807C
0007C0F80003FFF00001FFE000003F00001A1F7E9D1F>I<FFFC00FFFF00F00F80F003C0F001E0
F000F0F000F0F000F0F000F0F000F0F000F0F001E0F003E0F00FC0FFFF80FFFE00F00000F00000
F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000141D7C9C1B>
I<003F000001FFE00003FFF00007C0F8000F807C001F003E003E001F003C000F00780007807800
078078000780F00003C0F00003C0F00003C0F00003C0F00003C0F00003C0F00003C0F00003C0F0
0003C07800078078000780780E07803C0F0F003E079F001E03DE000F83FC0007C1F80003FFF000
01FFF800003F780000003C0000003E0000001F0000000F801A237E9D1F>I<FFF800FFFF00F00F
80F003C0F001E0F000F0F000F0F000F0F000F0F000F0F001E0F003E0F00FC0FFFF80FFFF00FFF8
00F03C00F01C00F01E00F00F00F00F00F00780F00780F003C0F003C0F001E0F000F0F000F0F000
78151D7C9C1B>I<03F8000FFE001C0F00380700700300600000E00000E00000E00000E00000F0
00007800007F00003FE0001FFC0007FE0001FF00001F800007800003C00003C00001C00001C000
01C00001C0C00180E00380F007007C0E001FFC0007F000121F7E9D17>I<FFFFFF80FFFFFF8000
1E0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000
001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E0000001E00
00001E0000001E0000001E0000001E0000001E0000001E0000001E0000191D7F9C1C>I<F00070
F00070F00070F00070F00070F00070F00070F00070F00070F00070F00070F00070F00070F00070
F00070F00070F00070F00070F00070F00070F00070F00070F000707800E07800E03C01C01E0380
0F078007FE0001F800141E7C9C1D>I<F0000380F00003807800070078000700780007003C000E
003C000E003E000E001E001C001E001C000F0038000F0038000F003800078070000780700003C0
600003C0E00003C0E00001E0C00001E1C00001E1C00000F1800000F38000007300000073000000
7B0000003E0000003E0000001C0000191D7F9C1C>I<F000F00070F000F80070F000F800707800
B8006078019C00E078019C00E078019C00E03C039C01C03C031E01C03C030E01C01E030E01801E
070F03801E070F03801E060703800F060703000F0E0787000F0C078700070C038600070C038600
078C038E00079803CE00039801CC00039801CC00039801CC0001D001C80001D000D80001F000F8
0001E000F80000E0007000241D7F9C27>I<F80001E07C0001C03E0003801E0007801F0007000F
800E0007801E0007C01C0003E03C0001E0380001F0700000F0F0000078E000007DC000003FC000
001F8000001F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F00
00000F0000000F0000000F0000000F00001B1D809C1C>89 D<7FFFF07FFFF00001E00003E00003
C00007C0000780000F00001F00001E00003E00003C0000780000F80000F00001F00001E00003C0
0007C0000780000F80000F00001E00003E00003C00007C0000780000FFFFF0FFFFF0141D7E9C19
>I E /Fh 63 123 df<0387000387000387000387000387000387007FFFC0FFFFE0FFFFE0070E
00070E00070E000E1C000E1C000E1C000E1C00FFFFE0FFFFE07FFFC01C38001C38001C38001C38
001C38001C380013197F9816>35 D<00E001E0038007000E001C001C0038003800700070007000
E000E000E000E000E000E000E000E000E000700070007000380038001C001C000E000700038001
E000E00B217A9C16>40 D<C000E000700038001C000E000E000700070003800380038001C001C0
01C001C001C001C001C001C001C0038003800380070007000E000E001C0038007000E000C0000A
217B9C16>I<01C00001C00001C00001C00071C700F9CF807FFF001FFC0007F00007F0001FFC00
7FFF00F9CF8071C70001C00001C00001C00001C00011127E9516>I<01C00001C00001C00001C0
0001C00001C00001C00001C000FFFF80FFFF80FFFF8001C00001C00001C00001C00001C00001C0
0001C00001C00011137E9516>I<387C7E7E3E0E1E1C78F060070B798416>I<FFFF80FFFF80FFFF
8011037E8D16>I<70F8F8F8700505788416>I<000180000380000380000700000700000E00000E
00001C00001C0000380000380000700000700000E00000E00001C00001C0000380000380000700
000700000E00000E00001C00001C0000380000380000700000700000E00000E00000C000001120
7E9C16>I<03E0000FF8001FFC001E3C00380E00780F00700700700700E00380E00380E00380E0
0380E00380E00380E00380E00380F00780700700700700780F003C1E001E3C001FFC000FF80003
E00011197E9816>I<01800380038007800F807F80FF8073800380038003800380038003800380
03800380038003800380038003807FF87FFC7FF80E197C9816>I<07E0001FF8003FFC00783E00
E00700F00780F00380600380000380000380000700000700000E00001C0000380000700000E000
01C0000380000F00001E03803803807FFF80FFFF807FFF8011197E9816>I<07E0001FF8003FFC
00781E00780700300700000700000700000E00003E0007FC0007F00007FC00001E000007000003
00000380000380600380F00380E00700781E003FFC001FF80007E00011197E9816>I<007C0000
FC0000DC0001DC00039C00039C00071C000F1C000E1C001E1C003C1C00381C00781C00F01C00FF
FFE0FFFFE0FFFFE0001C00001C00001C00001C00001C0001FFC001FFC001FFC013197F9816>I<
3FFE003FFE003FFE003800003800003800003800003800003800003800003BF0003FFC003FFE00
3C0F00300700000380000380600380F00380F00380E00700781E003FFC001FF80007E00011197E
9816>I<E00000FFFF80FFFF80FFFF80E00F00E01E00001C0000380000780000700000E00000E0
0001C00001C00001C0000380000380000380000380000700000700000700000700000700000700
00070000111A7E9916>55 D<07F0001FFC003FFE007C1F00F00780E00380E00380E00380700700
7C1F001FFC0007F0001FFC003C1E00700700F00780E00380E00380E00380F007807007007C1F00
3FFE001FFC0007F00011197E9816>I<03E0000FF8001FFC003C1E00700E00700700E00700E007
80E00380E00380E00780700780780F803FFF801FFB800FE380000700000700300700780E00781C
007078003FF0001FE0000F800011197E9816>I<70F8F8F870000000000000000070F8F8F87005
12789116>I<00E00001F00001F00001B00001B00003B80003B80003B800031800071C00071C00
071C00071C00071C000E0E000E0E000FFE000FFE001FFF001C07001C07001C07007F1FC0FF1FE0
7F1FC013197F9816>65 D<7FF800FFFE007FFF001C0F001C07801C03801C03801C03801C07801C
07001FFF001FFE001FFE001C1F001C03801C03C01C01C01C01C01C01C01C01C01C03C01C07807F
FF80FFFF007FFC0012197F9816>I<01F18007FB800FFF801F0F803C0780380380700380700380
F00000E00000E00000E00000E00000E00000E00000E00000F000007003807003803803803C0700
1F0F000FFE0007FC0001F00011197E9816>I<7FF800FFFE007FFF001C0F001C07801C03C01C01
C01C01C01C01E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C01C01C01C01C03
C01C07801C0F807FFF00FFFE007FF8001319809816>I<7FFFC0FFFFC07FFFC01C01C01C01C01C
01C01C01C01C00001C00001C1C001C1C001FFC001FFC001FFC001C1C001C1C001C00001C00E01C
00E01C00E01C00E01C00E07FFFE0FFFFE07FFFE013197F9816>I<FFFFE0FFFFE0FFFFE01C00E0
1C00E01C00E01C00E01C00001C00001C1C001C1C001FFC001FFC001FFC001C1C001C1C001C0000
1C00001C00001C00001C00001C0000FF8000FFC000FF800013197F9816>I<03E30007FF000FFF
001E1F003C0F00380700700700700700F00000E00000E00000E00000E00000E03F80E07FC0E03F
80F00700700700700700380F003C0F001E1F000FFF0007F70003E70012197E9816>I<7F1FC0FF
BFE07F1FC01C07001C07001C07001C07001C07001C07001C07001FFF001FFF001FFF001C07001C
07001C07001C07001C07001C07001C07001C07001C07007F1FC0FFBFE07F1FC013197F9816>I<
FFFEFFFEFFFE038003800380038003800380038003800380038003800380038003800380038003
8003800380FFFEFFFEFFFE0F197D9816>I<07FE07FF07FE003800380038003800380038003800
38003800380038003800380038003800386038F038F0707FF07FE01F8010197D9816>I<FFC000
FFC000FFC0001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C0000
1C00001C00001C00001C00401C00E01C00E01C00E01C00E0FFFFE0FFFFE0FFFFE013197F9816>
76 D<FC07E0FE0FE0FE0FE03A0B803B1B803B1B803B1B803B1B803B1B803BBB8039B38039B380
39B38039B38039F38038E38038E380380380380380380380380380380380FE0FE0FE0FE0FE0FE0
13197F9816>I<1FFC003FFE007FFF00780F00F00780E00380E00380E00380E00380E00380E003
80E00380E00380E00380E00380E00380E00380E00380E00380F00780F00780780F007FFF003FFE
001FFC0011197E9816>79 D<7FF800FFFE007FFF001C0F801C03801C03C01C01C01C01C01C01C0
1C03C01C03801C0F801FFF001FFE001FF8001C00001C00001C00001C00001C00001C00001C0000
7F0000FF80007F000012197F9816>I<7FE000FFF8007FFC001C1E001C0F001C07001C07001C07
001C07001C0F001C1E001FFC001FF8001FFC001C1C001C0E001C0E001C0E001C0E001C0E201C0E
701C0E707F07E0FF87E07F03C014197F9816>82 D<07E3001FFF003FFF00781F00F00700E00700
E00700E00000F000007800003F80001FF00007FC0000FE00000F00000700000380000380600380
E00380E00700F80F00FFFE00FFFC00C7F00011197E9816>I<7FFFE0FFFFE0FFFFE0E0E0E0E0E0
E0E0E0E0E0E0E000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E0
0000E00000E00000E00000E00007FC000FFE0007FC0013197F9816>I<FE0FE0FF1FE0FE0FE038
03801C07001C07001C07001C07000E0E000E0E000E0E000E0E00060C00071C00071C00071C0007
1C0003180003B80003B80003B80001B00001F00001F00000E00013197F9816>86
D<FE0FE0FF1FE0FE0FE01C07001C07000E0E000E0E00071C00071C00071C0003B80003B80001F0
0001F00000E00000E00000E00000E00000E00000E00000E00000E00003F80007FC0003F8001319
7F9816>89 D<1FE0003FF0007FF800783C00300E00000E00000E0003FE001FFE003E0E00700E00
E00E00E00E00E00E00783E007FFFE03FE7E00F83E013127E9116>97 D<7E0000FE00007E00000E
00000E00000E00000E00000E3E000EFF000FFF800F83C00F00E00E00E00E00700E00700E00700E
00700E00700E00700E00E00F01E00F83C00FFF800EFF00063C001419809816>I<03F80FFC1FFE
3C1E780C7000E000E000E000E000E000F000700778073E0E1FFC0FF803F010127D9116>I<003F
00007F00003F0000070000070000070000070003C7000FF7001FFF003C1F00780F00700700E007
00E00700E00700E00700E00700E00700700F00700F003C1F001FFFE00FE7F007C7E014197F9816
>I<03E00FF81FFC3C1E780E7007E007FFFFFFFFFFFFE000E000700778073C0F1FFE0FFC03F010
127D9116>I<001F00007F8000FF8001E78001C30001C00001C0007FFF00FFFF00FFFF0001C000
01C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C0003FFE007FFF00
3FFE0011197F9816>I<03E3C007F7E00FFFE01C1CC0380E00380E00380E00380E00380E001C1C
000FF8001FF0001BE0003800001800001FFC001FFF003FFF807803C0E000E0E000E0E000E0E000
E07001C07C07C03FFF800FFE0003F800131C7F9116>I<7E0000FE00007E00000E00000E00000E
00000E00000E3C000EFE000FFF000F87800F03800E03800E03800E03800E03800E03800E03800E
03800E03800E03800E03807FC7F0FFE7F87FC7F01519809816>I<018003C003C0018000000000
000000007FC07FC07FC001C001C001C001C001C001C001C001C001C001C001C001C07FFFFFFF7F
FF101A7D9916>I<7E0000FE00007E00000E00000E00000E00000E00000E7FE00E7FE00E7FE00E
0F000E1E000E3C000E78000EF0000FF0000FF8000FBC000F1E000E0E000E07000E07807F87F0FF
CFF07F87F01419809816>107 D<FFC000FFC000FFC00001C00001C00001C00001C00001C00001
C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001
C000FFFF80FFFF80FFFF8011197E9816>I<F9C380FFEFC0FFFFE03C78E03C78E03870E03870E0
3870E03870E03870E03870E03870E03870E03870E03870E0FE7CF8FE7CF8FE3C781512809116>
I<7E3C00FEFE007FFF000F87800F03800E03800E03800E03800E03800E03800E03800E03800E03
800E03800E03807FC7F0FFE7F87FC7F01512809116>I<03E0000FF8001FFC003C1E00780F0070
0700E00380E00380E00380E00380E00380F00780700700780F003C1E001FFC000FF80003E00011
127E9116>I<7E3E00FEFF007FFF800F83C00F00E00E00E00E00700E00700E00700E00700E0070
0E00700E00E00F01E00F83C00FFF800EFF000E3C000E00000E00000E00000E00000E00000E0000
7FC000FFE0007FC000141B809116>I<07C7000FE7001FF7003C1F00700F00700F00E00700E007
00E00700E00700E00700E00700700F00700F003C3F003FF7001FE70007C7000007000007000007
00000700000700000700003FE0007FF0003FE0141B7E9116>I<FF0FC0FF3FE0FF7FE007F04007
C000078000078000070000070000070000070000070000070000070000070000FFFC00FFFC00FF
FC0013127F9116>I<0FEC3FFC7FFCF03CE01CE01C70007F801FF007F8003C600EE00EF00EF81E
FFFCFFF8C7E00F127D9116>I<0300000700000700000700000700007FFF00FFFF00FFFF000700
0007000007000007000007000007000007000007010007038007038007038007870003FE0001FC
0000F80011177F9616>I<7E1F80FE3F807E1F800E03800E03800E03800E03800E03800E03800E
03800E03800E03800E03800E03800E0F800FFFF007FBF803E3F01512809116>I<7F1FC0FF1FE0
7F1FC01C07001E0F000E0E000E0E000E0E00071C00071C00071C00071C0003B80003B80003B800
01F00001F00000E00013127F9116>I<FF1FE0FFBFE0FF1FE038038038038038038038038038E3
8019F30019F30019B3001DB7001DB7001DB7001DB7000F1E000F1E000F1E0013127F9116>I<7F
1FC07F3FC07F1FC00F1C00073C0003B80003F00001F00000E00001E00001F00003B800073C0007
1C000E0E007F1FC0FF3FE07F1FC013127F9116>I<7F1FC0FF9FE07F1FC01C07000E07000E0E00
0E0E00070E00071C00071C00039C00039C0003980001B80001B80000F00000F00000F00000E000
00E00000E00001C00079C0007BC0007F80003F00003C0000131B7F9116>I<3FFFC07FFFC07FFF
C0700780700F00701E00003C0000780001F00003E0000780000F00001E01C03C01C07801C0FFFF
C0FFFFC0FFFFC012127F9116>I E end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 300
TeXDict begin 
%%EndSetup
%%Page: 1 1
bop 22 42 a Fh(*****)42 b(Computer)20 b(Library)h(Periodicals,)e(Jan)i(1990)g
(:)h(Doc)f(#14753)42 b(*****)0 141 y(Journal:)64 b(Microsoft)20
b(Systems)g(Journal)g(Sept)h(1989)g(v4)h(n5)f(p1\(13\))240
191 y(*)g(Full)g(Text)g(COPYRIGHT)f(Microsoft)g(Corp.)h(1989.)0
241 y(-----------------)o(-----)o(-----)o(-----)o(-----)o(-----)o(----)o
(-----)o(-----)o(-----)o(-----)o(-----)o(----)o(--)0 291 y(Title:)108
b(Design)20 b(goals)h(and)g(implementation)e(of)i(the)h(new)f(High)g
(Performance)e(File)i(System.)240 340 y(\(includes)f(related)g(article)g(on)i
(B)f(Trees)g(and)g(B+)h(Trees\))0 390 y(Author:)86 b(Duncan,)20
b(Roy.)0 490 y(Summary:)64 b(The)21 b(High)g(Performance)e(File)i(System)g
(\(HPFS\))f(enhancement)g(to)h(OS/2)g(Version)240 540 y(1.2)g(solves)f(all)i
(the)f(problems)f(of)h(the)g(File)g(Allocation)f(Table)h(\(FAT\))g(file)240
589 y(system)f(and)h(is)h(designed)e(to)h(meet)g(the)g(demands)g(expected)f
(into)h(the)g(next)g(few)240 639 y(decades.)42 b(HPFS)21 b(not)g(only)g
(serves)f(as)i(a)f(way)g(to)h(organize)e(data)h(on)g(random)240
689 y(access)f(block)h(storage)f(devices,)h(but)g(is)g(also)g(a)h(software)e
(module)g(that)240 739 y(translates)f(file-oriented)h(requests)g(from)h
(applications)e(programs)h(to)h(device)240 789 y(drivers.)42
b(HPFS)21 b(is)g(also)g(an)g(example)g(of)g(an)g(installable)f(file)h(system)
f(which)240 839 y(makes)g(it)i(possible)e(to)h(access)g(several)f
(incompatible)g(volume)g(structures)240 888 y(on)h(the)g(same)g(OS/2)g
(system)g(simultaneously.)40 b(Excellent)20 b(throughput)g(is)240
938 y(achieved)g(by)h(the)g(use)h(of)f(advanced)f(data)h(structures)f(such)h
(as)g(intelligent)240 988 y(caching,)f(read-ahead)g(and)h(write-behind.)41
b(Disk)21 b(space)f(is)i(managed)e(more)240 1038 y(economically)f(by)i(the)h
(use)f(of)g(sectoring.)42 b(HPFS)21 b(also)g(includes)f(greatly)240
1088 y(improved)g(fault)h(tolerance.)41 b(Applications)19 b(programs)i(need)g
(only)g(simple)240 1137 y(modifications)e(to)i(make)g(use)g(of)h(extended)e
(attributes)g(and)h(long)g(filenames.)0 1187 y(-----------------)o(-----)o
(-----)o(-----)o(-----)o(-----)o(----)o(-----)o(-----)o(-----)o(-----)o
(-----)o(----)o(--)0 1237 y(Descriptors..)0 1287 y(Product:)64
b(OS-2)21 b(Extended)f(Edition)g(1.2)h(\(Operating)f(system\))g(\(product)h
(enhancement\).)0 1337 y(Topic:)108 b(OS-2)240 1386 y(File)21
b(Management)240 1436 y(Enhancements)240 1486 y(Data)g(Structures)240
1536 y(Disk)g(Space)f(Allocation)240 1586 y(Sectoring.)0 1636
y(Feature:)64 b(illustration)240 1685 y(table)240 1735 y(chart.)0
1785 y(Caption:)g(\(Comparison)19 b(of)j(FAT)f(and)g(High)g(Performance)e
(File)i(System.\))240 1835 y(\(Overall)f(structure)g(of)h(an)h(HPFS)f
(volume.\))240 1885 y(\(Overall)f(structure)g(of)h(an)h(Fnode.\))0
1984 y(Record#:)64 b(07)21 b(585)g(454.)0 2034 y(-----------------)o(-----)o
(-----)o(-----)o(-----)o(-----)o(----)o(-----)o(-----)o(-----)o(-----)o
(-----)o(----)o(--)0 2084 y(Full)g(Text:)0 2246 y Fg(THE)15
b(HPFS)f(IS)h(A)f(W)m(A)m(Y)f(OF)h(ORGANIZING)f(D)o(A)m(T)m(A)g(ON)i(A)f
(RANDOM)g(A)o(CCESS)g(BLOCK)f(STORA)o(GE)h(DEVICE.)e(IT)i(IS)0
2296 y(ALSO)c(A)h(SOFTW)m(ARE)e(MODULE)h(THA)m(T)g(TRANSLA)m(TES)h
(FILE-ORIENTED)e(REQUESTS)g(FROM)h(AN)h(APPLICA)m(TION)0 2345
y(PROGRAM)h(INTO)i(MORE)f(PRIMITIVE)f(REQUESTS)h(THA)m(T)h(A)f(DEVICE)f
(DRIVER)h(CAN)g(UNDERST)m(AND.)62 2416 y Ff(The)i(High)f(P)o(erformance)g
(File)g(System)g(\(hereafter)i(HPFS\),)f(whic)o(h)f(is)g(making)e(its)i
(\014rst)i(app)q(earance)f(in)f(the)h(OS/2)0 2466 y(op)q(erating)k(system)g
(V)m(ersion)g(1.2,)g(had)g(its)h(genesis)g(in)e(the)i(net)o(w)o(ork)g
(division)d(of)i(Microsoft)g(and)g(w)o(as)g(designed)h(b)o(y)0
2516 y(Gordon)12 b(Let)o(win,)h(the)g(c)o(hief)g(arc)o(hitect)h(of)e(the)h
(OS/2)g(op)q(erating)f(system.)18 b(The)13 b(HPFS)g(has)g(b)q(een)h(designed)
f(to)g(meet)f(the)0 2565 y(demands)i(of)g(increasingly)h(p)q(o)o(w)o(erful)f
(PCs,)h(\014xed)g(disks,)g(and)g(net)o(w)o(orks)g(for)f(man)o(y)f(y)o(ears)j
(to)e(come)g(and)h(to)f(serv)o(e)i(as)f(a)0 2615 y(suitable)f(platform)d(for)
j(ob)r(ject-orien)o(ted)h(languages,)e(applications,)f(and)i(user)h(in)o
(terfaces.)62 2686 y(The)i(HPFS)g(is)f(a)g(complex)g(topic)g(b)q(ecause)i(it)
e(incorp)q(orates)h(three)h(distinct)f(y)o(et)f(in)o(terrelated)i(\014le)e
(system)g(issues.)965 2825 y(1)p eop
%%Page: 2 2
bop 0 42 a Ff(First,)12 b(the)g(HPFS)g(is)g(a)f(w)o(a)o(y)g(of)g(organizing)g
(data)g(on)h(a)f(random)f(access)k(blo)q(c)o(k)d(storage)h(device.)18
b(Second,)13 b(it)e(is)h(a)f(soft)o(w)o(are)0 91 y(mo)q(dule)h(that)i
(translates)g(\014le-orien)o(ted)g(requests)i(from)c(an)h(application)f
(program)g(in)o(to)h(more)g(primitiv)o(e)e(requests)16 b(that)0
141 y(a)e(device)h(driv)o(er)f(can)g(understand,)h(using)f(a)f(v)n(ariet)o(y)
h(of)f(creativ)o(e)i(tec)o(hniques)g(to)f(maxim)o(ize)e(p)q(erformance.)18
b(Third,)13 b(the)0 191 y(HPFS)h(is)g(a)g(practical)f(illustration)g(of)g(an)
h(imp)q(ortan)o(t)e(new)i(OS/2)g(feature)h(kno)o(wn)e(as)h(installable)f
(\014le)h(systems.)62 262 y(This)k(article)g(in)o(tro)q(duces)h(the)g(three)g
(asp)q(ects)h(of)d(the)i(HPFS.)f(But)h(\014rst,)g(it)f(puts)g(the)h(HPFS)f
(in)g(p)q(ersp)q(ectiv)o(e)i(b)o(y)0 311 y(reviewing)14 b(some)f(of)g(the)i
(problems)d(that)i(led)g(to)g(the)h(system's)e(existence.)0
469 y Fe(1)69 b Fd(F)-6 b(A)h(T)19 b(File)f(System)0 581 y
Ff(The)c(so-called)e(F)-5 b(A)m(T)14 b(\014le)f(system,)f(whic)o(h)i(is)f
(the)g(\014le)g(system)g(used)h(in)f(all)f(v)o(ersions)i(of)e(the)i(MS-DOS)f
(op)q(erating)g(system)0 631 y(to)f(date)g(and)g(in)f(the)i(\014rst)f(t)o(w)o
(o)g(releases)h(of)e(OS/2)h(\(V)m(ersions)h(1.0)e(and)g(1.1\),)g(has)h(a)g
(dual)f(heritage)h(in)g(Microsoft's)g(earliest)0 681 y(programming)6
b(language)j(pro)q(ducts)i(and)f(the)g(Digital)e(Researc)o(h)j(CP/M)f(op)q
(erating)g(system)f(soft)o(w)o(are)h(originally)d(written)0
730 y(for)15 b(8080-based)g(and)h(Z-80-based)f(micro)q(computers.)22
b(It)16 b(inherited)g(c)o(haracteristics)h(from)d(b)q(oth)h(ancestors)j(that)
d(ha)o(v)o(e)0 780 y(progressiv)o(ely)h(turned)h(in)o(to)f(handicaps)g(in)f
(this)h(new)g(era)h(of)e(m)o(ultitasking,)e(protected)18 b(mo)q(de,)d
(virtual)g(memory)m(,)e(and)0 830 y(h)o(uge)h(\014xed)g(disks.)62
901 y(The)e(F)-5 b(A)m(T)12 b(\014le)f(system)g(rev)o(olv)o(es)h(around)f
(the)i(File)e(Allo)q(cation)f(T)m(able)g(for)i(whic)o(h)f(it)g(is)g(named.)16
b(Eac)o(h)c(logical)e(v)o(olume)0 950 y(has)i(its)f(o)o(wn)g(F)-5
b(A)m(T,)11 b(whic)o(h)g(serv)o(es)i(t)o(w)o(o)e(imp)q(ortan)o(t)f
(functions:)16 b(it)11 b(con)o(tains)h(the)g(allo)q(cation)d(information)g
(for)i(eac)o(h)h(\014le)f(on)0 1000 y(the)j(v)o(olume)d(in)h(the)i(form)d(of)
i(link)o(ed)f(lists)h(of)g(allo)q(cation)e(units)i(\(clusters,)i(whic)o(h)e
(are)g(p)q(o)o(w)o(er-of-2)f(m)o(ultiples)g(of)g(sectors\))0
1050 y(and)i(it)f(indicates)h(whic)o(h)g(allo)q(cation)e(units)i(are)h(free)f
(for)g(assignmen)o(t)f(to)g(a)h(\014le)g(that)g(is)g(b)q(eing)f(created)j(or)
e(extended.)62 1121 y(The)i(F)-5 b(A)m(T)15 b(w)o(as)f(in)o(v)o(en)o(ted)h(b)
o(y)g(Bill)f(Gates)h(and)g(Marc)g(McDonald)f(in)g(1977)g(as)h(a)g(metho)q(d)f
(of)g(managing)e(disk)j(space)0 1170 y(in)d(the)h(NCR)f(v)o(ersion)h(of)f
(standalone)g(Microsoft)h(Disk)f(BASIC.)g(Tim)f(P)o(aterson,)i(at)f(that)h
(time)e(an)h(emplo)o(y)o(ee)g(of)f(Seattle)0 1220 y(Computer)18
b(Pro)q(ducts)h(\(SCP\),)g(w)o(as)f(in)o(tro)q(duced)h(to)f(the)h(F)-5
b(A)m(T)18 b(concept)i(when)f(his)f(compan)o(y)f(shared)i(a)f(b)q(o)q(oth)g
(with)0 1270 y(Microsoft)13 b(at)g(the)g(National)f(Computer)g(Conference)i
(in)f(1979.)j(P)o(aterson)e(subsequen)o(tly)g(incorp)q(orated)g(F)-5
b(A)m(Ts)13 b(in)o(to)f(the)0 1320 y(\014le)i(system)g(of)f(86-DOS,)g(an)h
(op)q(erating)f(system)h(for)g(SCP's)g(S-100)f(bus)h(8086)f(CPU)i(b)q(oards.)
j(86-DOS)c(w)o(as)g(ev)o(en)o(tually)0 1370 y(purc)o(hased)i(b)o(y)e
(Microsoft)g(and)g(b)q(ecame)g(the)h(starting)f(p)q(oin)o(t)g(for)f(MS-DOS)i
(V)m(ersion)f(1.0,)f(whic)o(h)h(w)o(as)g(released)h(for)f(the)0
1420 y(original)e(IBM)i(PC)g(in)g(August)g(1981.)62 1490 y(When)19
b(the)h(F)-5 b(A)m(T)18 b(w)o(as)h(conceiv)o(ed,)i(it)d(w)o(as)h(an)f
(excellen)o(t)i(solution)e(to)g(disk)h(managemen)o(t,)e(mainly)f(b)q(ecause)k
(the)0 1540 y(\015opp)o(y)14 b(disks)h(on)f(whic)o(h)h(it)f(w)o(as)g(used)i
(w)o(ere)f(rarely)g(larger)f(than)h(1)f(Mb.)20 b(On)15 b(suc)o(h)g(disks,)f
(the)i(F)-5 b(A)m(T)14 b(w)o(as)h(small)d(enough)0 1590 y(to)i(b)q(e)g(held)g
(in)f(memory)e(at)j(all)e(times,)h(allo)o(wing)e(v)o(ery)j(fast)g(random)e
(access)k(to)d(an)o(y)g(part)h(of)g(an)o(y)f(\014le.)18 b(This)13
b(pro)o(v)o(ed)h(far)0 1640 y(sup)q(erior)i(to)g(the)g(CP/M)f(metho)q(d)g(of)
g(trac)o(king)g(disk)g(space,)i(in)e(whic)o(h)g(the)h(information)d(ab)q(out)
i(the)h(sectors)i(assigned)0 1689 y(to)c(a)h(\014le)f(migh)o(t)f(b)q(e)i
(spread)h(across)f(man)o(y)e(directory)i(en)o(tries,)h(whic)o(h)e(w)o(ere)i
(in)e(turn)h(scattered)h(randomly)d(throughout)0 1739 y(the)h(disk)g
(directory)m(.)62 1810 y(When)g(applied)f(to)h(\014xed)g(disks,)f(ho)o(w)o
(ev)o(er,)h(the)g(F)-5 b(A)m(T)14 b(b)q(egan)f(to)h(lo)q(ok)f(more)f(lik)o(e)
h(a)g(bug)h(than)f(a)h(feature.)k(It)c(b)q(ecame)0 1860 y(to)q(o)d(large)f
(to)h(b)q(e)g(held)g(en)o(tirely)g(residen)o(t)h(and)f(had)f(to)h(b)q(e)g
(paged)g(in)o(to)f(memory)f(in)h(pieces;)j(this)e(paging)e(resulted)j(in)f
(man)o(y)0 1909 y(sup)q(er\015uous)j(disk)f(head)f(mo)o(v)o(emen)o(ts)f(as)h
(a)h(program)e(w)o(as)h(reading)h(through)f(a)g(\014le)h(and)f(degraded)i
(system)e(throughput.)0 1959 y(In)18 b(addition,)f(b)q(ecause)i(the)g
(information)14 b(ab)q(out)k(free)g(disk)g(space)h(w)o(as)e(disp)q(ersed)j
(across)f(man)o(y)c(sectors)20 b(of)d(F)-5 b(A)m(T,)17 b(it)0
2009 y(w)o(as)d(impractical)f(to)h(allo)q(cate)g(\014le)h(space)g(con)o
(tiguously)m(,)e(and)i(\014le)f(fragmen)o(tation)f(b)q(ecame)h(another)h
(obstacle)g(to)f(go)q(o)q(d)0 2059 y(p)q(erformance.)27 b(Moreo)o(v)o(er,)18
b(the)g(use)g(of)e(relativ)o(ely)g(large)h(clusters)h(on)f(\014xed)h(disks)f
(resulted)h(in)f(a)f(lot)h(of)f(dead)h(space,)0 2109 y(since)e(an)g(a)o(v)o
(erage)f(of)g(one-half)f(cluster)j(w)o(as)e(w)o(asted)h(for)g(eac)o(h)g
(\014le.)k(\(Some)14 b(net)o(w)o(ork)g(serv)o(ers)j(use)e(clusters)h(as)f
(large)f(as)0 2158 y(64Kb.\))62 2229 y(The)i(F)-5 b(A)m(T)16
b(\014le)f(system's)g(restrictions)i(on)e(naming)e(\014les)j(and)f
(directories)i(are)e(inherited)h(from)e(CP/M.)h(When)g(P)o(a-)0
2279 y(terson)e(w)o(as)g(writing)f(86-DOS,)f(one)i(of)e(his)i(primary)e(ob)r
(jectiv)o(es)i(w)o(as)f(to)h(mak)o(e)e(programs)g(easy)i(to)f(p)q(ort)h(from)
e(CP/M)h(to)0 2329 y(his)j(new)h(op)q(erating)f(system.)22
b(He)16 b(therefore)h(adopted)e(CP/M's)g(limits)e(on)i(\014lenames)g(and)g
(extensions)h(so)f(the)h(critical)0 2378 y(\014elds)d(of)f(86-DOS)g(File)h
(Con)o(trol)f(Blo)q(c)o(ks)h(\(F)o(CBs\))g(w)o(ould)f(lo)q(ok)g(almost)f
(exactly)i(lik)o(e)e(those)j(of)e(CP/M.)g(The)h(sizes)h(of)e(the)0
2428 y(F)o(CB)j(\014lename)e(and)h(extension)i(\014elds)e(w)o(ere)i(also)e
(propagated)g(in)o(to)g(the)h(structure)i(of)d(disk)g(directory)h(en)o
(tries.)21 b(In)14 b(due)0 2478 y(time,)d(86-DOS)h(b)q(ecame)g(MS-DOS)h(and)f
(application)f(programs)h(for)g(MS-DOS)h(proliferated)f(b)q(ey)o(ond)h(an)o
(y)o(one's)f(wildest)0 2528 y(dreams.)18 b(Since)d(most)e(of)h(the)g(early)h
(programs)d(dep)q(ended)k(on)e(the)h(structure)i(of)c(F)o(CBs,)i(the)f(8.3)g
(format)e(for)i(\014lenames)0 2578 y(b)q(ecame)g(irrev)o(o)q(cably)f(lo)q(c)o
(k)o(ed)h(in)o(to)f(the)i(system.)62 2648 y(During)d(the)h(last)g(couple)f
(of)g(y)o(ears,)h(Microsoft)g(and)f(IBM)h(ha)o(v)o(e)g(made)e(v)n(alian)o(t)g
(attempts)h(to)g(prolong)g(the)h(useful)g(life)0 2698 y(of)j(the)h(F)-5
b(A)m(T)17 b(\014le)g(system)f(b)o(y)g(lifting)f(the)i(restrictions)h(on)f(v)
o(olume)d(sizes,)k(impro)o(ving)c(allo)q(cation)h(strategies,)j(cac)o(hing)
965 2825 y(2)p eop
%%Page: 3 3
bop 0 42 a Ff(pathnames,)20 b(and)g(mo)o(ving)d(tables)j(and)g(bu\013ers)h
(in)o(to)e(expanded)i(memory)m(.)33 b(But)20 b(these)h(can)f(only)g(b)q(e)g
(regarded)h(as)0 91 y(temp)q(orizing)12 b(measures,)h(b)q(ecause)i(the)f
(fundamen)o(tal)e(data)h(structures)j(used)e(b)o(y)f(the)h(F)-5
b(A)m(T)13 b(\014le)h(system)f(are)h(simply)d(not)0 141 y(w)o(ell)i(suited)i
(to)e(large)h(random)e(access)k(devices.)62 212 y(The)g(HPFS)g(solv)o(es)g
(the)g(F)-5 b(A)m(T)15 b(\014le)h(system)f(problems)f(men)o(tioned)h(here)h
(and)f(man)o(y)f(others,)i(but)g(it)f(is)g(not)g(deriv)o(ed)0
262 y(in)g(an)o(y)h(w)o(a)o(y)f(from)f(the)i(F)-5 b(A)m(T)16
b(\014le)g(system.)23 b(The)17 b(arc)o(hitect)f(of)g(the)g(HPFS)g(started)h
(with)f(a)f(clean)h(sheet)h(of)f(pap)q(er)g(and)0 311 y(designed)f(a)g
(\014le)g(system)f(that)h(can)g(tak)o(e)g(full)e(adv)n(an)o(tage)h(of)g(a)g
(m)o(ultitasking)e(en)o(vironmen)o(t,)i(and)g(that)h(will)e(b)q(e)j(able)e
(to)0 361 y(cop)q(e)h(with)e(an)o(y)h(sort)g(of)f(disk)h(device)h(lik)o(ely)d
(to)i(arriv)o(e)g(on)f(micro)q(computers)g(during)h(the)g(next)h(decade.)0
519 y Fe(2)69 b Fd(HPFS)19 b(V)-5 b(olume)18 b(Structure)0
631 y Ff(HPFS)h(v)o(olumes)d(are)j(a)f(new)g(partition)g(t)o(yp)q(e|t)o(yp)q
(e)g(7|and)g(can)g(exist)g(on)g(a)g(\014xed)h(disk)f(alongside)f(of)h(the)g
(sev)o(eral)0 681 y(previously)d(de\014ned)h(F)-5 b(A)m(T)15
b(partition)f(t)o(yp)q(es.)23 b(IBM-compatible)14 b(HPFS)h(v)o(olumes)f(use)i
(a)e(sector)j(size)f(of)e(512)g(b)o(ytes)i(and)0 730 y(ha)o(v)o(e)i(a)g
(maxim)o(um)c(size)19 b(of)f(2199Gb)f(\(2)667 715 y Fc(21)720
730 y Ff(sectors\).)33 b(Although)18 b(there)i(is)e(no)g(particular)h(reason)
g(wh)o(y)f(\015opp)o(y)g(disks)0 780 y(can't)13 b(b)q(e)i(formatted)d(as)i
(HPFS)g(v)o(olumes,)d(Microsoft)j(plans)f(to)h(stic)o(k)g(with)f(F)-5
b(A)m(T)13 b(\014le)h(systems)g(on)f(\015opp)o(y)g(disks)h(for)f(the)0
830 y(foreseeable)h(future.)k(\(This)13 b(ensures)i(that)d(users)i(will)e(b)q
(e)h(able)f(to)h(transp)q(ort)h(\014les)f(easily)f(b)q(et)o(w)o(een)i(MS-DOS)
f(and)f(OS/2)0 880 y(systems.\))62 950 y(An)19 b(HPFS)h(v)o(olume)d(has)i(v)o
(ery)g(few)h(\014xed)f(structures)i(\(Figure)f(1\).)33 b(Sectors)20
b(0-15)e(of)h(a)g(v)o(olume)e(\(8Kb\))i(are)g(the)0 1000 y(Bo)q(otBlo)q(c)o
(k)c(and)f(con)o(tain)f(a)h(v)o(olume)f(name,)g(32-bit)g(v)o(olume)f(ID,)i
(and)g(a)g(disk)g(b)q(o)q(otstrap)h(program.)j(The)c(b)q(o)q(otstrap)h(is)0
1050 y(relativ)o(ely)g(sophisticated)g(\(b)o(y)h(MS-DOS)f(standards\))h(and)f
(can)h(use)g(the)g(HPFS)f(in)g(a)g(restricted)i(mo)q(de)e(to)g(lo)q(cate)g
(and)0 1100 y(read)f(the)h(op)q(erating)f(system)f(\014les)i(wherev)o(er)g
(they)f(migh)o(t)e(b)q(e)j(found.)62 1170 y(Sectors)f(16)e(and)g(17)f(are)i
(kno)o(wn)f(as)g(the)h(Sup)q(erBlo)q(c)o(k)g(and)f(the)h(SpareBlo)q(c)o(k)g
(resp)q(ectiv)o(ely)m(.)19 b(The)12 b(Sup)q(erBlo)q(c)o(k)i(is)e(only)0
1220 y(mo)q(di\014ed)f(b)o(y)h(disk)h(main)o(tenance)e(utilities.)17
b(It)c(con)o(tains)f(p)q(oin)o(ters)h(to)f(the)h(free)h(space)f(bitmaps,)e
(the)i(bad)f(blo)q(c)o(k)h(list,)e(the)0 1270 y(directory)j(blo)q(c)o(k)f
(band,)g(and)g(the)g(ro)q(ot)h(directory)m(.)k(It)13 b(also)g(con)o(tains)g
(the)h(date)f(that)g(the)h(v)o(olume)d(w)o(as)j(last)f(c)o(hec)o(k)o(ed)h
(out)0 1320 y(and)i(repaired)g(with)f(CHKDSK/F.)h(The)g(SpareBlo)q(c)o(k)g
(con)o(tains)g(v)n(arious)f(\015ags)g(and)h(p)q(oin)o(ters)g(that)g(will)e(b)
q(e)i(discussed)0 1370 y(later;)e(it)f(is)h(mo)q(di\014ed,)e(although)h
(infrequen)o(tly)m(,)g(as)h(the)g(system)g(executes.)62 1440
y(The)g(remainder)e(of)h(the)g(disk)g(is)g(divided)f(in)o(to)h(8Mb)g(bands.)
18 b(Eac)o(h)13 b(band)g(has)g(its)g(o)o(wn)g(free)g(space)h(bitmap)e(in)g
(whic)o(h)0 1490 y(a)j(bit)g(represen)o(ts)k(eac)o(h)d(sector.)24
b(A)15 b(bit)h(is)f(0)g(if)g(the)h(sector)h(is)e(in)g(use)h(and)g(1)f(if)g
(the)h(sector)h(is)e(a)o(v)n(ailable.)21 b(The)15 b(bitmaps)0
1540 y(are)h(lo)q(cated)g(at)g(the)g(head)g(or)g(tail)e(of)h(a)h(band)f(so)h
(that)g(t)o(w)o(o)f(bitmaps)f(are)i(adjacen)o(t)g(b)q(et)o(w)o(een)h
(alternate)f(bands.)24 b(This)0 1590 y(allo)o(ws)15 b(the)h(maxim)n(um)c(con)
o(tiguous)j(free)i(space)g(that)f(can)g(b)q(e)g(allo)q(cated)g(to)f(a)h
(\014le)g(to)f(b)q(e)i(16Mb.)23 b(One)17 b(band,)f(lo)q(cated)0
1640 y(at)g(or)g(to)o(w)o(ard)g(the)h(seek)g(cen)o(ter)h(of)d(the)i(disk,)f
(is)g(called)g(the)g(directory)h(blo)q(c)o(k)f(band)g(and)g(receiv)o(es)i(sp)
q(ecial)e(treatmen)o(t)0 1689 y(\(more)e(ab)q(out)g(this)g(later\).)20
b(Note)15 b(that)f(the)h(band)f(size)h(is)g(a)f(c)o(haracteristic)h(of)f(the)
h(curren)o(t)h(implemen)o(tatio)o(n)c(and)i(ma)o(y)0 1739 y(b)q(e)h(c)o
(hanged)f(in)f(later)h(v)o(ersions)h(of)e(the)h(\014le)g(system.)0
1897 y Fe(3)69 b Fd(Files)18 b(and)h(Fno)r(des)0 2009 y Ff(Ev)o(ery)14
b(\014le)f(or)g(directory)h(on)e(an)h(HPFS)h(v)o(olume)d(is)i(anc)o(hored)g
(on)g(a)g(fundamen)o(tal)e(\014le)i(system)g(ob)r(ject)h(called)f(an)f(Fno)q
(de)0 2059 y(\(pronounced)21 b(\\e\013)g(no)q(de"\).)37 b(Eac)o(h)21
b(Fno)q(de)f(o)q(ccupies)i(a)e(single)f(sector)j(and)e(con)o(tains)g(con)o
(trol)g(and)g(access)i(history)0 2109 y(information)11 b(used)j(in)o
(ternally)f(b)o(y)g(the)h(\014le)g(system,)f(extended)i(attributes)f(and)g
(access)h(con)o(trol)e(lists)h(\(more)e(ab)q(out)i(this)0 2158
y(later\),)e(the)i(length)e(and)g(the)h(\014rst)g(15)f(c)o(haracters)j(of)c
(the)i(name)f(of)f(the)j(asso)q(ciated)f(\014le)f(or)h(directory)m(,)f(and)g
(an)h(allo)q(cation)0 2208 y(structure)j(\(Figure)e(2\).)k(An)c(Fno)q(de)g
(is)g(alw)o(a)o(ys)f(stored)i(near)f(the)h(\014le)f(or)g(directory)g(that)g
(it)g(represen)o(ts.)62 2279 y(The)21 b(allo)q(cation)e(structure)k(in)d(the)
h(Fno)q(de)g(can)g(tak)o(e)f(sev)o(eral)h(forms,)g(dep)q(ending)g(on)f(the)h
(size)g(and)g(degree)h(of)0 2329 y(con)o(tiguit)o(y)15 b(of)g(the)h(\014le)f
(or)h(directory)m(.)23 b(The)16 b(HPFS)g(views)g(a)f(\014le)h(as)g(a)f
(collection)g(of)g(one)h(or)f(more)g(runs)h(or)g(exten)o(ts)h(of)0
2378 y(one)e(or)g(more)f(con)o(tiguous)g(sectors.)23 b(Eac)o(h)15
b(run)g(is)g(sym)o(b)q(olized)f(b)o(y)g(a)h(pair)f(of)h(doublew)o(ords|a)f
(32-bit)g(starting)h(sector)0 2428 y(n)o(um)o(b)q(er)j(and)g(a)g(32-bit)f
(length)i(in)f(sectors)i(\(this)e(is)g(referred)j(to)d(as)g(run-length)h
(enco)q(ding\).)32 b(F)m(rom)16 b(an)i(application)0 2478 y(program's)12
b(p)q(oin)o(t)i(of)f(view,)g(the)i(exten)o(ts)g(are)f(in)o(visible;)e(the)j
(\014le)f(app)q(ears)g(as)g(a)g(seamless)g(stream)f(of)g(b)o(ytes.)62
2549 y(The)k(space)h(reserv)o(ed)g(for)e(allo)q(cation)f(information)e(in)j
(an)g(Fno)q(de)h(can)g(hold)e(p)q(oin)o(ters)i(to)g(as)f(man)o(y)f(as)h(eigh)
o(t)g(runs)0 2598 y(of)f(sectors)h(of)f(up)g(to)g(16Mb)g(eac)o(h.)22
b(\(This)15 b(maxim)o(um)10 b(run)16 b(size)g(is)f(a)g(result)h(of)e(the)i
(band)f(size)h(and)f(free)h(space)g(bitmap)0 2648 y(placemen)o(t)10
b(only;)g(it)g(is)g(not)g(an)h(inheren)o(t)g(limitati)o(on)d(of)h(the)i
(\014le)g(system.\))16 b(Reasonably)10 b(small)e(\014les)j(or)f(highly)f(con)
o(tiguous)0 2698 y(\014les)14 b(can)g(therefore)i(b)q(e)e(describ)q(ed)i
(completely)d(within)g(the)h(Fno)q(de)h(\(Figure)f(3\).)965
2825 y(3)p eop
%%Page: 4 4
bop 62 42 a Ff(HPFS)16 b(uses)g(a)f(new)g(metho)q(d)f(to)h(represen)o(t)i
(the)f(lo)q(cation)e(of)g(\014les)h(that)g(are)h(to)q(o)e(large)h(or)g(to)q
(o)g(fragmen)o(ted)f(for)g(the)0 91 y(Fno)q(de)j(and)g(consist)g(of)f(more)f
(than)i(eigh)o(t)f(runs.)27 b(The)17 b(Fno)q(de's)g(allo)q(cation)e
(structure)k(b)q(ecomes)e(the)g(ro)q(ot)g(for)f(a)g(B+)0 141
y(T)m(ree)d(of)e(allo)q(cation)f(sectors,)k(whic)o(h)e(in)f(turn)i(con)o
(tain)e(the)i(actual)e(p)q(oin)o(ters)i(to)f(the)g(\014le's)g(sector)h(runs)g
(\(see)g(Figure)f(4)g(and)0 191 y(the)j(sidebar,)g(\\B)g(T)m(rees)g(and)g(B+)
g(T)m(rees"\).)21 b(The)15 b(Fno)q(de's)g(ro)q(ot)g(has)f(ro)q(om)f(for)i(12)
f(elemen)o(ts.)20 b(Eac)o(h)15 b(allo)q(cation)e(sector)0 241
y(can)h(con)o(tain,)g(in)f(addition)g(to)h(v)n(arious)g(con)o(trol)g
(information,)c(as)15 b(man)o(y)d(as)i(40)g(p)q(oin)o(ters)g(to)g(sector)i
(runs.)j(Therefore,)c(a)0 291 y(t)o(w)o(o-lev)o(el)d(allo)q(cation)f(B+)j(T)m
(ree)g(can)f(describ)q(e)i(a)e(\014le)g(of)f(480)g(\(12)7 b
Fb(\003)h Ff(40\))k(sector)j(runs)e(with)g(a)g(theoretical)g(maxim)o(um)8
b(size)0 340 y(of)15 b(7.68Gb)e(\(12)d Fb(\003)g Ff(40)g Fb(\003)g
Ff(16Mb\))15 b(in)g(the)h(curren)o(t)h(implemen)o(tati)o(on)c(\(although)h
(the)i(32-bit)e(signed)i(o\013set)g(parameter)f(for)0 390 y(DosChgFilePtr)f
(e\013ectiv)o(ely)g(limits)e(\014le)i(sizes)h(to)f(2Gb\).)62
461 y(In)h(the)h(unlik)o(ely)d(ev)o(en)o(t)j(that)f(a)f(t)o(w)o(o-lev)o(el)g
(B+)i(T)m(ree)f(is)g(not)g(su\016cien)o(t)g(to)g(describ)q(e)i(a)d(highly)g
(fragmen)o(ted)g(\014le,)g(the)0 511 y(\014le)e(system)g(will)e(in)o(tro)q
(duce)j(additional)d(lev)o(els)i(in)g(the)h(tree)g(as)f(needed.)19
b(Allo)q(cation)11 b(sectors)i(in)f(the)h(in)o(termediate)e(lev)o(els)0
560 y(can)k(hold)g(as)g(man)o(y)e(as)i(60)f(in)o(ternal)h(\(non)o(terminal\))
e(B+)j(T)m(ree)f(no)q(des,)h(whic)o(h)f(means)f(that)h(the)g(descriptiv)o(e)h
(abilit)o(y)e(of)0 610 y(this)h(structure)i(rapidly)d(gro)o(ws)h(to)g(n)o(um)
o(b)q(ers)f(that)h(are)h(nearly)e(b)q(ey)o(ond)i(comprehension.)21
b(F)m(or)14 b(example,)f(a)i(three-lev)o(el)0 660 y(allo)q(cation)d(B+)j(T)m
(ree)f(can)g(describ)q(e)i(a)e(\014le)g(with)f(as)h(man)o(y)e(as)i(28,800)e
(\(12)d Fb(\003)g Ff(60)g Fb(\003)g Ff(40\))k(sector)i(runs.)62
731 y(Run-length)d(enco)q(ding)g(and)g(B+)h(T)m(rees)g(of)f(allo)q(cation)e
(sectors)k(are)e(a)g(memory-e\016cien)o(t)e(w)o(a)o(y)i(to)g(sp)q(ecify)g(a)g
(\014le's)g(size)0 780 y(and)f(lo)q(cation,)g(but)g(they)h(ha)o(v)o(e)g
(other)g(signi\014can)o(t)f(adv)n(an)o(tages.)16 b(T)m(ranslating)10
b(a)i(logical)d(\014le)j(o\013set)g(in)o(to)f(a)g(sector)i(n)o(um)o(b)q(er)0
830 y(is)h(extremely)g(fast:)19 b(the)14 b(\014le)h(system)f(just)g(needs)i
(to)e(tra)o(v)o(erse)h(the)g(list)f(\(or)g(B+)h(T)m(ree)g(of)f(lists\))g(of)g
(run)g(p)q(oin)o(ters)h(un)o(til)e(it)0 880 y(\014nds)h(the)f(correct)i
(range.)j(It)13 b(can)h(then)f(iden)o(tify)g(the)g(sector)i(within)d(the)i
(run)g(with)e(a)h(simple)f(calculation.)k(Run-length)0 930
y(enco)q(ding)e(also)g(mak)o(es)f(it)g(trivial)g(to)h(extend)h(the)g(\014le)f
(logically)d(if)j(the)g(newly)g(assigned)h(sector)g(is)f(con)o(tiguous)g
(with)f(the)0 980 y(\014le's)g(previous)g(last)g(sector;)h(the)g(\014le)f
(system)g(merely)f(needs)i(to)f(incremen)o(t)g(the)g(size)h(doublew)o(ord)f
(of)f(the)i(\014le's)f(last)g(run)0 1029 y(p)q(oin)o(ter)h(and)g(clear)g(the)
h(sector's)g(bit)e(in)h(the)g(appropriate)g(freespace)i(bitmap.)0
1188 y Fe(4)69 b Fd(Directories)0 1299 y Ff(Directories,)18
b(lik)o(e)e(\014les,)i(are)f(anc)o(hored)h(on)f(Fno)q(des.)28
b(A)17 b(p)q(oin)o(ter)g(to)g(the)h(Fno)q(de)f(for)g(the)g(ro)q(ot)g
(directory)h(is)f(found)f(in)0 1349 y(the)e(Sup)q(erBlo)q(c)o(k.)19
b(The)14 b(Fno)q(des)h(for)e(directories)i(other)f(than)g(the)g(ro)q(ot)g
(are)g(reac)o(hed)h(through)f(sub)q(directory)h(en)o(tries)f(in)0
1399 y(their)g(paren)o(t)h(directories.)62 1469 y(Directories)g(can)e(gro)o
(w)h(to)f(an)o(y)g(size)h(and)g(are)g(built)f(up)g(from)f(2Kb)i(directory)g
(blo)q(c)o(ks,)f(whic)o(h)h(are)g(allo)q(cated)f(as)g(four)0
1519 y(consecutiv)o(e)i(sectors)g(on)e(the)h(disk.)k(The)13
b(\014le)h(system)f(attempts)g(to)g(allo)q(cate)g(directory)h(blo)q(c)o(ks)g
(in)e(the)i(directory)h(band,)0 1569 y(whic)o(h)f(is)g(lo)q(cated)g(at)g(or)g
(near)g(the)h(seek)g(cen)o(ter)g(of)f(the)g(disk.)k(Once)d(the)g(directory)g
(band)f(is)f(full,)g(the)h(directory)h(blo)q(c)o(ks)0 1619
y(are)f(allo)q(cated)g(wherev)o(er)h(space)g(is)f(a)o(v)n(ailable.)62
1689 y(Eac)o(h)21 b(2Kb)f(directory)h(blo)q(c)o(k)f(con)o(tains)h(from)d(one)
j(to)f(man)o(y)e(directory)j(en)o(tries.)39 b(A)20 b(directory)h(en)o(try)g
(con)o(tains)0 1739 y(sev)o(eral)14 b(\014elds,)f(including)f(time)g(and)h
(date)g(stamps,)f(an)h(Fno)q(de)h(p)q(oin)o(ter,)f(a)g(usage)g(coun)o(t)g
(for)g(use)h(b)o(y)f(disk)g(main)o(tenance)0 1789 y(programs,)f(the)i(length)
f(of)g(the)h(\014le)f(or)g(directory)h(name,)e(the)i(name)e(itself,)h(and)g
(a)g(B)h(T)m(ree)g(p)q(oin)o(ter.)k(Eac)o(h)c(en)o(try)g(b)q(egins)0
1839 y(with)g(a)h(w)o(ord)g(that)f(con)o(tains)h(the)g(length)g(of)f(the)i
(en)o(try)m(.)21 b(This)14 b(pro)o(vides)h(for)g(a)f(v)n(ariable)g(amoun)o(t)
f(of)h(\015ex)h(space)h(at)e(the)0 1889 y(end)g(of)f(eac)o(h)h(en)o(try)m(,)g
(whic)o(h)f(can)h(b)q(e)h(used)f(b)o(y)g(sp)q(ecial)g(v)o(ersions)g(of)f(the)
h(\014le)g(system)f(and)h(allo)o(ws)e(the)i(directory)h(blo)q(c)o(k)e(to)0
1938 y(b)q(e)i(tra)o(v)o(ersed)g(v)o(ery)f(quic)o(kly)f(\(Figure)h(5\).)62
2009 y(The)e(n)o(um)o(b)q(er)f(of)h(en)o(tries)g(in)g(a)f(directory)i(blo)q
(c)o(k)e(v)n(aries)h(with)f(the)i(length)e(of)g(names.)17 b(If)11
b(the)i(a)o(v)o(erage)e(\014lename)g(length)0 2059 y(is)j(13)g(c)o
(haracters,)j(an)d(a)o(v)o(erage)g(directory)i(blo)q(c)o(k)e(will)f(hold)h
(ab)q(out)h(40)f(en)o(tries.)21 b(The)15 b(en)o(tries)h(in)e(a)g(directory)h
(blo)q(c)o(k)g(are)0 2109 y(sorted)i(b)o(y)e(the)h(binary)f(lexical)g(order)i
(of)e(their)h(name)e(\014elds)i(\(this)g(happ)q(ens)h(to)e(put)h(them)f(in)g
(alphab)q(etical)g(order)h(for)0 2158 y(the)e(U.S.)f(alphab)q(et\).)19
b(The)14 b(last)f(en)o(try)i(in)e(a)h(directory)g(blo)q(c)o(k)g(is)f(a)h
(dumm)o(y)d(record)k(that)f(marks)e(the)j(end)f(of)f(the)i(blo)q(c)o(k.)62
2229 y(When)i(a)g(directory)g(gets)h(to)q(o)e(large)h(to)g(b)q(e)g(stored)h
(in)e(one)h(blo)q(c)o(k,)g(it)g(increases)h(in)e(size)i(b)o(y)f(the)g
(addition)f(of)g(2Kb)0 2279 y(blo)q(c)o(ks)f(that)g(are)g(organized)g(as)g(a)
g(B)g(T)m(ree)h(\(\\B)f(T)m(rees)h(and)e(B+)i(T)m(rees"\).)22
b(When)15 b(searc)o(hing)g(for)g(a)f(sp)q(eci\014c)j(name,)c(the)0
2329 y(\014le)i(system)g(tra)o(v)o(erses)h(a)f(directory)g(blo)q(c)o(k)g(un)o
(til)f(it)h(either)g(\014nds)h(a)e(matc)o(h)g(or)h(\014nds)g(a)g(name)f(that)
h(is)f(lexically)g(greater)0 2378 y(than)i(the)h(target.)25
b(In)16 b(the)h(latter)g(case,)g(the)g(\014le)f(system)g(extracts)h(the)g(B)g
(T)m(ree)f(p)q(oin)o(ter)h(from)d(the)j(en)o(try)m(.)25 b(If)16
b(there)h(is)0 2428 y(no)c(p)q(oin)o(ter,)h(the)g(searc)o(h)h(failed;)d
(otherwise)j(the)f(\014le)g(system)g(follo)o(ws)e(the)i(p)q(oin)o(ter)g(to)g
(the)g(next)g(directory)h(blo)q(c)o(k)e(in)g(the)0 2478 y(tree)i(and)f(con)o
(tin)o(ues)g(the)h(searc)o(h.)62 2549 y(A)10 b(little)g(bac)o(k-of-the-en)o
(v)o(elop)q(e)g(arithmetic)f(yields)h(some)f(impressiv)o(e)g(statistics.)18
b(Assuming)9 b(40)g(en)o(tries)i(p)q(er)g(blo)q(c)o(k,)f(a)0
2598 y(t)o(w)o(o-lev)o(el)f(tree)j(of)e(directory)h(blo)q(c)o(ks)f(can)h
(hold)f(1640)f(directory)i(en)o(tries)h(and)e(a)g(three-lev)o(el)h(tree)h
(can)f(hold)e(an)i(astonishing)0 2648 y(65,640)i(en)o(tries.)23
b(In)15 b(other)h(w)o(ords,)f(a)g(particular)f(\014le)h(can)h(b)q(e)f(found)g
(\(or)g(sho)o(wn)g(not)g(to)g(exist\))h(in)e(a)h(t)o(ypical)f(directory)0
2698 y(of)h(65,640)e(\014les)j(with)f(a)g(maxim)n(um)c(of)k(three)i(disk)e
(hits|the)g(actual)g(n)o(um)o(b)q(er)g(of)g(disk)g(accesses)j(dep)q(ending)e
(on)f(cac)o(he)965 2825 y(4)p eop
%%Page: 5 5
bop 0 42 a Ff(con)o(ten)o(ts)17 b(and)g(the)g(lo)q(cation)e(of)h(the)h
(\014le's)f(name)f(in)h(the)h(directory)g(blo)q(c)o(k)f(B)h(T)m(ree.)26
b(That's)16 b(quite)h(a)f(con)o(trast)h(to)f(the)0 91 y(F)-5
b(A)m(T)15 b(\014le)g(system,)f(where)i(in)e(the)h(w)o(orst)g(case)h(more)e
(than)g(4000)g(sectors)i(w)o(ould)e(ha)o(v)o(e)h(to)f(b)q(e)i(read)f(to)g
(establish)f(that)h(a)0 141 y(\014le)f(w)o(as)g(or)g(w)o(as)f(not)h(presen)o
(t)i(in)d(a)h(directory)g(con)o(taining)f(the)i(same)e(n)o(um)o(b)q(er)g(of)g
(\014les.)62 212 y(The)f(B)g(T)m(ree)h(directory)f(structure)i(has)e(in)o
(teresting)g(implications)d(b)q(ey)o(ond)j(its)f(e\013ect)i(on)f(op)q(en)g
(and)f(\014nd)h(op)q(erations.)0 262 y(A)i(\014le)f(creation,)h(renaming,)d
(or)j(deletion)f(ma)o(y)f(result)i(in)f(a)h(cascade)g(of)f(complex)g(op)q
(erations,)g(as)h(directory)g(blo)q(c)o(ks)g(are)0 311 y(added)f(or)g(freed)h
(or)f(names)f(are)i(mo)o(v)o(ed)d(from)g(one)i(blo)q(c)o(k)g(to)g(the)g
(other)h(to)f(k)o(eep)g(the)h(tree)g(balanced.)k(In)13 b(fact,)g(a)f(rename)0
361 y(op)q(eration)k(could)g(theoretically)g(fail)e(for)i(lac)o(k)f(of)h
(disk)f(space)i(ev)o(en)g(though)f(the)h(\014le)e(itself)h(is)g(not)g(gro)o
(wing.)23 b(In)16 b(order)0 411 y(to)f(a)o(v)o(oid)f(this)h(sort)g(of)g
(disaster,)g(the)h(HPFS)g(main)o(tains)c(a)j(small)e(p)q(o)q(ol)h(of)h(free)g
(blo)q(c)o(ks)g(that)h(can)f(b)q(e)g(dra)o(wn)g(from)f(in)g(a)0
461 y(directory)h(emergency;)e(a)h(p)q(oin)o(ter)g(to)g(this)g(p)q(o)q(ol)f
(of)g(free)i(blo)q(c)o(ks)f(is)g(stored)h(in)e(the)h(SpareBlo)q(c)o(k.)0
619 y Fe(5)69 b Fd(Extended)17 b(A)n(ttributes)0 730 y Ff(File)11
b(attributes)i(are)f(information)c(ab)q(out)k(a)f(\014le)h(that)f(is)h(main)o
(tained)d(b)o(y)i(the)h(op)q(erating)g(system)f(outside)h(the)g(\014le's)g(o)
o(v)o(ert)0 780 y(storage)17 b(area.)27 b(The)17 b(F)-5 b(A)m(T)17
b(\014le)g(system)f(supp)q(orts)i(only)e(a)g(few)h(simple)f(attributes)h
(\(read)g(only)m(,)f(system,)h(hidden,)g(and)0 830 y(arc)o(hiv)o(e\))f(that)h
(are)f(actually)f(stored)j(as)e(bit)g(\015ags)g(in)g(the)g(\014le's)g
(directory)h(en)o(try;)h(these)f(attributes)h(are)e(insp)q(ected)i(or)0
880 y(mo)q(di\014ed)12 b(b)o(y)h(sp)q(ecial)h(function)f(calls)g(and)g(are)h
(not)g(accessible)g(through)g(the)g(normal)d(\014le)j(op)q(en,)f(read,)h(and)
f(write)h(calls.)62 950 y(The)e(HPFS)h(supp)q(orts)f(the)h(same)d(attributes)
j(as)f(the)g(F)-5 b(A)m(T)12 b(\014le)f(system)h(for)f(historical)g(reasons,)
i(but)e(it)h(also)f(supp)q(orts)0 1000 y(a)i(new)h(form)e(of)h(\014le-asso)q
(ciated,)h(highly)e(generalized)j(information)10 b(called)k(Extended)h(A)o
(ttributes)f(\(EAs\).)19 b(Eac)o(h)14 b(EA)g(is)0 1050 y(conceptually)g
(similar)d(to)j(an)g(en)o(vironmen)o(t)f(v)n(ariable,)f(taking)h(the)h(form)
869 1154 y(name{v)n(alue)0 1258 y(except)h(that)f(the)h(v)n(alue)e(p)q
(ortion)h(can)g(b)q(e)h(either)f(a)g(n)o(ull-terminated)e(\(ASCI)q(IZ\))j
(string)f(or)g(binary)g(data.)k(In)c(OS/2)f(1.2,)0 1307 y(eac)o(h)g(\014le)g
(or)g(directory)g(can)g(ha)o(v)o(e)g(a)f(maxim)n(um)d(of)j(64Kb)g(of)h(EAs)g
(attac)o(hed)g(to)g(it.)k(This)c(limit)d(ma)o(y)h(b)q(e)i(lifted)f(in)g(a)h
(later)0 1357 y(release)i(of)e(OS/2.)62 1428 y(The)18 b(storage)h(metho)q(d)e
(for)g(EAs)h(can)g(v)n(ary)m(.)29 b(If)18 b(the)g(EAs)g(asso)q(ciated)h(with)
e(a)h(giv)o(en)f(\014le)h(or)g(directory)g(are)g(small)0 1478
y(enough,)g(they)f(will)f(b)q(e)i(stored)g(righ)o(t)f(in)g(the)g(Fno)q(de.)29
b(If)17 b(the)h(total)e(size)i(of)f(the)g(EAs)h(is)f(to)q(o)g(large,)h(they)f
(are)h(stored)0 1527 y(outside)13 b(the)h(Fno)q(de)f(in)f(sector)i(runs,)g
(and)e(a)h(B+)g(T)m(ree)h(of)e(allo)q(cation)f(sectors)k(can)e(b)q(e)g
(created)h(to)f(describ)q(e)i(the)e(runs.)18 b(If)0 1577 y(a)c(single)f(EA)h
(gets)h(to)q(o)f(large,)f(it)g(can)h(b)q(e)h(pushed)g(outside)f(the)g(Fno)q
(de)h(in)o(to)e(a)h(B+)g(T)m(ree)h(of)e(its)h(o)o(wn.)62 1648
y(The)j(k)o(ernel)f(API)h(functions)f(DosQFileInfo)f(and)h(DosSetFileInfo)g
(ha)o(v)o(e)g(b)q(een)h(expanded)g(with)e(new)i(information)0
1698 y(lev)o(els)c(that)f(allo)o(w)f(application)g(programs)g(to)i
(manipulate)d(extended)k(attributes)f(for)g(\014les.)18 b(The)13
b(new)f(functions)h(DosQ-)0 1747 y(P)o(athInfo)i(and)g(DosSetP)o(athInfo)g
(are)h(used)g(to)f(read)h(or)f(write)h(the)f(EAs)h(asso)q(ciated)g(with)f
(arbitrary)g(pathnames.)22 b(An)0 1797 y(application)13 b(program)g(can)h
(either)h(ask)f(for)g(the)h(v)n(alue)f(of)g(a)g(sp)q(eci\014c)h(EA)g
(\(supplying)f(a)g(name)f(to)h(b)q(e)h(matc)o(hed\))e(or)i(can)0
1847 y(obtain)e(all)g(of)g(the)i(EAs)f(for)g(the)g(\014le)g(or)g(directory)h
(at)e(once.)62 1918 y(Although)k(application)f(programs)g(can)i(b)q(egin)f
(to)h(tak)o(e)f(adv)n(an)o(tage)g(of)f(EAs)j(as)e(so)q(on)g(as)h(the)g(HPFS)g
(is)f(released,)0 1968 y(supp)q(ort)g(for)e(EAs)h(is)g(an)f(essen)o(tial)h
(comp)q(onen)o(t)f(in)h(Microsoft's)f(long-range)g(plans)g(for)h(ob)r
(ject-orien)o(ted)h(\014le)e(systems.)0 2017 y(Information)d(of)j(almost)e
(an)o(y)h(t)o(yp)q(e)i(can)f(b)q(e)g(stored)h(in)f(EAs,)g(ranging)f(from)f
(the)j(name)e(of)g(the)h(application)f(that)h(o)o(wns)0 2067
y(the)20 b(\014le)e(to)h(names)f(of)h(dep)q(enden)o(t)h(\014les)g(to)e(icons)
i(to)e(executable)i(co)q(de.)34 b(As)20 b(the)f(HPFS)h(ev)o(olv)o(es,)g(its)e
(facilities)g(for)0 2117 y(manipulating)c(EAs)j(are)h(lik)o(ely)d(to)i(b)q
(ecome)g(m)o(uc)o(h)f(more)g(sophisticated.)27 b(It's)17 b(easy)h(to)f
(imagine,)d(for)j(example,)f(that)0 2167 y(in)g(future)h(v)o(ersions)g(the)g
(API)f(migh)o(t)e(b)q(e)j(extended)h(with)e(EA)h(functions)f(that)h(are)g
(analogous)e(to)h(DosFindFirst)g(and)0 2217 y(DosFindNext)e(and)g(EA)g(data)g
(migh)o(t)d(get)k(organized)e(in)o(to)h(B)g(T)m(rees.)62 2287
y(I)e(should)g(note)g(here)h(that)f(in)g(addition)f(to)h(EAs,)g(the)h(LAN)f
(Manager)g(v)o(ersion)g(of)f(HPFS)i(will)d(supp)q(ort)j(another)g(class)0
2337 y(of)h(\014le-asso)q(ciated)h(information)d(called)j(Access)h(Con)o
(trol)e(Lists)h(\(A)o(CLs\).)21 b(A)o(CLs)15 b(ha)o(v)o(e)g(the)g(same)f
(general)h(app)q(earance)0 2387 y(as)g(EAs)h(and)g(are)f(manipulated)f(in)h
(a)g(similar)e(manner,)h(but)h(they)h(are)g(used)g(to)g(store)g(access)h
(righ)o(ts,)e(passw)o(ords,)h(and)0 2437 y(other)f(information)10
b(of)k(in)o(terest)h(in)e(a)h(net)o(w)o(orking)f(m)o(ultiuser)g(en)o
(vironmen)o(t.)965 2825 y(5)p eop
%%Page: 6 6
bop 0 42 a Fe(6)69 b Fd(Installable)18 b(File)f(Systems)0 153
y Ff(Supp)q(ort)f(for)g(installable)f(\014le)g(systems)i(has)f(b)q(een)h(one)
f(of)f(the)i(most)d(eagerly)i(an)o(ticipated)g(features)h(of)e(OS/2)h(V)m
(ersion)0 203 y(1.2.)29 b(It)18 b(will)e(mak)o(e)g(it)i(p)q(ossible)g(to)f
(access)j(m)o(ultiple)15 b(incompatible)h(v)o(olume)g(structures|F)-5
b(A)m(T,)19 b(HPFS,)f(CD)g(R)o(OM,)0 253 y(and)h(p)q(erhaps)h(ev)o(en)g
(UNIX|on)e(the)i(same)e(OS/2)h(system)g(at)g(the)g(same)f(time,)h(will)e
(simplify)g(the)i(life)f(of)h(net)o(w)o(ork)0 303 y(implemen)o(tors,)11
b(and)j(will)e(op)q(en)j(the)f(do)q(or)g(to)g(rapid)g(\014le)g(system)g(ev)o
(olution)f(and)g(inno)o(v)n(ation.)k(Installable)c(\014le)h(systems)0
352 y(are,)e(ho)o(w)o(ev)o(er,)g(only)e(relev)n(an)o(t)i(to)f(the)h(HPFS)g
(insofar)f(as)g(they)h(mak)o(e)e(use)i(of)f(the)h(HPFS)g(optional.)j(The)d(F)
-5 b(A)m(T)12 b(\014le)f(system)0 402 y(is)g(still)f(em)o(b)q(edded)h(in)g
(the)h(OS/2)f(k)o(ernel,)g(as)h(it)e(w)o(as)h(in)g(OS/2)g(1.0)f(and)h(1.1,)f
(and)h(will)f(remain)g(there)i(as)f(the)h(compatibilit)o(y)0
452 y(\014le)i(system)g(for)f(some)g(time)g(to)g(come.)62 523
y(An)g(installable)f(\014le)h(system)g(driv)o(er)g(\(FSD\))g(is)g(analogous)f
(in)g(man)o(y)f(w)o(a)o(ys)i(to)f(a)h(device)h(driv)o(er.)k(An)13
b(FSD)g(resides)h(on)0 572 y(the)f(disk)f(in)g(a)g(\014le)h(that)f(is)h
(structured)h(lik)o(e)e(a)g(dynamic-link)e(library)h(\(DLL\),)h(t)o(ypically)
f(with)h(a)g(SYS)h(or)f(IFS)h(extension,)0 622 y(and)f(is)h(loaded)f(during)g
(system)h(initialization)d(b)o(y)i(IFS=)h(statemen)o(ts)g(in)f(the)h
(CONFIG.SYS)f(\014le.)18 b(IFS=)13 b(directiv)o(es)h(are)0
672 y(pro)q(cessed)i(in)d(the)h(order)g(they)g(are)g(encoun)o(tered)i(and)d
(are)h(also)f(sensitiv)o(e)h(to)f(the)h(order)h(of)d(DEVICE=)j(statemen)o(ts)
e(for)0 722 y(device)i(driv)o(ers.)20 b(This)14 b(lets)h(y)o(ou)f(load)f(a)h
(device)h(driv)o(er)f(for)g(a)g(nonstandard)h(device,)g(load)e(a)h(\014le)g
(system)g(driv)o(er)h(from)d(a)0 772 y(v)o(olume)g(on)i(that)g(device,)g(and)
g(so)f(on.)62 842 y(Once)i(an)d(FSD)h(is)g(installed)g(and)g(initialized,)e
(the)j(k)o(ernel)f(comm)o(unicates)e(with)i(it)g(in)g(terms)f(of)h(logical)e
(requests)k(for)0 892 y(\014le)c(op)q(ens,)g(reads,)h(writes,)f(seeks,)i
(closes,)e(and)g(so)g(on.)16 b(The)11 b(FSD)g(translates)g(these)h
(requests|using)g(con)o(trol)e(structures)0 942 y(and)j(tables)h(found)f(on)h
(the)g(v)o(olume)e(itself|in)o(to)g(requests)j(for)e(sector)i(reads)g(and)e
(writes)h(for)g(whic)o(h)f(it)g(can)h(call)f(sp)q(ecial)0 992
y(k)o(ernel)j(en)o(try)g(p)q(oin)o(ts)g(called)f(File)g(System)h(Help)q(ers)h
(\(FsHlps\).)24 b(The)16 b(k)o(ernel)g(passes)h(the)f(demands)f(for)g(sector)
i(I/O)f(to)0 1042 y(the)e(appropriate)g(device)h(driv)o(er)f(and)g(returns)h
(the)g(results)g(to)f(the)g(FSD)g(\(Figure)g(6\).)62 1112 y(The)f(pro)q
(cedure)h(used)f(b)o(y)f(the)g(op)q(erating)g(system)g(to)g(asso)q(ciate)h(v)
o(olumes)d(with)i(FSDs)g(is)g(called)g(dynamic)e(moun)o(ting)0
1162 y(and)18 b(w)o(orks)h(as)f(follo)o(ws.)31 b(Whenev)o(er)19
b(a)f(v)o(olume)f(is)h(\014rst)h(accessed,)j(or)c(after)h(it)f(has)h(b)q(een)
g(lo)q(c)o(k)o(ed)g(for)f(direct)h(access)0 1212 y(and)13 b(then)g(unlo)q(c)o
(k)o(ed)g(\(for)g(example,)e(b)o(y)h(a)h(F)o(ORMA)m(T)f(op)q(eration\),)h
(OS/2)f(presen)o(ts)j(iden)o(tifying)c(information)f(from)h(the)0
1262 y(v)o(olume)h(to)h(eac)o(h)h(of)f(the)i(FSDs)f(in)f(turn)h(un)o(til)f
(one)g(of)h(them)e(recognizes)k(the)e(information.)h(When)f(an)f(FSD)h
(claims)d(the)0 1311 y(v)o(olume,)g(the)j(v)o(olume)e(is)h(moun)o(ted)g(and)g
(all)g(subsequen)o(t)i(\014le)e(I/O)h(requests)h(for)f(the)g(v)o(olume)d(are)
j(routed)h(to)e(that)h(FSD.)0 1469 y Fe(7)69 b Fd(P)n(erformance)18
b(Issues)0 1581 y Ff(The)c(HPFS)g(attac)o(ks)g(p)q(oten)o(tial)f(b)q
(ottlenec)o(ks)i(in)f(disk)f(throughput)h(at)g(m)o(ultiple)d(lev)o(els.)18
b(It)c(uses)h(adv)n(anced)f(data)f(struc-)0 1631 y(tures,)20
b(con)o(tiguous)d(sector)j(allo)q(cation,)d(in)o(telligen)o(t)f(cac)o(hing,)j
(read-ahead,)g(and)e(deferred)j(writes)f(in)e(order)i(to)f(b)q(o)q(ost)0
1681 y(p)q(erformance.)62 1751 y(First,)c(the)g(HPFS)g(matc)o(hes)g(its)f
(data)h(structures)i(to)d(the)i(task)f(at)f(hand:)18 b(sophisticated)c(data)g
(structures)i(\(B)e(T)m(rees)0 1801 y(and)f(B+)i(T)m(rees\))f(for)f(fast)h
(random)e(access)j(to)f(\014lenames,)e(directory)i(names,)f(and)g(lists)g(of)
g(sectors)j(allo)q(cated)d(to)g(\014les)h(or)0 1851 y(directories,)e(and)f
(simple)e(compact)h(data)h(structures)i(\(bitmaps\))d(for)g(lo)q(cating)g(c)o
(h)o(unks)h(of)g(free)g(space)h(of)e(the)i(appropriate)0 1901
y(size.)25 b(The)17 b(routines)f(that)g(manipulate)e(these)k(data)d
(structures)k(are)d(written)h(in)e(assem)o(bly)g(language)g(and)h(ha)o(v)o(e)
g(b)q(een)0 1950 y(painstakingly)c(tuned,)h(with)g(sp)q(ecial)h(fo)q(cus)g
(on)f(the)g(routines)h(that)g(searc)o(h)g(the)g(freespace)h(bitmaps)d(for)h
(patterns)h(of)f(set)0 2000 y(bits)h(\(un)o(used)h(sectors\).)62
2071 y(Next,)k(the)g(HPFS's)f(main)e(goal|its)h(prime)f(directiv)o(e,)j(if)f
(y)o(ou)f(will|is)f(to)i(assign)g(consecutiv)o(e)h(sectors)h(to)e(\014les)0
2121 y(whenev)o(er)h(p)q(ossible.)30 b(The)19 b(time)d(required)j(to)e(mo)o
(v)o(e)g(the)h(disk's)g(read/write)g(head)g(from)e(one)i(trac)o(k)g(to)g
(another)g(far)0 2171 y(out)o(w)o(eighs)13 b(the)g(other)h(p)q(ossible)f
(dela)o(ys,)g(so)g(the)h(HPFS)f(w)o(orks)g(hard)g(to)g(a)o(v)o(oid)f(or)h
(minim)o(i)o(ze)e(suc)o(h)j(head)f(mo)o(v)o(emen)o(ts)e(b)o(y)0
2220 y(allo)q(cating)j(\014le)i(space)h(con)o(tiguously)e(and)h(b)o(y)g(k)o
(eeping)f(con)o(trol)h(structures)j(suc)o(h)d(as)g(Fno)q(des)h(and)f
(freespace)h(bitmaps)0 2270 y(near)c(the)f(things)g(they)h(con)o(trol.)k
(Highly)11 b(con)o(tiguous)h(\014les)h(also)e(help)h(the)h(\014le)f(system)g
(mak)o(e)f(few)o(er)i(requests)h(of)d(the)i(disk)0 2320 y(driv)o(er)h(for)f
(more)g(sectors)j(at)d(a)h(time,)e(allo)o(w)g(the)i(disk)g(driv)o(er)g(to)f
(exploit)g(the)i(m)o(ultisector)e(transfer)h(capabilities)f(of)g(the)0
2370 y(disk)h(con)o(troller,)f(and)h(reduce)h(the)g(n)o(um)o(b)q(er)e(of)g
(disk)h(completion)e(in)o(terrupts)j(that)f(m)o(ust)f(b)q(e)i(serviced.)62
2440 y(Of)h(course,)h(trying)e(to)g(k)o(eep)h(\014les)g(from)e(b)q(ecoming)g
(fragmen)o(ted)h(in)g(a)g(m)o(ultitasking)e(system)i(in)g(whic)o(h)h(man)o(y)
e(\014les)0 2490 y(are)i(b)q(eing)g(up)q(dated)h(concurren)o(tly)g(is)f(no)g
(easy)g(c)o(hore.)25 b(One)17 b(strategy)f(the)h(HPFS)f(uses)i(is)d(to)h
(scatter)i(newly)d(created)0 2540 y(\014les)j(across)g(the)g(disk|in)f
(separate)h(bands,)g(if)f(p)q(ossible|so)g(that)h(the)g(sectors)h(allo)q
(cated)e(to)g(the)h(\014les)g(as)g(they)g(are)0 2590 y(extended)d(will)d(not)
i(b)q(e)g(in)o(terlea)o(v)o(ed.)k(Another)d(strategy)f(is)g(to)f(preallo)q
(cate)h(appro)o(ximately)e(4Kb)h(of)g(con)o(tiguous)h(space)0
2640 y(to)g(the)g(\014le)g(eac)o(h)h(time)d(it)i(m)o(ust)e(b)q(e)j(extended)g
(and)f(giv)o(e)f(bac)o(k)h(an)o(y)g(excess)i(when)e(the)g(\014le)g(is)g
(closed.)965 2825 y(6)p eop
%%Page: 7 7
bop 62 42 a Ff(If)11 b(an)f(application)g(kno)o(ws)g(the)i(ultimate)d(size)i
(of)g(a)f(new)h(\014le)g(in)g(adv)n(ance,)g(it)f(can)h(assist)h(the)f(\014le)
g(system)f(b)o(y)h(sp)q(ecifying)0 91 y(an)k(initial)f(\014le)h(allo)q
(cation)f(when)i(it)f(creates)j(the)e(\014le.)23 b(The)16 b(system)f(will)f
(then)i(searc)o(h)h(all)d(the)i(free)h(space)f(bitmaps)e(to)0
141 y(\014nd)h(a)f(run)h(of)e(consecutiv)o(e)j(sectors)h(large)d(enough)g(to)
h(hold)f(the)h(\014le.)k(That)c(failing,)d(it)i(will)f(searc)o(h)j(for)e(t)o
(w)o(o)g(runs)h(that)0 191 y(are)f(half)f(the)i(size)f(of)g(the)g(\014le,)f
(and)h(so)g(on.)62 262 y(The)h(HPFS)g(relies)g(on)f(sev)o(eral)h(di\013eren)o
(t)g(kinds)g(of)e(cac)o(hing)i(to)f(minim)o(ize)e(the)j(n)o(um)o(b)q(er)f(of)
g(ph)o(ysical)f(disk)i(transfers)0 311 y(it)h(m)o(ust)f(request.)26
b(Naturally)m(,)15 b(it)h(cac)o(hes)h(sectors,)h(as)f(did)e(the)i(F)-5
b(A)m(T)16 b(\014le)h(system.)24 b(But)17 b(unlik)o(e)e(the)i(F)-5
b(A)m(T)16 b(\014le)h(system,)0 361 y(the)f(HPFS)f(can)g(manage)e(v)o(ery)j
(large)e(cac)o(hes)j(e\016cien)o(tly)d(and)h(adjusts)h(sector)g(cac)o(hing)f
(on)f(a)h(p)q(er-handle)h(basis)f(to)f(the)0 411 y(manner)c(in)h(whic)o(h)g
(a)g(\014le)g(is)g(used.)18 b(The)12 b(HPFS)g(also)e(cac)o(hes)j(pathnames)d
(and)h(directories,)i(transforming)c(disk)i(directory)0 461
y(en)o(tries)k(in)o(to)e(an)h(ev)o(en)g(more)f(compact)g(and)h(e\016cien)o(t)
g(in-memory)d(represen)o(tation.)62 531 y(Another)i(tec)o(hnique)f(that)g
(the)g(HPFS)g(uses)h(to)e(impro)o(v)o(e)f(p)q(erformance)h(is)h(to)f(preread)
i(data)e(it)g(b)q(eliev)o(es)h(the)h(program)0 581 y(is)i(lik)o(ely)e(to)h
(need.)22 b(F)m(or)14 b(example,)f(when)j(a)e(\014le)h(is)f(op)q(ened,)i(the)
f(\014le)g(system)f(will)f(preread)j(and)f(cac)o(he)h(the)f(Fno)q(de)g(and)0
631 y(the)g(\014rst)h(few)e(sectors)j(of)d(the)h(\014le's)g(con)o(ten)o(ts.)
21 b(If)14 b(the)i(\014le)e(is)h(an)f(executable)i(program)d(or)i(the)g
(history)g(information)c(in)0 681 y(the)k(\014le's)g(Fno)q(de)g(sho)o(ws)g
(that)f(an)h(op)q(en)g(op)q(eration)f(has)h(t)o(ypically)e(b)q(een)j(follo)o
(w)o(ed)d(b)o(y)h(an)g(immediate)e(sequen)o(tial)i(read)0 731
y(of)g(the)i(en)o(tire)g(\014le,)e(the)i(\014le)f(system)g(will)e(preread)j
(and)f(cac)o(he)h(m)o(uc)o(h)e(more)g(of)g(the)i(\014le's)e(con)o(ten)o(ts.)
23 b(When)15 b(a)g(program)0 780 y(issues)k(relativ)o(ely)d(small)f(read)j
(requests,)i(the)e(\014le)f(system)h(alw)o(a)o(ys)e(fetc)o(hes)j(data)e(from)
e(the)j(\014le)g(in)f(2Kb)g(c)o(h)o(unks)h(and)0 830 y(cac)o(hes)d(the)g
(excess,)g(allo)o(wing)d(most)g(read)j(op)q(erations)f(to)g(b)q(e)g
(satis\014ed)h(from)d(the)i(cac)o(he.)62 901 y(Finally)m(,)i(the)h(OS/2)g(op)
q(erating)g(system's)g(supp)q(ort)g(for)g(m)o(ultitasking)d(mak)o(es)i(it)h
(p)q(ossible)g(for)g(the)g(HPFS)h(to)f(rely)0 951 y(hea)o(vily)c(on)i(lazy)f
(writes)h(\(sometimes)d(called)j(deferred)h(writes)f(or)f(write-b)q(ehind\))h
(to)g(impro)o(v)o(e)d(p)q(erformance.)20 b(When)14 b(a)0 1000
y(program)c(requests)j(a)f(disk)f(write,)h(the)g(data)f(is)h(placed)g(in)f
(the)h(cac)o(he)g(and)g(the)g(cac)o(he)h(bu\013er)f(is)g(\015agged)f(as)h
(dirt)o(y)f(\(that)h(is,)0 1050 y(inconsisten)o(t)h(with)f(the)h(state)g(of)e
(the)i(data)f(on)g(disk\).)18 b(When)12 b(the)h(disk)f(b)q(ecomes)g(idle)g
(or)g(the)h(cac)o(he)h(b)q(ecomes)e(saturated)0 1100 y(with)i(dirt)o(y)f
(bu\013ers,)i(the)g(\014le)f(system)g(uses)h(a)f(captiv)o(e)g(thread)h(from)d
(a)i(daemon)f(pro)q(cess)i(to)f(write)h(the)f(bu\013ers)i(to)e(disk,)0
1150 y(starting)g(with)f(the)i(oldest)f(data.)62 1220 y(In)i(general,)f(lazy)
h(writes)g(mean)e(that)i(programs)e(run)i(faster)g(b)q(ecause)h(their)f(read)
g(requests)h(will)d(almost)g(nev)o(er)i(b)q(e)0 1270 y(stalled)i(w)o(aiting)e
(for)h(a)h(write)g(request)h(to)f(complete.)29 b(F)m(or)17
b(programs)g(that)g(rep)q(eatedly)i(read,)g(mo)q(dify)m(,)d(and)h(write)h(a)0
1320 y(small)10 b(w)o(orking)i(set)i(of)e(records,)i(it)f(also)f(means)g
(that)g(man)o(y)f(unnecessary)k(or)e(redundan)o(t)g(ph)o(ysical)g(disk)f
(writes)i(ma)o(y)c(b)q(e)0 1370 y(a)o(v)o(oided.)19 b(Lazy)c(writes)g(ha)o(v)
o(e)f(their)h(dangers,)g(of)f(course,)h(so)g(a)f(program)f(can)h(defeat)h
(them)f(on)g(a)h(p)q(er-handle)g(basis)f(b)o(y)0 1420 y(setting)h(the)h
(write-through)f(\015ag)g(in)f(the)i(Op)q(enMo)q(de)g(parameter)f(for)g
(DosOp)q(en,)g(or)g(it)g(can)g(commit)d(data)j(to)f(disk)h(on)0
1469 y(a)f(p)q(er-handle)g(basis)g(with)g(the)g(DosBufReset)h(function.)0
1628 y Fe(8)69 b Fd(F)-5 b(ault)19 b(T)-5 b(olerance)0 1739
y Ff(The)15 b(HPFS's)g(extensiv)o(e)h(use)f(of)f(lazy)g(writes)h(mak)o(es)f
(it)g(imp)q(erativ)o(e)f(for)h(the)i(HPFS)f(to)f(b)q(e)h(able)f(to)h(reco)o
(v)o(er)h(gracefully)0 1789 y(from)f(write)i(errors)i(under)e(an)o(y)g(but)g
(the)h(most)d(dire)i(circumstances.)29 b(After)17 b(all,)f(b)o(y)h(the)g
(time)f(a)h(write)g(is)g(kno)o(wn)f(to)0 1839 y(ha)o(v)o(e)f(failed,)e(the)j
(application)d(has)i(long)f(since)i(gone)e(on)h(its)g(w)o(a)o(y)f(under)h
(the)h(illusion)d(that)i(it)f(has)h(safely)g(shipp)q(ed)g(the)0
1889 y(data)i(in)o(to)f(disk)h(storage.)28 b(The)17 b(errors)i(ma)o(y)c(b)q
(e)j(detected)h(b)o(y)e(the)g(hardw)o(are)h(\(suc)o(h)g(as)f(a)f(\\sector)j
(not)e(found")f(error)0 1938 y(returned)f(b)o(y)e(the)i(disk)e(adapter\),)h
(or)f(they)h(ma)o(y)e(b)q(e)i(detected)i(b)o(y)d(the)h(disk)f(driv)o(er)h(in)
f(spite)h(of)f(the)h(hardw)o(are)g(during)f(a)0 1988 y(read-after-write)i(v)o
(eri\014cation)e(of)h(the)g(data.)62 2059 y(The)i(primary)d(mec)o(hanism)f
(for)j(handling)e(write)j(errors)g(is)e(called)h(a)g(hot\014x.)20
b(When)c(an)e(error)i(is)f(detected,)h(the)g(\014le)0 2109
y(system)d(tak)o(es)g(a)f(free)i(blo)q(c)o(k)e(out)h(of)f(a)h(reserv)o(ed)i
(hot\014x)d(p)q(o)q(ol,)g(writes)i(the)f(data)g(to)f(that)h(blo)q(c)o(k,)f
(and)h(up)q(dates)h(the)f(hot\014x)0 2158 y(map.)j(\(The)f(hot\014x)e(map)f
(is)i(simply)d(a)j(series)h(of)e(pairs)g(of)g(doublew)o(ords,)h(with)f(eac)o
(h)h(pair)f(con)o(taining)g(the)h(n)o(um)o(b)q(er)f(of)g(a)0
2208 y(bad)h(sector)h(asso)q(ciated)f(with)g(the)g(n)o(um)o(b)q(er)f(of)g
(its)h(hot\014x)f(replacemen)o(t.)18 b(A)c(p)q(oin)o(ter)g(to)g(the)g
(hot\014x)g(map)e(is)h(main)o(tained)0 2258 y(in)g(the)g(SpareBlo)q(c)o(k.\))
19 b(A)13 b(cop)o(y)g(of)g(the)g(hot\014x)g(map)f(is)h(then)h(written)f(to)g
(disk,)g(and)g(a)g(w)o(arning)f(message)h(is)g(displa)o(y)o(ed)f(to)0
2308 y(let)i(the)g(user)h(kno)o(w)f(that)g(all)e(is)i(not)g(w)o(ell)f(with)h
(the)g(disk)g(device.)62 2378 y(Eac)o(h)j(time)d(the)j(\014le)f(system)g
(requests)i(a)e(sector)h(read)g(or)f(write)g(from)e(the)j(disk)f(driv)o(er,)g
(it)g(scans)h(the)g(hot\014x)f(map)0 2428 y(and)i(replaces)i(an)o(y)e(bad)g
(sector)h(n)o(um)o(b)q(ers)f(with)g(the)h(corresp)q(onding)h(go)q(o)q(d)d
(sector)j(holding)d(the)i(actual)f(data.)31 b(This)0 2478 y(lo)q(ok-aside)14
b(translation)h(of)f(sector)j(n)o(um)o(b)q(ers)e(is)g(not)g(as)h(exp)q(ensiv)
o(e)g(as)f(it)g(sounds,)h(since)g(the)g(hot\014x)f(list)g(need)h(only)e(b)q
(e)0 2528 y(scanned)h(when)f(a)g(sector)h(is)f(ph)o(ysically)f(read)h(or)g
(written,)g(not)g(eac)o(h)g(time)f(it)g(is)h(accessed)i(in)e(the)g(cac)o(he.)
62 2598 y(One)h(of)e(CHKDSK's)i(duties)f(is)g(to)g(empt)o(y)f(the)h(hot\014x)
g(map.)j(F)m(or)c(eac)o(h)i(replacemen)o(t)f(blo)q(c)o(k)f(on)h(the)h
(hot\014x)e(map,)f(it)0 2648 y(allo)q(cates)g(a)h(new)g(sector)h(that)e(is)h
(in)f(a)g(fa)o(v)o(orable)f(lo)q(cation)h(for)g(the)h(\014le)g(that)f(o)o
(wns)h(the)g(data,)f(mo)o(v)o(es)f(the)i(data)g(from)d(the)0
2698 y(hot\014x)k(blo)q(c)o(k)g(to)g(the)h(newly)f(allo)q(cated)f(sector,)i
(and)f(up)q(dates)h(the)g(\014le's)f(allo)q(cation)f(information)e(\(whic)o
(h)j(ma)o(y)e(in)o(v)o(olv)o(e)965 2825 y(7)p eop
%%Page: 8 8
bop 0 42 a Ff(rebalancing)15 b(allo)q(cation)f(trees)j(and)e(other)h(elab)q
(orate)f(op)q(erations\).)23 b(It)16 b(then)g(adds)f(the)h(bad)f(sector)i(to)
e(the)h(bad)f(blo)q(c)o(k)0 91 y(list,)h(releases)i(the)e(replacemen)o(t)g
(sector)i(bac)o(k)e(to)g(the)h(hot\014x)f(p)q(o)q(ol,)g(deletes)h(the)g
(hot\014x)f(en)o(try)h(from)d(the)j(hot\014x)f(map,)0 141 y(and)e(writes)g
(the)h(up)q(dated)f(hot\014x)g(map)e(to)i(disk.)62 212 y(Of)k(course,)i
(write)f(errors)g(that)f(can)h(b)q(e)g(detected)h(and)e(\014xed)g(on)g(the)h
(\015y)f(are)h(not)f(the)h(only)e(calamit)o(y)f(that)i(can)0
262 y(b)q(efall)11 b(a)h(\014le)g(system.)18 b(The)12 b(HPFS)h(designers)g
(also)f(had)g(to)g(consider)h(the)g(inevitable)e(damage)g(to)h(b)q(e)h(wreak)
o(ed)g(b)o(y)f(p)q(o)o(w)o(er)0 311 y(failures,)17 b(program)e(crashes,)k
(malicious)14 b(viruses)k(and)e(T)m(ro)r(jan)g(horses,)j(and)d(those)i(users)
g(who)f(turn)g(o\013)g(the)g(mac)o(hine)0 361 y(without)e(selecting)g(Sh)o
(utdo)o(wn)g(in)f(the)i(Presen)o(tation)g(Manager)f(Shell.)20
b(\(Sh)o(utdo)o(wn)15 b(noti\014es)h(the)f(\014le)g(system)g(to)f(\015ush)0
411 y(the)g(disk)e(cac)o(he,)i(up)q(date)g(directories,)g(and)f(do)f(whatev)o
(er)i(else)g(is)f(necessary)i(to)e(bring)f(the)i(disk)f(to)g(a)f(consisten)o
(t)i(state.\))62 482 y(The)i(HPFS)f(defends)h(itself)f(against)f(the)h(user)h
(who)f(is)g(to)q(o)f(abrupt)i(with)e(the)i(Big)e(Red)h(Switc)o(h)g(b)o(y)g
(main)o(taining)c(a)0 531 y(Dirt)o(yFS)j(\015ag)f(in)h(the)h(SpareBlo)q(c)o
(k)g(of)e(eac)o(h)i(HPFS)f(v)o(olume.)j(The)e(\015ag)f(is)g(only)f(cleared)i
(when)g(all)e(\014les)h(on)g(the)h(v)o(olume)0 581 y(ha)o(v)o(e)f(b)q(een)h
(closed)f(and)g(all)e(dirt)o(y)i(bu\013ers)h(in)e(the)i(cac)o(he)g(ha)o(v)o
(e)e(b)q(een)i(written)g(out)e(or,)h(in)f(the)i(case)f(of)g(the)g(b)q(o)q(ot)
g(v)o(olume)0 631 y(\(since)g(OS2.INI)f(and)h(the)g(sw)o(ap)f(\014le)g(are)h
(nev)o(er)g(closed\),)g(when)g(Sh)o(utdo)o(wn)f(has)h(b)q(een)g(selected)h
(and)f(has)f(completed)g(its)0 681 y(w)o(ork.)62 751 y(During)h(the)h(OS/2)f
(b)q(o)q(ot)g(sequence,)i(the)f(\014le)f(system)g(insp)q(ects)i(the)f(Dirt)o
(yFS)e(\015ag)h(on)g(eac)o(h)h(HPFS)g(v)o(olume)d(and,)i(if)0
801 y(the)g(\015ag)e(is)h(set,)g(will)f(not)h(allo)o(w)e(further)j(access)g
(to)f(that)g(v)o(olume)e(un)o(til)h(CHKDSK)i(has)f(b)q(een)h(run.)k(If)12
b(the)i(Dirt)o(yFS)e(\015ag)0 851 y(is)k(set)h(on)e(the)i(b)q(o)q(ot)f(v)o
(olume,)e(the)i(system)g(will)e(refuse)j(to)f(b)q(o)q(ot;)h(the)f(user)h(m)o
(ust)e(b)q(o)q(ot)h(OS/2)g(in)f(main)o(tenance)g(mo)q(de)0
901 y(from)d(a)i(disk)o(ette)g(and)g(run)g(CHKDSK)h(to)e(c)o(hec)o(k)i(and)f
(p)q(ossibly)g(repair)g(the)g(b)q(o)q(ot)g(v)o(olume.)62 971
y(In)19 b(the)h(ev)o(en)o(t)g(of)e(a)h(truly)g(ma)r(jor)f(catastrophe,)j(suc)
o(h)f(as)f(loss)g(of)f(the)i(Sup)q(erBlo)q(c)o(k)g(or)f(the)h(ro)q(ot)f
(directory)m(,)h(the)0 1021 y(HPFS)h(is)f(designed)g(to)g(giv)o(e)g(data)g
(reco)o(v)o(ery)h(the)g(b)q(est)g(p)q(ossible)f(c)o(hance)h(of)f(success.)39
b(Ev)o(ery)21 b(t)o(yp)q(e)f(of)g(crucial)g(\014le)0 1071 y(ob)r
(ject|including)14 b(Fno)q(des,)h(allo)q(cation)d(sectors,)k(and)f(directory)
g(blo)q(c)o(ks|is)f(doubly)f(link)o(ed)h(to)g(b)q(oth)h(its)f(paren)o(t)h
(and)0 1121 y(its)g(c)o(hildren)h(and)f(con)o(tains)h(a)f(unique)h(32-bit)e
(signature.)23 b(Fno)q(des)17 b(also)e(con)o(tain)g(the)h(initial)d(p)q
(ortion)i(of)g(the)h(name)f(of)0 1171 y(their)g(\014le)g(or)g(directory)m(.)
22 b(Consequen)o(tly)m(,)14 b(CHKDSK)i(can)f(rebuild)g(an)f(en)o(tire)i(v)o
(olume)d(b)o(y)i(metho)q(dically)d(scanning)j(the)0 1220 y(disk)f(for)g(Fno)q
(des,)h(allo)q(cation)d(sectors,)k(and)e(directory)h(blo)q(c)o(ks,)f(using)g
(them)f(to)i(reconstruct)h(the)f(\014les)g(and)f(directories)0
1270 y(and)g(\014nally)e(regenerating)j(the)g(freespace)g(bitmaps.)0
1428 y Fe(9)69 b Fd(Application)18 b(Programs)g(and)h(the)f(HPFS)0
1540 y Ff(Eac)o(h)12 b(of)e(the)i(OS/2)f(releases)i(th)o(us)f(far)f(ha)o(v)o
(e)g(carried)h(with)f(them)f(a)h(ma)r(jor)f(discon)o(tin)o(uit)o(y)g(for)h
(application)f(programmers)0 1590 y(who)h(learned)h(their)g(trade)g(in)f(the)
i(MS-DOS)e(en)o(vironmen)o(t.)16 b(In)c(OS/2)f(1.0,)g(suc)o(h)h(programmers)e
(w)o(ere)i(faced)g(for)f(the)h(\014rst)0 1640 y(time)h(with)i(virtual)f
(memory)m(,)d(m)o(ultitasking,)h(in)o(terpro)q(cess)k(comm)o(unications,)c
(and)i(the)i(protected)g(mo)q(de)e(restrictions)0 1689 y(on)c(addressing)g
(and)g(direct)h(con)o(trol)e(of)h(the)g(hardw)o(are)g(and)g(w)o(ere)h(c)o
(hallenged)f(to)f(master)h(p)q(o)o(w)o(erful)f(new)i(concepts)g(suc)o(h)g(as)
0 1739 y(threading)h(and)g(dynamic)e(linking.)16 b(In)11 b(OS/2)h(V)m(ersion)
g(1.1,)f(the)h(stak)o(es)h(w)o(ere)g(raised)f(ev)o(en)h(further.)18
b(Programmers)10 b(w)o(ere)0 1789 y(o\013ered)17 b(a)e(p)q(o)o(w)o(erful)h
(hardw)o(are-indep)q(enden)o(t)h(graphical)e(user)i(in)o(terface)f(but)g(had)
g(to)f(restructure)k(their)d(applications)0 1839 y(drastically)d(for)h(an)f
(ev)o(en)o(t-driv)o(en)i(en)o(vironmen)o(t)e(based)h(on)g(ob)r(jects)h(and)f
(message)f(passing.)62 1909 y(In)g(OS/2)f(V)m(ersion)g(1.2,)f(it)h(is)h(time)
e(for)h(man)o(y)e(of)i(the)h(\014le-orien)o(ted)g(programmi)o(ng)c(habits)k
(and)f(assumptions)f(carried)0 1959 y(forw)o(ard)19 b(from)e(the)i(MS-DOS)g
(en)o(vironmen)o(t)f(to)h(fall)e(b)o(y)i(the)h(w)o(a)o(yside.)33
b(An)19 b(application)f(that)h(wishes)g(to)g(tak)o(e)g(full)0
2009 y(adv)n(an)o(tage)12 b(of)h(the)h(HPFS)g(m)o(ust)e(allo)o(w)g(for)h
(long,)f(free-form,)f(mixed-case)i(\014lenames)g(and)g(paths)g(with)g(few)h
(restrictions)0 2059 y(on)h(punctuation)f(and)h(m)o(ust)f(b)q(e)h(sensitiv)o
(e)g(to)g(the)g(presence)j(of)c(EAs)h(and)g(A)o(CLs.)21 b(After)15
b(all,)f(if)g(EAs)h(are)g(to)g(b)q(e)g(of)f(an)o(y)0 2109 y(use,)f(it)g(w)o
(on't)f(su\016ce)h(for)f(applications)g(to)h(up)q(date)g(a)f(\014le)h(b)o(y)f
(renaming)f(the)j(old)e(\014le)g(and)h(creating)g(a)f(new)h(one)g(without)0
2158 y(also)g(cop)o(ying)g(the)i(EAs.)62 2229 y(But)g(the)g(necessary)h(c)o
(hanges)f(for)f(OS/2)g(V)m(ersion)g(1.2)f(are)i(not)f(tric)o(ky)g(to)g(mak)o
(e.)k(A)c(new)h(API)f(function,)g(DosCop)o(y)m(,)0 2279 y(helps)h
(applications)f(create)i(bac)o(kups|it)f(essen)o(tially)f(duplicates)i(an)e
(existing)h(\014le)g(together)g(with)g(its)g(EAs.)21 b(EAs)16
b(can)0 2329 y(also)f(b)q(e)i(manipulated)d(explicitly)g(with)i
(DosQFileInfo,)f(DosSetFileInfo,)h(DosQP)o(athInfo,)f(and)h(DosSetP)o
(athInfo.)24 b(A)0 2378 y(program)11 b(should)h(call)g(DosQSysInfo)g(at)h
(run)g(time)e(to)h(\014nd)h(the)g(maxim)n(um)8 b(p)q(ossible)13
b(path)f(length)h(for)f(the)h(system,)f(and)0 2428 y(ensure)g(that)f(all)f
(bu\013ers)i(used)f(b)o(y)g(DosChDir,)f(DosQCurDir,)h(and)g(related)g
(functions)g(are)g(su\016cien)o(tly)g(large.)16 b(Similarly)l(,)0
2478 y(the)f(bu\013ers)g(used)g(b)o(y)f(DosOp)q(en,)h(DosMo)o(v)o(e,)e
(DosGetMo)q(dName,)g(DosFindFirst,)h(DosFindNext,)g(and)g(lik)o(e)f
(functions)0 2528 y(m)o(ust)i(allo)o(w)f(for)h(longer)g(\014lenames.)23
b(An)o(y)15 b(logic)g(that)g(folds)g(cases)i(in)e(\014lenames)g(or)h(tests)h
(for)e(the)h(o)q(ccurrence)j(of)c(only)0 2578 y(one)f(dot)g(delimiter)e(in)i
(a)f(\014lename)g(m)o(ust)g(b)q(e)h(rethough)o(t)h(or)f(eliminated)62
2648 y(The)21 b(other)g(c)o(hanges)f(in)g(the)h(API)f(will)f(not)h(a\013ect)h
(the)g(a)o(v)o(erage)f(application.)35 b(The)21 b(functions)f(DosQFileInfo,)0
2698 y(DosFindFirst,)d(and)g(DosFindNext)g(no)o(w)g(return)h(all)e(three)i
(sets)h(of)d(times)g(and)h(dates)h(\(created,)h(last)e(accessed,)i(last)965
2825 y(8)p eop
%%Page: 9 9
bop 0 42 a Ff(mo)q(di\014ed\))11 b(for)g(a)h(\014le)f(on)h(an)g(HPFS)g(v)o
(olume,)e(but)i(few)g(programs)e(are)i(concerned)i(with)e(time)e(and)i(date)g
(stamps)f(an)o(yw)o(a)o(y)m(.)0 91 y(DosQFsInfo)g(is)g(used)h(to)f(obtain)f
(v)o(olume)f(lab)q(els)i(or)g(disk)g(c)o(haracteristics)i(just)e(as)h(b)q
(efore,)g(and)e(the)i(use)g(of)f(DosSetFsInfo)0 141 y(for)17
b(v)o(olume)e(lab)q(els)i(is)f(unc)o(hanged.)28 b(There)19
b(are)e(a)g(few)g(totally)e(new)j(API)f(functions)g(suc)o(h)h(as)f(DosFsCtl)g
(\(analogous)0 191 y(to)d(DosDevIOCtl)g(but)g(used)i(for)d(comm)o(unication)e
(b)q(et)o(w)o(een)16 b(an)e(application)e(and)i(an)g(FSD\),)g(DosFsA)o(ttac)o
(h)h(\(a)f(sort)h(of)0 241 y(explicit)e(moun)o(t)e(call\),)h(and)h(DosQFsA)o
(ttac)o(h)h(\(determines)g(whic)o(h)f(FSD)g(o)o(wns)g(a)g(v)o(olume\);)e
(these)j(are)g(in)o(tended)g(mainly)0 291 y(for)g(use)g(b)o(y)g(disk)g
(utilit)o(y)e(programs.)62 361 y(In)20 b(order)h(to)f(prev)o(en)o(t)g(old)g
(OS/2)f(applications)g(and)h(MS-DOS)g(applications)f(running)g(in)h(the)g
(DOS)g(b)q(o)o(x)g(from)0 411 y(inadv)o(erten)o(tly)c(damaging)d(HPFS)k
(\014les,)g(a)f(new)g(\015ag)g(bit)g(has)g(b)q(een)i(de\014ned)f(in)f(the)g
(EXE)h(\014le)f(header)h(that)g(indicates)0 461 y(whether)e(an)f(application)
f(is)h(HPFS-a)o(w)o(are.)k(If)c(this)g(bit)g(is)g(not)g(set,)g(the)h
(application)d(will)h(only)g(b)q(e)i(able)f(to)g(searc)o(h)h(for,)0
511 y(op)q(en,)c(or)f(create)i(\014les)f(on)f(HPFS)h(v)o(olumes)e(that)h(are)
h(compatible)e(with)h(the)h(F)-5 b(A)m(T)10 b(\014le)h(system's)f(8.3)f
(naming)f(con)o(v)o(en)o(tions.)0 560 y(If)16 b(the)g(bit)g(is)g(set,)h(OS/2)
f(allo)o(ws)e(access)k(to)e(all)f(\014les)h(on)g(an)g(HPFS)g(v)o(olume,)f(b)q
(ecause)i(it)f(assumes)g(that)g(the)h(program)0 610 y(kno)o(ws)c(ho)o(w)f(to)
h(handle)f(long,)g(free-form)g(\014lenames)g(and)g(will)f(tak)o(e)i(the)h
(resp)q(onsibilit)o(y)e(of)g(conserving)h(a)g(\014le's)g(EAs)g(and)0
660 y(A)o(CLs.)0 818 y Fe(10)69 b Fd(Summary)0 930 y Ff(The)13
b(HPFS)g(solv)o(es)g(all)e(of)h(the)i(historical)d(problems)h(of)g(the)h(F)-5
b(A)m(T)13 b(\014le)g(system.)k(It)c(ac)o(hiev)o(es)g(excellen)o(t)g
(throughput)g(ev)o(en)0 980 y(in)f(extreme)h(cases|man)o(y)f(v)o(ery)i(small)
c(\014les)j(or)g(a)g(few)g(v)o(ery)g(large)f(\014les|b)o(y)h(means)f(of)g
(adv)n(anced)h(data)g(structures)i(and)0 1029 y(tec)o(hniques)c(suc)o(h)g(as)
g(in)o(telligen)o(t)e(cac)o(hing,)h(read-ahead,)h(and)f(write-b)q(ehind.)17
b(Disk)10 b(space)h(is)f(used)h(economically)d(b)q(ecause)0
1079 y(it)14 b(is)h(managed)e(on)i(a)f(sector)i(basis.)21 b(Existing)15
b(application)e(programs)g(will)h(need)i(mo)q(di\014cation)c(to)j(tak)o(e)g
(adv)n(an)o(tage)f(of)0 1129 y(the)h(HPFS's)g(supp)q(ort)g(for)g(extended)h
(attributes)f(and)g(long)e(\014lenames,)h(but)g(these)i(c)o(hanges)g(will)d
(not)h(b)q(e)h(di\016cult.)20 b(All)0 1179 y(application)13
b(programs)h(will)f(b)q(ene\014t)j(from)c(the)k(HPFS's)f(impro)o(v)o(ed)d(p)q
(erformance)j(and)f(decreased)j(CPU)e(use)h(whether)0 1229
y(they)e(are)h(mo)q(di\014ed)d(or)i(not.)0 1299 y Fa(This)g(article)g(is)h(b)
n(ase)n(d)g(on)g(a)g(pr)n(er)n(ele)n(ase)f(version)h(of)g(the)g(HPFS)g(that)g
(was)f(stil)r(l)g(under)n(going)i(mo)n(di\014c)n(ation)f(and)h(tuning.)0
1349 y(Ther)n(efor)n(e,)d(the)i(\014nal)h(r)n(ele)n(ase)e(of)h(the)g(HPFS)g
(may)g(di\013er)g(in)g(some)g(details)g(fr)n(om)f(the)h(description)f(given)i
(her)n(e|Ed.)0 1507 y Fd(Sidebar:)24 b(B)19 b(T)-5 b(rees)18
b(and)h(B+)f(T)-5 b(rees)0 1619 y Ff(Most)16 b(programmers)e(are)i(at)g
(least)g(passingly)f(familia)o(r)e(with)j(the)g(data)g(structure)i(kno)o(wn)d
(as)h(a)g(binary)f(tree.)25 b(Binary)0 1669 y(trees)20 b(are)e(a)g(tec)o
(hnique)g(for)g(imp)q(osing)e(a)h(logical)g(ordering)h(on)f(a)h(collection)g
(of)f(data)h(items)f(b)o(y)g(means)g(of)h(p)q(oin)o(ters,)0
1718 y(without)c(regard)g(to)g(the)g(ph)o(ysical)f(order)i(of)e(the)i(data.)
62 1789 y(In)f(a)f(simple)g(binary)g(tree,)h(eac)o(h)h(no)q(de)f(con)o(tains)
g(some)e(data,)h(including)g(a)h(k)o(ey)f(v)n(alue)g(that)h(determines)g(the)
h(no)q(de's)0 1839 y(logical)f(p)q(osition)g(in)h(the)h(tree,)g(as)g(w)o(ell)
e(as)i(p)q(oin)o(ters)g(to)f(the)h(no)q(de's)f(left)g(and)h(righ)o(t)e
(subtrees.)25 b(The)16 b(no)q(de)f(that)h(b)q(egins)0 1889
y(the)e(tree)h(is)f(kno)o(wn)g(as)f(the)i(ro)q(ot;)e(the)i(no)q(des)f(that)g
(sit)g(at)g(the)g(ends)h(of)e(the)h(tree's)h(branc)o(hes)h(are)e(sometimes)e
(called)h(the)0 1938 y(lea)o(v)o(es.)62 2009 y(T)m(o)h(\014nd)h(a)g
(particular)g(piece)h(of)e(data,)g(the)i(binary)e(tree)i(is)f(tra)o(v)o
(ersed)h(from)e(the)h(ro)q(ot,)g(A)o(t)g(eac)o(h)g(no)q(de,)g(the)h(desired)0
2059 y(k)o(ey)g(is)h(compared)e(with)h(the)h(no)q(de's)g(k)o(ey;)g(if)f(they)
h(don't)f(matc)o(h,)f(one)i(branc)o(h)f(of)g(the)h(no)q(de's)g(subtree)h(or)e
(another)h(is)0 2109 y(selected)d(based)g(on)e(whether)i(the)f(desired)g(k)o
(ey)g(is)f(less)i(than)e(or)h(greater)g(than)g(the)g(no)q(de's)f(k)o(ey)m(.)
18 b(This)12 b(pro)q(cess)i(con)o(tin)o(ues)0 2158 y(un)o(til)f(a)h(matc)o(h)
e(is)i(found)f(or)h(an)g(empt)o(y)f(subtree)i(is)f(encoun)o(tered)i(\(see)f
(Figure)f(A\).)62 2229 y(Suc)o(h)j(simple)d(binary)h(trees,)j(although)c
(easy)j(to)e(understand)i(and)f(implemen)o(t,)d(ha)o(v)o(e)j(disadv)n(an)o
(tages)f(in)g(practice.)0 2279 y(If)e(k)o(eys)h(are)g(not)f(w)o(ell)f
(distributed)i(or)g(are)f(added)h(to)f(the)h(tree)h(in)e(a)g(non-random)e
(fashion,)i(the)h(tree)g(can)g(b)q(ecome)f(quite)0 2329 y(asymmetric,)e
(leading)i(to)h(wide)g(v)n(ariations)f(in)g(tree)i(tra)o(v)o(ersal)f(times.)
62 2399 y(In)19 b(order)g(to)g(mak)o(e)e(access)k(times)d(uniform,)f(man)o(y)
g(programmers)g(prefer)j(a)e(particular)g(t)o(yp)q(e)i(of)e(balanced)h(tree)0
2449 y(kno)o(wn)14 b(as)g(a)g(B)g(T)m(ree.)20 b(F)m(or)13 b(the)i(purp)q
(oses)h(of)d(this)h(discussion,)g(the)h(imp)q(ortan)o(t)e(p)q(oin)o(ts)h(ab)q
(out)g(a)f(B)i(T)m(ree)g(are)f(that)g(data)0 2499 y(is)e(stored)i(in)e(all)g
(no)q(des,)h(more)e(than)i(one)g(data)f(item)f(migh)o(t)g(b)q(e)i(stored)g
(in)g(a)f(no)q(de,)h(and)f(all)f(of)h(the)i(branc)o(hes)g(of)e(the)h(tree)0
2549 y(are)h(of)g(iden)o(tical)f(length)h(\(see)h(Figure)f(B\).)62
2619 y(The)i(w)o(orst-case)h(b)q(eha)o(vior)f(of)f(a)g(B)i(T)m(ree)f(is)g
(predictable)g(and)g(m)o(uc)o(h)e(b)q(etter)k(than)d(that)h(of)f(a)h(simple)e
(binary)h(tree,)0 2669 y(but)i(the)g(main)o(tenance)f(of)h(a)f(B)h(T)m(ree)h
(is)e(corresp)q(ondingly)i(more)d(complex.)26 b(Adding)16 b(a)h(new)g(data)f
(item,)g(c)o(hanging)g(a)965 2825 y(9)p eop
%%Page: 10 10
bop 0 42 a Ff(k)o(ey)16 b(v)n(alue,)e(or)i(deleting)f(a)g(data)h(item)e(ma)o
(y)f(result)k(in)e(the)h(splitting)e(or)i(merging)e(of)g(a)i(no)q(de,)f(whic)
o(h)h(in)f(turn)h(forces)g(a)0 91 y(cascade)f(of)e(other)i(op)q(erations)f
(on)g(the)g(tree)h(to)f(rebalance)h(it.)62 162 y(A)d(B+)h(T)m(ree)f(is)g(a)g
(sp)q(ecialized)g(form)e(of)i(B)g(T)m(ree)h(that)e(has)h(t)o(w)o(o)g(t)o(yp)q
(es)h(of)e(no)q(des:)18 b(in)o(ternal)11 b(whic)o(h)h(only)f(p)q(oin)o(t)h
(to)f(other)0 212 y(no)q(des,)j(and)g(external,)g(whic)o(h)g(con)o(tain)f
(the)i(actual)e(data)h(\(see)h(Figure)f(C\).)62 282 y(The)k(adv)n(an)o(tage)e
(of)g(a)h(B+)h(T)m(ree)g(o)o(v)o(er)f(a)f(B)i(T)m(ree)f(is)g(that)g(the)h(in)
o(ternal)f(no)q(des)h(of)e(the)i(B+)f(T)m(ree)h(can)f(hold)g(man)o(y)0
332 y(more)d(decision)h(v)n(alues)g(than)g(the)h(in)o(termediate-lev)o(el)d
(no)q(des)j(of)f(a)f(B)i(T)m(ree,)f(so)g(the)h(fan)e(out)h(of)g(the)g(tree)i
(is)d(faster)i(and)0 382 y(the)d(a)o(v)o(erage)g(length)f(of)g(a)h(branc)o(h)
g(is)f(shorter.)19 b(This)13 b(mak)o(es)e(up)i(for)f(the)h(fact)g(that)g(y)o
(ou)f(m)o(ust)f(alw)o(a)o(ys)h(follo)o(w)f(a)h(B+)h(T)m(ree)0
432 y(branc)o(h)h(to)g(its)g(end)g(to)f(get)h(the)h(data)e(for)h(whic)o(h)f
(y)o(ou)h(are)g(lo)q(oking,)d(whereas)k(in)f(a)f(B)h(T)m(ree)h(y)o(ou)e(ma)o
(y)f(disco)o(v)o(er)i(the)g(data)0 482 y(at)g(an)f(in)o(termediate)h(no)q(de)
g(or)g(ev)o(en)g(at)g(the)g(ro)q(ot.)954 2825 y(10)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
