                            стр.26

      НАИМЕНОВАНИЕ РЕГИСТРА: AUTO MODE SWITCH STATUS PORT
      АДРЕС ПОРТА:           3C8h or 3C9h Read Only for all
                             display modes

┌───────────────────────────────────────────────────────────┐
│             AUTO MODE SWITCH STATUS PORT                  │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      │  │  │  │  └──┴──┴──┴──────── NOT USED Read as 0    │
│      │  │  │  └──────────────────── Hercules I/O detect   │
│      │  │  └─────────────────────── CGA I/O detect        │
│      │  └────────────────────────── EGA I/O detect        │
│      └───────────────────────────── Auto Mode Switch Status
└───────────────────────────────────────────────────────────┘

    Схема AUTO MODE SWITCH служит для автоматического
обнаружения с помощью программных средств попыток
использования дисплейного параметра [варианта,средства],
отличающегося от такового, установленного [системой] BIOS.
Попытки записать с помощью программных средств в порт адреса,
являющиеся уникальными для какого-либо режима дисплея, не
того, который выбрали, в случае если AUTO MODE SWITCH
разрешен, приведут к ослаблению AUTOINT сигнала. Это приводит
к NMI CPU в сегмент кода, который подготавливает записи
нужного регистра к последующим изменениям режима.
    Чтение этого порта очищает текущее прерывание AUTO MODE
SWITCH.

    Hercules I/O Detect:
        D4
        1        Если это единственный бит в регистре, который
                 читается как 1, то это потому, что выбранным
                 графическим режимом является CGA или ЕGA,
                 поэтому в Hercules port производится запись.
                 В каждой из этих конфигураций запись в
                 Hercules mode (3B8h) или порт конфигурации
                 (3BFh) установит Hercules I/O бит обнаружения
                 и в регистр будет сделана удачная запись.
                 Если выбран дисплейный режим цветного CGA, то
                 в его монохромном адресе производится запись
                 в СRTC. Может также произойти переключение
                 Auto mode на Hercules mode (3B0-3B7h). За
                 исключением монохромных CRTC записей все
                 записи в порт AUTO MODE SWITCH будут
                 успешными.
                            стр.27

    СGA I/O  DETECT
        D5
        1
                 Если это единственный бит в регистре, читае-
                 мый как 1, а все остальные в регистре очище-
                 ны, то это потому что выбран графический ре-
                 жим EGA или HERCULES (монохромный текст или
                 графика), и в порт CGA производится запись .
                 В этой конфигурации запись в CGA mode 1 port
                 (3d8h) или CGA цветной выбранный порт (3d9h)
                 вызовет AUTO mode switch . Если выбран дисп-
                 лейный режим монохромный EGA и в CRTC произ-
                 водится запись на его цветной адрес, то может
                 также произойти (3D0 - 3D7H) AUTO mode на CGA
                 mode. За исключением цветных CRTC записей все
                 записи в порт автоматического переключения
                 будут успешными.



    EGA I/O Detect
        D6
        1         Когда этот бит читается как 1, а все другие
                  биты в этом регистре являются 0, то это
                  потому, что был выбран графический режим
                  Hercules или CGA, в этом случае производится
                  запись в регистр ЕGA mode (3C2h), атрибутный
                  контролер (3C0h), указатель следования
                  (3C4h/3C5h) или EGA графический контролер
                  (3CAh-3CFh).

    AUTO MODE SWITCH STATUS:
        D7
        0         Когда этот бит читается как 0, тогда
                  разрешены прерывания AUTO MODE SWITCH.
                  Прерывания AUTO MODE SWITCH разрешены, когда
                  бит D6 основного контрольного порта 1
                  (3C8/3C9h) является 1, а входной символ
                  перехода E AUTO имеет низкий уровень.
                            стр.28

      НАИМЕНОВАНИЕ РЕГИСТРА: MASTER CONTROL PORT 1
      АДРЕС ПОРТА:           3C8h or 3C9h Write Only for all
                             display modes

┌───────────────────────────────────────────────────────────┐
│             MASTER CONTROL PORT 1                         │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      │  │  │  │  │  │  └──┴──────── Display mode          │
│      │  │  │  │  │  └────────────── CRTC Type             │
│      │  │  │  └──┴───────────────── Interlace select      │
│      │  │  └─────────────────────── Reserved              │
│      │  └────────────────────────── Auto Mode Switch Enable
│      └───────────────────────────── Clock/DIP Switch      │
└───────────────────────────────────────────────────────────┘

    DISPLAY MODE:
      D1  D0
      0   0     EGA Mode
      0   1     Hercules Mode
      1   0     CGA Mode
      1   1     Reserved

    CRTC TYPE
      D2
      0         EGA CRTC
      1         6845S CRTC

    INTERLACE SELECT:
      D4  D3
      0   0     NO Interlace(EGA CRTC Only)
      0   1     Interlace Sync(EGA CRTC Only)
      1   0     Interlace Sync and Memory(EGA)
      1   1     Interlace Sync and Row count(EGA)

    AUTO MODE SWITCH SELECT:
      D6
      0         Блокирует AUTO MODE SWITCH
      1         Разрешает AUTO MODE SWITCH

    ALTERNATE CLOCK/DIPSWITCH SELECT:
      D7
      0         Выбирает EGA dipswitch вводы (EGDS1-4) и
                ввода часов (EEC1K0-3).
      1         Выбирает G-2 dipswitch вводы (EGDS0-3).
                Внешний часовой вывод EEXCLK появляется у
                штырькового вывода ECLKIN (см. APPENDIX C
                читающие переключатели).
                            стр.29

      НАИМЕНОВАНИЕ РЕГИСТРА: MASTER CONTROL PORT 2
      АДРЕС ПОРТА:           3C6h or 3C7h Write Only for all
                             display modes

┌───────────────────────────────────────────────────────────┐
│             MASTER CONTROL PORT 2                         │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      │  │  │  │  │  │  │  └──────── Bios Side Select      │
│      │  │  │  │  │  │  └─────────── Video Ram Size Select │
│      │  │  │  │  │  └────────────── Reserved              │
│      │  │  │  │  └───────────────── Tristate Test Control │
│      │  │  │  └──────────────────── Test input/output data│
│      │  │  └─────────────────────── Test output enable 1  │
│      │  └────────────────────────── Test output enable 2  │
│      └───────────────────────────── Test input enable     │
└───────────────────────────────────────────────────────────┘

    Для разрешения Master Control Port 2, значение 1 Сh должно
быть записано в Master Control Port 1. Для блокировки Master
Control Port 2 перепрограммируйте Master Control Port 1 с
нужными операционными значениями.

    BIOS SIZE SELECT:
        D0
        0         Default Bios size C0000 - C3FFFh
        1         Extended bios C0000 - C7FFFh

    VIDEO RAM SIZE SELECT:
        D1
        0         Расширенная видеопамять (64к на плоскость)
        1         Нормальная видеопамять (16к на плоскость)

    TRISTATE TEST CONTROL:
        D3        Этот бит, когда logic 1 используется только
                  для внутреннего тестирования.
        0         Нормальная операция.
        1         Следующие выводы имеют высокий импеданс:
                   BD0-7, ESCS, ESOE, ESWE, EROMCS, EROMOE,
                   ERAS0-3, ECAS, EWE, MAA0-7, MBA0-7, M0D0-7,
                   MID0-7, M2D0-7, M3D0-7.
                  Следующие Open Drain выводы выводятся на
                  более высокий уровень, а не на более низкий
                  на сигнал active.
                   AUTINT, PHNTOM, ECOMP.
                            стр.30

    TEST INPUT/OUTPUT DATA:
        D4        Этот бит используется только для внутреннего
                  тестирования.
        0         EEDS1 = G1CPUL for test output
                  EEDS2 = CRTL
                  EEDS3 = CRTCPU
                  EEDS4 = MUX
                  EGDS0 = DOTCLK
                  EGDS1 = DE and VRTC for test input
                  EGDS2 = BLANK
                  EGDS3 = UNLINE/CURSOR

        1         EEDS1 = SYNCH for test output
                  EEDS2 = DE
                  EEDS3 = RFSH
                  EEDS4 = CURSOR
                  EGDS0 = UNLINE
                  EGDS1 = CHCLK and CAL for test input
                  EGDS2 = MUX
                  EGDS3 = CRTCPU

    TEST OUTPUT ENABLE 1:
        D5        Этот бит когда logic 1 используется только
                  для внутреннего тестирования.
        0         Нормальная операция EEDS1-4 и EGDSO являются
                  вводами.
        1         EEDS1-4 и EGDSO являются выходами, если ввод
                  ETEN переходника низкий. Данные на этих
                  выходах выбираются D4.

    TEST OUTPUT ENABLE 2:
        D6        Этот бит, когда logic 1 используется только
                  для внутреннего тестирования.
        0         Нормальная операция EGDS1-3 - это выходы.
        1         Следующие штырьковые выводы являются
                  контрольными выходами, если вводится сигнал
                  ETEST низкого уровня:
                  EGDS1 = CHCLK
                  EGDS2 = CAL
                  EGDS3 = G1SL

    TEST INPUT ENABLE:
        D7        Этот бит, когда logic 1 используется только
                  для внутреннего тестирования.
                  Этот регистр устанавливается в состояние
                  "0", когда ERESET = 1. Значение 01Ch должно
                  быть записано в MASTER CONTROL PORT 1
                  прежде, чем может быть записан MASTER
                  CONTROL PORT 2.

        0         Нормальная операция.
        1         Разрешает EGDs1-3 и ELPSW как контрольные
                  входные сигналы. Они возбуждают внутренние
                  сигналы как выбрано D4.
                            стр.31

      EGA REGISTERS:

      НАИМЕНОВАНИЕ РЕГИСТРА: MISCELLANEOUS OUTPUT REGISTER
      АДРЕС ПОРТА:           3C2h or 3C3h Write Only

┌────────────────────────────────────────────────────────────┐
│             MISCELLANEOUS OUTPUT REGISTER                  │
├────────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                                │
│      │  │  │  │  │  │  │  │                                │
│      │  │  │  │  │  │  │  └─ I/O Address Select            │
│      │  │  │  │  │  │  └──── Enable Ram                    │
│      │  │  │  │  │  └─────── Clock Select 0                │
│      │  │  │  │  └────────── Clock Select 1                │
│      │  │  │  └───────────── Disable Internal Video Drivers│
│      │  │  └──────────────── Page Bit For Odd/Even         │
│      │  └─────────────────── Horizontal Retrace Polarity   │
│      └────────────────────── Vertical Retrace Polarity     │
└────────────────────────────────────────────────────────────┘

    I/O ADDRESS SELECT:
      D0        Этот бит отображает CRTC I/O адреса для IBM
                Monochrome mode или Color/Graphics Monitor
                Adapter, эмуляция.
      0         Установите СRTC адреса на 3ВХh, а адреса
                Input Status Register 1 на 3BAh для
                Monochrome эмуляции.
      1         Установит CRTC адреса на 3DAh, а Input
                Status Register на 3ДАh для Color/Graphics
                Monitor Adapter эмуляции.

    ENABLE RAM:
      D1
      0         Разрешает RAM отвечать на адреса,
                обозначенные Memory Map Select битами
                Graphics Controller Register 06h.
                            стр.32

    СLOCK SELECT:
      D3  D2    Эти два бита выбирают источник
                синхранизирующих сигналов программы
                упорядочения [sequencer clock source];
      0   0     14 MHz внешний синхронизатор, от процессора
                I/O канала (контактный EECLKO).
      0   1     16 MHz синхронизатор на плате (Pin EECLK1).
      1   0     Внешний синхранизатор, от соединителя
                признаков [топографических элементов]
                (Pin EECLK2).
      1   1     19 MHz синхранизатор (Pin EECLK3).

                Примечания смотри в приложении APPENDIX C
                reading switches.

    DISABLE INTERNAL VIDEO DRIVERS:
      D4
      0         Aктивирует внутренние видео драйверы.
      1         Отмечает внутренние видео драйверы.
                Когда внутренние видеодрайверы блокированы,
                соединитель топографических элементов
                [признаков] дает доступ к источнику для
                direct drive color output.

    PAGE BIT ODD/EVEN:
      D5
      0         Выбирает страницу памяти с меньшим адресом.
      1         Выбирает страницу памяти с большим адресом.
                Выбор производится между двумя 64K банками
                памяти, когда разрешено формирование цепочки
                памяти. Этот бит замещает бит AO адресной
                шины процессора во время записи в видео
                память, если:
                - Бит 1 регистра графического контролера 6
                  равен 1.
                - Биты 2 и 3 регистра графического
                  контролера 6 являются NOT оба младшие (0).

    HORIZONTAL RETRACE POLARITY:
      D6
      0         Устанавливает положительный обратный ход по
                строке.
      1         Устанавливает отрицательный обратный ход по
                строке.

    VERTICAL RETRACE POLARITY:
      D7
      0         Устанавливает положительный обратный ход по
                кадру.
      1         Устанавливает отрицательный обратный ход по
                кадру.
                            стр.33

    НАИМЕНОВАНИЕ РЕГИСТРА: FEATURE CONTROL REGISTER
    АДРЕС ПОРТА:           3BAh Monochrome Mode Write Only
                           3DAh Color Mode Write Only

┌───────────────────────────────────────────────────────────┐
│             FEATURE CONTROL REGISTER                      │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      │  │  │  │  │  │  │  └─── Feature Control Bit 0      │
│      │  │  │  │  │  │  └────── Feature Control Bit 1      │
│      └──┴──┴──┴──┴──┴───────── Not Used                   │
└───────────────────────────────────────────────────────────┘

    FEATURE CONTROL BITS:
      D1  D0    Эти биты определяют состояние двух
                контрольных линий связи с соединителем
                признаков.
                Бит 0 = штырьковый вывод 21 на соединитель
                признаков (Pin EFC0)
                Бит 1 = штырьковый вывод 20 на соединитель
                признаков (Pin EFC1)

    НАИМЕНОВАНИЕ РЕГИСТРА: INPUT STATUS REGISTER ZERO
    АДРЕС ПОРТА:           3C2h or 3C3h Read Only

┌───────────────────────────────────────────────────────────┐
│             INPUT STATUS REGISTER ZERO                    │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      │  │  │  │  └──┴──┴──┴─── Not Used                   │
│      │  │  │  └─────────────── Switch Sense               │
│      │  └──┴────────────────── Feature code               │
│      └──────────────────────── CRT Interrupt              │
└───────────────────────────────────────────────────────────┘

    SWITCH SENSE:
      D4
      0         Указывает переключатель, определяемый битами
                выбора таймера ... завершен.(см.Appendix C
                переключатели чтения)
                            стр.34

    FEATURE CODE:
      D6  D5    Это два бита состояния из Feature Connector.
                Бит 5 = штырьковый вывод 19 из Feature
                Connector (Pin EFEAT0).
                Бит 6 = штырьковый вывод 17 из Feature
                Connector (Pin EFEAT1).

    CRT INTERRUPT:
      D7
      1         Указывает интервалы на видеодисплее.
      0         Указывает интервалы обратного хода по кадру
                (Vertical Retrace)

    НАИМЕНОВАНИЕ РЕГИСТРА: INPUT STATUS REGISTER ONE
    АДРЕС ПОРТА:           3BAh Monochrome Mode Read Only
                           3DAh Color Mode Read Only

┌───────────────────────────────────────────────────────────┐
│             INPUT STATUS REGISTER ONE                     │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      │  │  │  │  │  │  │  └──────── Display Enable        │
│      │  │  │  │  │  │  └─────────── Light Pen Strobe      │
│      │  │  │  │  │  └────────────── Light Pen Switch      │
│      │  │  │  │  └───────────────── Vertical Retrace      │
│      │  │  │  └──────────────────── Diagnostic 1          │
│      │  │  └─────────────────────── Diagnostic 2          │
│      └──┴────────────────────────── Not Used              │
└───────────────────────────────────────────────────────────┘

    DISPLAY ENABLE:
      D0
      1         Указывает на то,что дисплей отключен. Это
                происходит во время обратного хода по строке
                или кадру.
                Система Мulti Function Video Controller
                имеет арбитраж процессор/video RAM, поэтому
                обновление video RAM может быть произведено
                в любое время, не вызывая при этом
                разрушения отображаемого образа
                [изображения]

    LIGHT PEN STROBE:
      D1
      1         Указывает, что установлена схема-защелка
                светового пера.
      0         Указывает, что схема-защелка светового пера
                возвращена в исходное положение.
                            стр.35

    LIGHT PEN SWITCH:
      D2
      1         Указывает, что переключатель светого пера
                разомкнут.
      0         Указывает, что переключатель светового пера
                замкнут.

    VERTICAL RETRACE:
      D3
      1         Указывает на то, что СRT находится в
                промежутке обратного хода по кадру.
      0         Указывает, что CRT находится в промежутке
                дисплея.

    DIAGNOSTIC 1,0:
      D5  D4    Эти два бита идут от двух из шести color
                output атрибутного контроллера. Биты D5 и D4
                регистра Color Plane Enable атрибутного
                контроллера определяют, какой Сolor Output
                используется.

    Color Plane   Input Status
    Register      Register One
        D5  D4    D5       D4
        0   0     Red      Blue
        0   1     S.Red    S.Green
        1   0     S.Blue   Green
        1   1     Not Used Not Used
                            стр.36

    SEQUENCER:

    НАИМЕНОВАНИЕ РЕГИСТРА: EGA SEQUENCER INDEX
    АДРЕС ПОРТА:           3C4h Write Only

┌───────────────────────────────────────────────────────────┐
│             EGA SEQUENCER INDEX                           │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      │  │  │  │  │  └──┴──┴─── Sequencer Index            │
│      └──┴──┴──┴──┴──────────── Not Used                   │
└───────────────────────────────────────────────────────────┘

    SEQUENCER INDEX:
      D2  D1  D0  Двоичный адрес нужного регистра при 3C5h
      0   0   0   00h Reset Register
      0   0   1   01h Clocking Mode Register
      0   1   0   02h Map Mask Register
      0   1   1   03h Character Map Select Register
      1   0   0   04h Memory Mode Register
      1   X   X   Все другие комбинации не обеспечиваются
                            стр.37

    НАИМЕНОВАНИЕ РЕГИСТРА: EGA SEQUENCER DATA
    АДРЕС ПОРТА:           3C5h Write Only

    RESET:

┌───────────────────────────────────────────────────────────┐
│             INDEX = 00h RESET                             │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      │  │  │  │  │  │  │  └─── Asynchronous Reset         │
│      │  │  │  │  │  │  └────── Synchronous Reset          │
│      └──┴──┴──┴──┴──┴───────── Not Used                   │
└───────────────────────────────────────────────────────────┘

    ASYNCHRONOUS RESET:
      D0
      0         Программа упорядочения немедленно прекращает
                выполняться. Содержание памяти будет
                потеряно.
      1         Программа упорядочения будет выполняться до
                тех пор, пока D1 не установится в logic0.

    SYNCHRONOUS RESET:
      D1        Выполнение программы прекращается в конце
                цикла памяти. Чтобы программа выполнялась,
                нужно, чтобы D0 & D1 были равны 1.

    CLOCKING MODE:

┌───────────────────────────────────────────────────────────┐
│             INDEX = 01h CLOCKING MODE                     │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      │  │  │  │  │  │  │  └─── 8/9 Dot Clock              │
│      │  │  │  │  │  │  └────── Band-width                 │
│      │  │  │  │  │  └───────── shift Load                 │
│      │  │  │  │  └──────────── Dot Clock                  │
│      └──┴──┴──┴─────────────── Not Used                   │
└───────────────────────────────────────────────────────────┘

    Для защиты содержания памяти. Возвращает в исходное
положение программу упорядочения при Бит D1 регистра
RESET до модификации регистра CLOCKING MODE и вновь
запускает программу упорядочения в пределах времени
цикла восстановления DRAM.
                             стр.38

    8/9 DOT CLOCKS:
      D0
      0          Программа упорядочения генерирует 9точечный
                 текстовый такт[clock]
      1          Программа упорядочения генерирует 8точечный
                 текстовый clock.

    BAND-WIDTH:
      D1
      0          CRT

      1          CRT

    SHIFT LOAD
      D2
      0          Видео преобразователи в последовательную
                 форму снова загружают каждый текстовый
                 Clock.
      1          Видео преобразователи повторно загружают
                 каждый текстовый Clock. Они используются
                 для выборки слов (16бит).
    DOT CLOCK:
      D3
      0          Скорость точечного таймера такая же, как у
                 таймера преобразователя в последовательную
                 форму.
      1          Скорость точечного таймера в два раза ниже
                 скорости преобразователя в последовательную
                 форму. Текстовый таймер и сигналы сдвига
                 нагружения также замедляются в два раза по
                 сравнению с их нормальной скоростью.

    MAP MASK:

┌───────────────────────────────────────────────────────────┐
│             INDEX = 02h MAP MASK                          │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      │  │  │  │  │  │  │  └─── Enable Plane 0             │
│      │  │  │  │  │  │  └────── Enable Plane 1             │
│      │  │  │  │  │  └───────── Enable Plane 2             │
│      │  │  │  │  └──────────── Enable Plane 3             │
│      └──┴──┴──┴─────────────── Not Used                   │
└───────────────────────────────────────────────────────────┘
                            стр.39

    ENABLE PLANE:
      D3,D2,D1,D0 Каждый бит разрешает процессору записи в
                  соответствующую матрицу видеопамяти.
                  Одновременные записи производятся в том
                  случае, когда когда на высшем уровне
                  находится более одного бита(1). Матрицы
                  0-1 и 2-3 в режиме ODD/EVEN (выбранном
                  регистром Memory Mode D2) должны иметь
                  одно и то же значение маски карты.

┌────────────────────────────────────────────────────────────┐
│             INDEX = 03h CHARACTER MAP SELECT               │
├────────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                                │
│      │  │  │  │  │  │  │  │                                │
│      │  │  │  │  │  │  └──┴─ Character Map Select B        │
│      │  │  │  │  └──┴─────── Character MAP Select A        │
│      └──┴──┴──┴───────────── Not Used                      │
└────────────────────────────────────────────────────────────┘

    CHARACTER MAP SELECT B:
      D1  D0    Эти биты используются для генерации
                текстового символа, когда атрибутный бит
                символа D3 является logic 0 в соответствии
                со следующей таблицей.

    CHARACTER MAP SELECT A:
      D3  D2    Эти биты используются для генерации
                текстового символа, когда атрибутный бит D3
                является logic 1 в соответветсвии со
                следующей таблицей.

      D1/3 D0/2      Map
                   Selected  Map Location
       0    0         0      1st8k of Plane 2
       0    1         1      3rd8k of Plane 2
       1    0         2      5th8k of Plane 2
       1    1         3      7th8k of Plane 2

Бит D3 может иметь две функции. Нормально, если он
контролирует



                            стр.40

    MEMORY MODE:

┌───────────────────────────────────────────────────────────┐
│             INDEX = 04h MEMORY MODE                       │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      │  │  │  │  │  │  │  └─── Alpha                      │
│      │  │  │  │  │  │  └────── Extended Memory            │
│      │  │  │  │  │  └───────── Odd/Even                   │
│      └──┴──┴──┴──┴──────────── Not Used                   │
└───────────────────────────────────────────────────────────┘

    ALPHA:
      D0
      0





      1



    EXTENDED MEMORY:
      D1
      0


      1



    ODD/EVEN:
      D2
      0



      1

                            стр.41

      CRT CONTROLLER REGISTERS:

      CRTC CONTROLLER TIMING NOTES:




      НАИМЕНОВАНИЕ РЕГИСТРА: CRTC INDEX
      АДРЕС ПОРТА:           3B0h, 3B2h, 3B4h, or 3B6h
                             MONOCHROME MODE Write Only
                             3D0h, 3D2h, 3D4h or 3D6h COLOR
                             MODE Write Only

┌───────────────────────────────────────────────────────────┐
│             CRTC INDEX                                    │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      │  │  │  └──┴──┴──┴──┴─── CRTC Data Index            │
│      └──┴──┴────────────────── Special Function           │
└───────────────────────────────────────────────────────────┘

      CRTC DATA INDEX:
        D4-D0


 D4  D3  D2  D1  D0  ДОСТУП  HEX  R#  REG.NAME
 0   0   0   0   0     W     00h  R0  Horizontal Total
 0   0   0   0   1     W     01h  R1  Horizontal Display End
 0   0   0   1   0     W     02h  R2  Start Horizont. Blanking
 0   0   0   1   1     W     03h  R3  End Horizontal Blanking
 0   0   1   0   0     W     04h  R4  Start Horizontal Retrace
 0   0   1   0   1     W     05h  R5  End Horizontal Retrace
 0   0   1   1   0     W     06h  R6  Vertical Total
 0   0   1   1   1     W     07h  R7  CRTC Overflow
 0   1   0   0   0     W     08h  R8  Preset Row Scan
 0   1   0   0   1     W     09h  R9  Maximum Scan Line
 0   1   0   1   0     W     0Ah  RA  Cursor Start
 0   1   0   1   1     W     0Bh  RB  Cursor End
 0   1   1   0   0    R/W    0Ch  RC  Start Address High
 0   1   1   0   1    R/W    0Dh  RD  Start Address Low
 0   1   1   1   0    R/W    0Eh  RE  Cursor Location High

                            стр.42


 D4  D3  D2  D1  D0  ДОСТУП  HEX  R#  REG.NAME
 0   1   1   1   1    R/W    0Fh  RF  Cursor Location Low
 1   0   0   0   0     W     10h  R10 Vertical Retrace Start
 1   0   0   0   0     R     10h  R10 Light Pen High
 1   0   0   0   1     W     11h  R11 Vertical Retrace End
 1   0   0   0   1     R     11h  R11 Light Pen Low
 1   0   0   1   0     W     12h  R12 Vertical Display End
 1   0   0   1   1     W     13h  R13 Offset
 1   0   1   0   0     W     14h  R14 Underline Location
 1   0   1   0   1     W     15h  R15 Start Vertical Blanking
 1   0   1   1   0     W     16h  R16 End Vertical Blanking
 1   0   1   1   1     W     17h  R17 Mode Control
 1   1   0   0   0     W     18h  R18 Line Compare

    SPECIAL FUNCTION:
      D7,D6,D5  Эти три бита используются









    НАИМЕНОВАНИЕ РЕГИСТРА: СRTC DATA
    АДРЕС ПОРТА:           3B1h, 3B3h, 3B5h or 3B7h
                           MONOCHROME MODE
                           3D1h, 3D3h, 3D5h or 3D7h COLOR MODE
    HORIZONTAL TOTAL:      Write Only

┌───────────────────────────────────────────────────────────┐
│             INDEX = 00h HORIZONTAL TOTAL                  │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      └──┴──┴──┴──┴──┴──┴──┴─── Horizontal Total           │
└───────────────────────────────────────────────────────────┘

Горизонтальный период - Th=(R0+2)*Tc; Где R0 = содержимому
горизонтального итогового регистра, и Tc = периоду


    HORIZONTAL DISPLAY END: Write Only

┌───────────────────────────────────────────────────────────┐
│             INDEX = 01h HORIZONTAL DISPLAY END            │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      └──┴──┴──┴──┴──┴──┴──┴─── Horizontal Display End     │
└───────────────────────────────────────────────────────────┘

Горизонтальный период дисплея равен (R1+1)*Tc; при условии,
что R1 < R0.
                            стр.43

    START HORIZONTAL BLANKING: Write Only

┌───────────────────────────────────────────────────────────┐
│             INDEX = 02h START HORIZONTAL BLANKING         │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      └──┴──┴──┴──┴──┴──┴──┴─── START HORIZONTAL BLANKING  │
└───────────────────────────────────────────────────────────┘







    END HORIZONTAL BLANKING: Write Only

┌────────────────────────────────────────────────────────────┐
│             INDEX = 03h END HORIZONTAL BLANKING            │
├────────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                                │
│      │  │  │  │  │  │  │  │                                │
│      │  │  │  └──┴──┴──┴──┴─ End Blanking                  │
│      │  └──┴──────────────── Display Enable Skew Control   │
│      └────────────────────── Not Used                      │
└────────────────────────────────────────────────────────────┘
    END BLANKING:
        D4-D0





    DISPLAY ENABLE SKEW CONTROL:
      D6  D5

      0   0
      0   1
      1   0
      1   1
                            стр.44

    START HORIZONTAL RETRACE: Write Only

┌───────────────────────────────────────────────────────────┐
│             INDEX = 04h START HORIZONTAL RETRACE          │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      └──┴──┴──┴──┴──┴──┴──┴─── Start Horizontal Retrace   │
└───────────────────────────────────────────────────────────┘



    END HORIZONTAL RETRACE: Write Only

┌────────────────────────────────────────────────────────────┐
│             INDEX = 05h END HORIZONTAL RETRACE             │
├────────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                                │
│      │  │  │  │  │  │  │  │                                │
│      │  │  │  └──┴──┴──┴──┴─ End Horizontal Retrace        │
│      │  └──┴──────────────── Horizontal Retrace Delay      │
│      └────────────────────── Start Odd Mrmory Address      │
└────────────────────────────────────────────────────────────┘

    END HORIZONTAL RETRACE:
        D4-D0





    HORIZONTAL RETRACE DELAY:
      D6  D5

      0   0
      0   1

      1   0

      1   1

                            стр.45

    START ODD MEMORY ADDRESS:
      D7



    VERTICAL TOTAL: Write Only

┌───────────────────────────────────────────────────────────┐
│             INDEX = 06h VERTICAL TOTAL                    │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      └──┴──┴──┴──┴──┴──┴──┴─── Vertical Total             │
└───────────────────────────────────────────────────────────┘






    CRTC OVERFLOW: Write Only

┌───────────────────────────────────────────────────────────┐
│             INDEX = 07h CRTC OVERFLOW                     │
├───────────────────────────────────────────────────────────┤
│BIT  7  6  5  4  3  2  1  0                                │
│     │  │  │  │  │  │  │  │                                │
│     │  │  │  │  │  │  │  └─ Vertical Total, MSB           │
│     │  │  │  │  │  │  └──── Vertical Display Enable End,MSB
│     │  │  │  │  │  └─────── Vertical Retrace Start,MSB    │
│     │  │  │  │  └────────── Start Vertical Blancing,MSB   │
│     │  │  │  └───────────── Line Compare,MSB              │
│     └──┴──┴──────────────── Not Used
└───────────────────────────────────────────────────────────┘

    VERTICAL TOTAL MSB:
      D0     MSB регистра Vertical Total (Index=06h).

    VERTICAL DISPLAY ENABLE END MSB:
      D1     MSB регистра Vertical Display Enable End
             (Index = 12h).
                            стр.46

    VERTICAL RETRACE START MSB:
      D2   MSB регистра Vertical Retrace Start(Index=10h)

    START VERTICAL BLANKING MSB:
      D3   MSB регистра Start Vertical Blanking (Index=15h)

    LINE COMPARE MSB:
      D4   MSB регистра Line Compare (Index=18)

    PRESET ROW SCAN: Только запись

┌───────────────────────────────────────────────────────────┐
│             INDEX = 08h PRESET ROW SCAN                   │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      │  │  │  └──┴──┴──┴──┴─── Start Row Scan Count       │
│      └──┴──┴────────────────── Not Used                   │
└───────────────────────────────────────────────────────────┘

    START ROW SCAN COUNT:
     D4 - D0  Это значение регистра является первым значением
              строки, генерируемым CRTC в начале кадровой
              точки.

    MAXIMUM SCAN LINE : Только запись

┌───────────────────────────────────────────────────────────┐
│             INDEX = 09h MAXIMUM SCAN LINE                 │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      │  │  │  └──┴──┴──┴──┴─── Maximum Scan Line          │
│      └──┴──┴────────────────── Not Used                   │
└───────────────────────────────────────────────────────────┘

     D4 - D0   Когда счет строк равен содержимому регистра
               то счет строк будет равен 0,в начале следующей
               строки.

    CURSOR START : Только запись.

┌───────────────────────────────────────────────────────────┐
│             INDEX = 0Ah CURSOR START                      │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      │  │  │  └──┴──┴──┴──┴─── ROW Scan Cursor Begins     │
│      └──┴──┴────────────────── Not Used                   │
└───────────────────────────────────────────────────────────┘
                            стр.47

    ROW SCAN CURSOR BEGINS:
       D4-D0  Курсор появляется, когда счет строк равен
              содержимому регистра,а адрес дисплея указывается
              такой, который равен содержимому регистров OEh и
              OFh.

    CURSOR END: Только запись

┌────────────────────────────────────────────────────────────┐
│             INDEX = 0Bh CURSOR END                         │
├────────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                                │
│      │  │  │  │  │  │  │  │                                │
│      │  │  │  └──┴──┴──┴──┴─ Row Scan Cursor Ends          │
│      │  └──┴──────────────── Cursor Skew Control           │
│      └────────────────────── Not Used                      │
└────────────────────────────────────────────────────────────┘

    ROW SCAN CURSOR ENDS:
       D4-D0   Если счет строк будет равен или превышает
               содержимое этого регистра , то отображения
               курсора на дисплее не будет .

    CURSOR SKEW CONTROL:
      D6  D5    Значение, запрограммированное в этом регистре
                определяет перекос курсора, измеренный в
                character clocks.
      0    0    Задержки курсора нет.
      0    1    Курсор задерживается на один character clock.
      1    0    Курсор задерживается на два character clocs .
      1    1    Курсор задерживается на три character clocs.

    START ADDRESS HIGH: Чтение / Запись.

┌───────────────────────────────────────────────────────────┐
│             INDEX = 0Ch START ADDRESS HIGH                │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      └──┴──┴──┴──┴──┴──┴──┴─── High Order Start Address   │
└───────────────────────────────────────────────────────────┘

     Зто восемь высоких битов 16-ти битового регистра,
которые используются для определения начального адреса
экранного буфера дисплея.
                            стр.48

    START ADDRESS LOW: Чтение / Запись

┌───────────────────────────────────────────────────────────┐
│             INDEX = 0Dh START ADRESS LOW                  │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      └──┴──┴──┴──┴──┴──┴──┴─── Low Order Start Address    │
└───────────────────────────────────────────────────────────┘

    Это восемь младших битов 16-ти битового регистра ,
используемые для определения начального адреса экранного
буфера дисплея .

    CURSOR LOCATION HIGH: Чтение/ Запись.

┌───────────────────────────────────────────────────────────┐
│             INDEX = 0Eh CURSOR LOCATION HIGH              │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      └──┴──┴──┴──┴──┴──┴──┴─── High Order Cursor Location │
└───────────────────────────────────────────────────────────┘

    Это восемь старших битов 16-битового адресного регистра,
используемые для определения положения курсора в видеопамяти.

    CURSOR LOCATION LOW: Чтение/Запись.

┌───────────────────────────────────────────────────────────┐
│             INDEX = 0Fh CURSOR LOCATION LOW               │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      └──┴──┴──┴──┴──┴──┴──┴─── Low Order Cursor Location  │
└───────────────────────────────────────────────────────────┘

    Это восемь младших битов 16-битового адресного регистра,
используемые для определения положения курсора в видеопамяти.

    VERTICAL RETRACE START: Только запись.

┌───────────────────────────────────────────────────────────┐
│             INDEX = 10h VERTICAL RETRACE START            │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      └──┴──┴──┴──┴──┴──┴──┴─── Low Order Retrace Pulse    │
└───────────────────────────────────────────────────────────┘
                            стр.49

    Это 8 младших битов 9-ти битового регистра Start
Vertical Retrace. Бит 8 расположен в CRTC переполнении
Обратный сигнал по адресу повышается во время
((R7 AND 04h)* 64+R10)*Th после начала Vertical Display
Period. В этом выражении ((R7AND 04h)*64+R10) относится
к 9-ти битовому регистру Vertical Start Retrace.

    LIGHT PEN HIGH: Только чтение.

┌───────────────────────────────────────────────────────────┐
│             INDEX = 10h LIGHT PEN HIGH                    │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      └──┴──┴──┴──┴──┴──┴──┴─── HIGH ORDER ADDRESS COUNTER │
└───────────────────────────────────────────────────────────┘

    Это значение в этом регистре представляет собой 8
старших битов адреса видеопамяти, который отображался на
дисплее во время последнего стротирующего импульса светового
пера.

    VERTICAL RETRACE END: Только запись .

┌───────────────────────────────────────────────────────────┐
│             INDEX = 11h VERTICAL RETRACE END              │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      │  │  │  │  └──┴──┴──┴─── Vertical Retrace End       │
│      │  │  └──┴─────────────── Vertical Interrupt Control │
│      │  └───────────────────── G-2 Test Mode              │
│      └──────────────────────── Not Used                   │
└───────────────────────────────────────────────────────────┘

    VERTICAL RETRACE END:
      D3-D0    Обратный сигнал по кадру имеет старший разряд
               для точки, равной ((R11 AND OFh)-(R6 AND 0Fh)
               *Th. Так как эта функция пренебрегает верхними
               4битами каждого значения регистра, то обратный
               ход по кадру имеет максимальную ширину 15 clock
               periods .

    VERTICAL INTERRUPT CONTROL:
      D5   D4
      X     0    Очищают и блокируют прерывания по кадру .
      0     1    Прерывания по кадру разрешены.
      1     1    Операции не производятся.

    G-2 TEST MODE:
          D6
          1      CRTC помещается в специальный test mode.
                 Только для испытания внутреннего устройства.
                            стр.50

    LIGHT PEN LOW: Только чтение.

┌───────────────────────────────────────────────────────────┐
│             INDEX = 11h LIGHT PEN LOW                     │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      └──┴──┴──┴──┴──┴──┴──┴─── Low Order Address Counter  │
└───────────────────────────────────────────────────────────┘

    Это значение в регистре является младшими 8 битами в
адресе видео видеопамяти, которое отображается во время
последнего стробирующего импульса светового пера.

    VERTICAL DISPLAY END: Только запись.

┌───────────────────────────────────────────────────────────┐
│             INDEX = 12h VERTICAL DISPLAY END              │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      └──┴──┴──┴──┴──┴──┴──┴─── Low Order Vertical Display │
│                                Enable End                 │
└───────────────────────────────────────────────────────────┘

    Это младшие 8 битов 9-ти битового регистра , который
контролирует конец разрешения отображения по кадру,
бит 8 расположен в CRTC регистре переполнения.Точка
вертикального отображения равна (R7 AND 02h)*128+R12+1)*Th
В этом выражении ((R7 AND 02h)*128+R12+1) относится
к 9-ти битовому значению, которое должно быть меньше
содержимого Vertical Total Register.

    OFFSET: Только запись.

┌───────────────────────────────────────────────────────────┐
│             INDEX = 13h OFFSET                            │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      └──┴──┴──┴──┴──┴──┴──┴─── Logical Line Width         │
└───────────────────────────────────────────────────────────┘

    Этот регистр содержит значение , используемое для
смещения счетчика адресов памяти к началу следующей
отображаемой текстовой строки. Это значение представляет
собой слова или двойные слова , в зависимости от CRTC
clocking mode, в одной текстовой строке.
                            стр.51

    UNDERLINE LOCATION : Только запись.

┌───────────────────────────────────────────────────────────┐
│             INDEX = 14h UNDERLINE LOCATION                │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      │  │  │  └──┴──┴──┴──┴─── Underline Location         │
│      └──┴──┴────────────────── Not Used                   │
└───────────────────────────────────────────────────────────┘

    START VERTICAL BLANKING: Только запись.

┌───────────────────────────────────────────────────────────┐
│             INDEX = 15h START VERTICAL BLANKING           │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      └──┴──┴──┴──┴──┴──┴──┴─── Start Vertical Blanking    │
└───────────────────────────────────────────────────────────┘

    Это младшие 8 битов из 9-ти битового регистра Start
Vertical Blancing. Бит 8 расположен в регистре переполнения
CRTC. Вертикальный компонент гасящего сигнала повышается
во время ((R7 AND 08h)*32+R15)*Th после начала вертикального
отображения точки . В этом выражении ((R7 AND 08h)*32+R15)
относится к 9-ти битовому регистру Start Vertical Blancing и
должно быть меньше содержимого  Vertical Total Register.

    END VERTICAL BLANKING : Только запись.

┌───────────────────────────────────────────────────────────┐
│             INDEX = 16h END VERTICAL BLANKING             │
├───────────────────────────────────────────────────────────┤
│ BIT  7  6  5  4  3  2  1  0                               │
│      │  │  │  │  │  │  │  │                               │
│      │  │  │  └──┴──┴──┴──┴─── End Vertical Blanking      │
│      └──┴──┴────────────────── Not Used                   │
└───────────────────────────────────────────────────────────┘

    END VERTICAL BLANKING :
       D4 - D0  Вертикальный компонент гасящего сигнала имеет
                ширину, равную ((R16 AND 01Fh)-(R15 AND
                01Fh)*Th
                Так как эта функция пренебрегает верхними
                тремя битами каждого значения регистра, то
                вертикальный сигнал гашения имеет максимальную
                ширину в 15 clock periods.
                            стр.52

    MODE CONTROL: Только запись

┌───────────────────────────────────────────────────────────┐
│             INDEX = 17h MODE CONTROL                      │
├───────────────────────────────────────────────────────────┤
│BIT  7  6  5  4  3  2  1  0                                │
│     │  │  │  │  │  │  │  │                                │
│     │  │  │  │  │  │  │  └─ Compatibility Mode Support    │
│     │  │  │  │  │  │  └──── Select Row Scan Counter       │
│     │  │  │  │  │  └─────── Horizontal Retrace Select     │
│     │  │  │  │  └────────── Count By Two                  │
│     │  │  │  └───────────── Not Used                      │
│     │  │  └──────────────── Address Wrap                  │
│     │  └─────────────────── Word/Byte Mode                │
│     └────────────────────── Hardware Reset                │
└───────────────────────────────────────────────────────────┘

    На RESET сигнал оказывает влияние только Mode Control
и 400-линейный регистр. Этот Mode Control регистр очищает
после того как произойдет сброс.

    COMPATIBILITY MODE SUPPORT:
      D0   Этот режим используется для обеспечения
           совместимости с IBM color графическим адаптером.
      0    Бит адреса сканирования строки 0 используется
           как бит адреса памяти 13 во время чтения CRTC
           из памяти дисплея.
      1    Бит 13 счетчика адресов памяти используется
           как бит 13 адреса памяти во время чтения CRTC
           из памяти дисплея.

    SELECT ROW SCAN COUNTER:
      D1   Этот бит используется для выбора внутреннего
           сигнала, используемого для бита 14 адреса памяти.
      0    Счетчик сканирования строки бит 1 используется
           как бит 14 адреса памяти во время чтения CRTC
           из памяти дисплея.
      1    Бит 14 адреса памяти используется как бит 14
           адреса памяти во время чтения CRTC из памяти
           дисплея.

    HORIZONTAL RETRACE SELECT:
      D2   Этот бит выбирает clock , используемый в счетчике
           синхронизации по кадрам. Это 9-ти битовый счетчик,
           контролирующий общее число горизонтальных линий
           сканирования в кадровом цикле.
      0    Счетчик кадровой синхронизации синхронизируется
           каждым горизонтальным обратным ходом . Максимальное
           число горизонтальных строк развертки 512.
      1    Счетчик кадровой синхронизации синхронизируется
           каждым вторым горизонтальным обратным ходом.
           Максимальное число горизонтальных строк раз-
           вертки 1024.
                       стр.53

    COUNT BY TWO:
      D3   Этот бит выбирает clock , используемый в счетчике
           адресов памяти. Этот бит выбирает байт или адрес
           регенерации слова для буфера дисплея.
      0    Счетчик адресов памяти синхронизируется character
           clock.
      1    Счетчик адресов памяти синхронизируется каждым
           вторым clock.

    ADDRESS WRAP:
      D5   Этот бит используется для выбора внутреннего
           сигнала используемого для бита адреса памяти 0.
           На этот бит также оказывает влияние бит Word Byte
           Mode.
      0    В Word mode, бит счетчика адресов памяти 13
           выбирается для бита адреса памяти 0. В byte mode ,
           бит счетчика адресов памяти 0 выбирается для бита
           адреса памяти 0.
      1    В Word  mode, бит счетчика адресов памяти 15
           выбирается для бита адреса памяти 0. В byte mode,
           бит счетчика адресов памяти 0 выбирается для бита
           адреса памяти 0.

    WORD/BYTE MODE:
      D6
      0    Выбирается Byte mode. Биты счетчика адресов памяти
           смещаются влево перед обращением в видеопамять. Бит
           адреса 0 замещается битом 15 или битом 13 счетчика
           адресов памяти в соответствии с выбором бита
           Address Wrap.
      1    Выбирается Byte mode. Биты счетчика адресов памяти
           обращаются непосредственно в видеопамяти,
           Смотри след. таблицу.

    ADDRESSING TABLE:

                        ┌────────────────────────────────────┐
                        │Бит счетчика адресов памяти обраща- │
                        │ется в видеопамять во время доступа │
                        │CRT                                 │
┌───────────────────────┼────────────────────────────────────┤
│Бит адреса видеопамяти │    Byte Mode        Word Mode      │
├───────────────────────┼────────────────────────────────────┤
│         A0            │       MA0         MA15 or MA13     │
│         A1            │       MA1             MA0          │
│         A2            │       MA2             MA1          │
│          .            │        .               .           │
│          .            │        .               .           │
│          .            │        .               .           │
│         A15           │       MA15            MA14         │
└───────────────────────┴────────────────────────────────────┘
                       стр.54

    HARDWARE RESET:
      D7
      0    Очищает горизонтальный и вертикальный обратный ход
      1    Разрешает горизонтальный и вертикальный обратный
           ход.

    LINE COMPARE: Только запись.

┌────────────────────────────────────────────────────────────┐
│   INDEX = 18h LINE COMPARE                                 │
├────────────────────────────────────────────────────────────┤
│   BIT  7 6 5 4 3 2 1 0                                     │
│        │ │ │ │ │ │ │ │                                     │
│        └─┴─┴─┴─┴─┴─┴─┴─────   Line Compare Value           │
└────────────────────────────────────────────────────────────┘

Это 8 младших битов 9-ти битового регистра Line Compare.
Бит 8 находится в регистре переполнения CRTC. Адрес памяти
дисплея установится в положение 0 в начале следующих двух
строк после того, как число отображенных на дисплее строк
станет равным содержимому этого регистра.

    400 LINE REGISTER: Только запись.

┌────────────────────────────────────────────────────────────┐
│   INDEX = F9h 400 LINE REGISTER                            │
├────────────────────────────────────────────────────────────┤
│   BIT  7 6 5 4 3 2 1 0                                     │
│        │ │ │ │ │ │ │ │                                     │
│        │ │ │ │ │ │ │ └─────   Row Divide                   │
│        │ │ │ │ │ │ └───────   Vertical Divide              │
│        │ └─┴─┴─┴─┴─────────   Not Used                     │
│        └───────────────────   Auto Reset Enable            │
└────────────────────────────────────────────────────────────┘

    ROW DIVIDE:
      D0    Этот бит обретает значение 0 путем сброса.
      0     CRTC работает нормально.
      1     Эта секция счетчика строк  CRTC приращения в
            половину нормальной скорости. Вместо счета 0,1,2,...
            будет счет 0,0,1,1,2,2 для каждой строки.

    VERTICAL DIVIDE:
      D1    Этот бит приводится к 0 операцией сброса.
      0     CRTC работает нормально.
      1     Секция счетчика кадров CRTC (Vertical total,
            Vertical Displayed,Blanking,Retrace...и т.д.)
            синхронизируется в половину нормальной скорости.
            Это эффективно удваивает степень разрешения по
            кадрам EGACTRC. Установив этот бит в положение 1
            можно добиться такого же эффекта, как и при
            установлении D2 регистра mode control в положение
            1.
                       стр.55

    AUTO RESET ENABLE:
      D7
      1    Когда этот бит 1 и запись производится в R0,R1,R6
           или R12, цикл возврата, который является внутренним
           для CRTC и длится в течение цикла в 64 символа.
           После того, как внешним генератором произведен
           возврат, этот бит устанавливается в положение 1.
           При этом бите любая запись в один из регистров
           CRTC, упомянутых выше, не оказывает влияния.
      0    Записи в CRTC htubcnhs R0,R1,R6 или R12 не
           генерируют внутреннего цикла возврата.
                       стр.56

    LIGHT PEN:

    НАИМЕНОВАНИЕ РЕГИСТРА: LIGHT PEN SET REGISTER
    АДРЕС ПОРТА:           3DCh только запись

Запись в этот порт очищает фиксатор светового пера.
Данные процессора игнорируются.

    НАИМЕНОВАНИЕ РЕГИСТРА: LIGHT PEN SET REGISTER
    АДРЕС ПОРТА:           3DCh только запись

Запись в этот порт устанавливает фиксатор светового
пера. Данные процессора игнорируются.
                       стр.57

    GRAPHIC CONTROLLER REGISTERS:

    НАИМЕНОВАНИЕ РЕГИСТРА: GRAPHICS A POSITION REGISTER
    АДРЕС ПОРТА:           3CCh только запись

┌────────────────────────────────────────────────────────────┐
│   GRAPHICS A POSITION REGISTER                             │
├────────────────────────────────────────────────────────────┤
│   BIT  7 6 5 4 3 2 1 0                                     │
│        │ │ │ │ │ │ │ │                                     │
│        │ │ │ │ │ │ │ └─────   Position 0                   │
│        │ │ │ │ │ │ └───────   Position 1                   │
│        └─┴─┴─┴─┴─┴─────────   Not Used                     │
└────────────────────────────────────────────────────────────┘

    POSITION:
     D1-D0   Эти два бита контролируют отображение канала
             данных CPU в регистре Graphics Controller.
             Смотри диаграмму и таблицу, которые следуют
             после описания регистра Craphics B Position ,
             как они взаимодействуют.
             Для нормального использования в IBM этот регистр
             должен быть запрограммирован со значением 0h.

    НАИМЕНОВАНИЕ РЕГИСТРА:  GRAPHICS B POSITION REGISTER
    АДРЕС ПОРТА:            3CAh только запись.

┌────────────────────────────────────────────────────────────┐
│   GRAPHICS B POSITION REGISTER                             │
├────────────────────────────────────────────────────────────┤
│   BIT  7 6 5 4 3 2 1 0                                     │
│        │ │ │ │ │ │ │ │                                     │
│        │ │ │ │ │ │ │ └─────   Position 0                   │
│        │ │ │ │ │ │ └───────   Position 1                   │
│        └─┴─┴─┴─┴─┴─────────   Not Used                     │
└────────────────────────────────────────────────────────────┘

    POSITION:
     D1-D0   Эти два бита контролируют отображение в виде
             карты канала данных CPU в регистры контролеры
             Graphics controller. Смотри диаграмму и таблицу,
             помещенные ниже, где указано, как они
             взаимодействуют.
             Для нормального использования в IBM этот регистр
             должен быть запрограммирован со значением 1h.
                       стр.58

    GRAPHICS POSITION REGISTER A & B INTERACTION:

    BLOCK DIAGRAM:

                                    VRAM
          CPU Data Bus
                                  Data Bus
┌───────┐              ┌───────┐             ┌────────────┐
│       │              │       ├─────────────┤VRAM Plane 0│
│       │              │       │             └────────────┘
│       │      ┌───────┤ GP A  │             ┌────────────┐
│       │      │       │       ├─────────────┤VRAM Plane 1│
│       │      │       └───────┘             └────────────┘
│  CPU  ├──────┤       ┌───────┐             ┌────────────┐
│       │      │       │       ├─────────────┤VRAM Plane 2│
│       │      │       │       │             └────────────┘
│       │      └───────┤ GP B  │             ┌────────────┐
│       │              │       ├─────────────┤VRAM Plane 3│
└───────┘              └───────┘             └────────────┘

    MAPPING TABLE:

       ┌─────────┬─────────────────┐
       │ GP Bits │  CPU Data Bus   │
       │ D1   D0 │ 7 6 5 4 3 2 1 0 │
┌──────┼─────────┼─────────────────┤
│ GP A │  0   0  │ X X X X X X 1 0 │   0 = Video Plane 0
│ GP B │  0   0  │ X X X X X X 3 2 │   1 = Video Plane 1
│ GP A │  0   1  │ X X X X 1 0 X X │   2 = Video Plane 2
│ GP B │  0   1  │ X X X X 3 2 X X │   3 = Video Plane 3
│ GP A │  1   0  │ X X 1 0 X X X X │
│ GP B │  1   0  │ X X 3 2 X X X X │
│ GP A │  1   1  │ 1 0 X X X X X X │
│ GP B │  1   1  │ 3 2 X X X X X X │
└──────┴─────────┴─────────────────┘

Приведенные выше таблицы показывают, каким образом регистры
Graphics A и B (GPA,GPB) Position можно использовать для
повторного отображения положений активных битов из регистров
Set/Reset, Enable Set/Reset, Color Compare, и Color Don't
Care. В стандартной конфигурации они представляют собой:
GPA=0h, GPB=1H. Оказывают влияние также и на функции
регистров Read Map Select и Mode (см. описания после
определений регистров).
                       стр.59

    НАИМЕНОВАНИЕ РЕГИСТРА:  GRAPHICS 1 AND 2 ADDRESS
    АДРЕС ПОРТА:            3CEh только запись

┌────────────────────────────────────────────────────────────┐
│   GRAPHICS 1 AND 2 ADDRESS                                 │
├────────────────────────────────────────────────────────────┤
│   BIT  7 6 5 4 3 2 1 0                                     │
│        │ │ │ │ │ │ │ │                                     │
│        │ │ │ │ └─┴─┴─┴─────   Graphics Address             │
│        └─┴─┴─┴─────────────   Not Used                     │
└────────────────────────────────────────────────────────────┘

    GRAPHICS ADDRESS:
     D3  D2  D1  D0    Hex    Register Name
     0   0   0   0     00    Set/Reset
     0   0   0   1     01    Enable Set/Reset
     0   0   1   0     02    Color Compare
     0   0   1   1     03    Data Rotate
     0   1   0   0     04    Read Msp Select
     0   1   0   1     05    Mode
     0   1   1   0     06    Miscellaneous
     0   1   1   1     07    Color Don't Care
     1   0   0   0     08    Bit Mask

    НАИМЕНОВАНИЕ РЕГИСТРА:  GRAPHICS CONTROLLER DATA
    АДРЕС ПОРТА:            3CFh только запись

    SET/RESET:

┌────────────────────────────────────────────────────────────┐
│   INDEX = 00h SET/RESET                                    │
├────────────────────────────────────────────────────────────┤
│   BIT  7 6 5 4 3 2 1 0                                     │
│        │ │ │ │ │ │ │ │                                     │
│        └─┴─┴─┴─┴─┴─┴─┴─────   Refer to Mapping Table       │
└────────────────────────────────────────────────────────────┘

Активные положения битов в этом регистре приведены в разделах
Mapping Table в начале этого раздела. Этот регистр разрешает
или Возврат значений байта в четырех видеоплоскостях
соответствующих битам в этом регистре : 1=Set байт, 0=Reset
байт. Этот регистр является активным, когда Graphics
Controller находится в положении Mode 0, а Enable Set/Reset
активируется. Этот регистр эффективен только при записи в
видеопамяти.
                       стр.60

    ENABLE SET/RESET:

┌────────────────────────────────────────────────────────────┐
│   INDEX = 01h ENABLE SET/RESET                             │
├────────────────────────────────────────────────────────────┤
│   BIT  7 6 5 4 3 2 1 0                                     │
│        │ │ │ │ │ │ │ │                                     │
│        └─┴─┴─┴─┴─┴─┴─┴─────   Refer to Mapping Table       │
└────────────────────────────────────────────────────────────┘

Активные положения бита в этом регистре приведены в Mapping
Table в начале этого раздела. Этот регистр контролирует
активацию Set/Reset регистра. Программирование любого бита с
logie 1 разрешает соответствующий бит в регистре Set/Reset .
Logie 0 запрещает соответствующий бит Set/Reset, позволяя
записать данные процессора без изменений.

    COLOR COMPARE:

┌────────────────────────────────────────────────────────────┐
│   INDEX = 02h COLOR COMPARE                                │
├────────────────────────────────────────────────────────────┤
│   BIT  7 6 5 4 3 2 1 0                                     │
│        │ │ │ │ │ │ │ │                                     │
│        └─┴─┴─┴─┴─┴─┴─┴─────   Refer to Mapping Table       │
└────────────────────────────────────────────────────────────┘

Активные положения бита в этом регистре приведены в Mapping
Table в начале этого раздела. Этот регистр определяет
эталонный цвет для Read Mode1(см. Mode Register). В этом
режиме, когда процессор считывает с памяти дисплея, байт
возврата данных будет в положении 1 в каждом положении бита,
где данные в 4 плоскостях памяти согласуются со значением в
регистре Color Compare (см. таблицу ниже). Тестироваться
будут только плоскости, разрешенные регистром Color Don't
Care.

                       Color Compare         ┌───────────────┐
                         Register     ┌──────┤VRAM Plane 0   │
                                      │      │1 1 0 1 1 0 1 0│
                       ┌───────┐      │      └───────────────┘
      C.P.U.           │  Bit  ├──────┘      ┌───────────────┐
┌───────────────┐      │       ├─────────────┤VRAM Plane 1   │
│               │      │ 0 = 1 │             │1 1 0 0 1 1 0 1│
│0 1 0 0 1 0 0 0├──────┤ 1 = 1 │             └───────────────┘
│               │      │ 2 = 0 │             ┌───────────────┐
└───────────────┘      │ 3 = 1 ├─────────────┤VRAM Plane 2   │
                       │ 4 = X │             │1 0 1 1 0 1 1 0│
Диаграмма показывает   │ 5 = X │             └───────────────┘
сравнение с GP A = 0,  │ 6 = X │             ┌───────────────┐
GP B = 1               │ 7 = X ├─────────────┤VRAM Plane 3   │
                       │ 8 = X │             │1 1 1 1 1 0 1 1│
                       └───────┘             └───────────────┘
                       стр.61

    DATA ROTATE:

┌────────────────────────────────────────────────────────────┐
│   INDEX = 03h DATA ROTATE                                  │
├────────────────────────────────────────────────────────────┤
│   BIT  7 6 5 4 3 2 1 0                                     │
│        │ │ │ │ │ │ │ │                                     │
│        │ │ │ │ │ └─┴─┴─────   Rotate Count                 │
│        │ │ │ └─┴───────────   Function Select              │
│        └─┴─┴───────────────   Not Used                     │
└────────────────────────────────────────────────────────────┘

    ROTATE COUNT:
     D2-D0    Загруженное 3 битовое двоичное значение
              определяет число положений бита для вращения
              данных процессора при записи в видеопамять
              нужно загрузить эти 3 бита как двоичное 0. Эта
              функция является Rotate Logie Right (см.
              таблицу ниже).

                     ROTATE COUNT
                   7 6 5 4 3 2 1 0
                  ┌─┬─┬─┬─┬─┬─┬─┬─┐
                  │X│X│X│X│X│1│0│1│   Count = 5h
                  └─┴─┴─┴─┴─┴─┴─┴─┘

         CPU BUS                            VIDEO MEMORY
     7 6 5 4 3 2 1 0                       7 6 5 4 3 2 1 0
    ┌─┬─┬─┬─┬─┬─┬─┬─┐                     ┌─┬─┬─┬─┬─┬─┬─┬─┐
┌───┤0│1│0│0│1│1│0│1├───┐    ───────────> │0│1│1│0│1│0│1│0│
│   └─┴─┴─┴─┴─┴─┴─┴─┘   │                 └─┴─┴─┴─┴─┴─┴─┴─┘
└───────────<───────────┘

    FUNCTION SELECT:
      D4  D3  Эти два бита используются для выбора логических
              функций аппаратных, которые можно предварительно
              форматировать между фиксатором данных памяти и
              любыми данными, выбранными регистром Write Mode.
      D4  D3
      0   0   Данные без изменений.
      0   1   Logical AND c фиксированными данными
      1   0   Logical OR с фиксированными данными
      1   1   Logical XOR с фиксированными данными.
                       стр.62
    READ MAP SELECT:

┌────────────────────────────────────────────────────────────┐
│   INDEX = 04h READ MAP SELECT                              │
├────────────────────────────────────────────────────────────┤
│   BIT  7 6 5 4 3 2 1 0                                     │
│        │ │ │ │ │ │ │ │                                     │
│        │ │ │ │ │ └─┴─┴─────   Map Select                   │
│        └─┴─┴─┴─┴───────────   Not Used                     │
└────────────────────────────────────────────────────────────┘

    MAP SELECT:
     D2-D0   Этот регистр используется для выбора Video Memory
             Plane, который будет считываться процессором.
             Этот регистр выбирает плоскости от 0 до 7, как
             запрограммированно в двоичном исчислении для
             операции чтения. Фактические положения плоскостей
             памяти контролируются Graphicr Position A u B.
             (GP A, GP B).

    MODE:

┌────────────────────────────────────────────────────────────┐
│   INDEX = 05h MODE                                         │
├────────────────────────────────────────────────────────────┤
│   BIT  7 6 5 4 3 2 1 0                                     │
│        │ │ │ │ │ │ │ │                                     │
│        │ │ │ │ │ │ └─┴─────   Write Mode                   │
│        │ │ │ │ │ └─────────   Not Used                     │
│        │ │ │ │ └───────────   Read Mode                    │
│        │ │ │ └─────────────   Odd/Even                     │
│        │ │ └───────────────   Shift Register Mode          │
│        └─┴─────────────────   Not Used                     │
└────────────────────────────────────────────────────────────┘

    WRITE MODE:
     D1  D0  Эти два бита выбирают режим записи. Имеются три
             ценных режима записи, которые контролируют
             переход данных процессора в Video Planer.
     0   0   Write Mode 0: Data Rotate,Logical  Function u
             Set/Reset срабатывают в этом режиме.
     0   1   Write Mode 1: Активные Video Memory Plane(s)
             записываются с содержимым фиксаторов данных 32-
             битового процессора,эти фиксаторы загружаются
             предыдущим считыванием процессора из видеопамяти.
                       стр.63

     1   0   Write Mode 2:  В этом режиме положение бита,
             соответствующего адресу Video Plane
             (контролируемого GPA и GPB), используется как
             значение 8 бит записи в видеоплотность,
             например, Write Mode 2; Данные процессора -
             это ``10101100``. Видеоплотность 3 будет
             записываться с 8 битами(один байт) с таким же
             значением, как бит 3 данных процессора.

     D1    D0
     1     1    Обычно эта комбинация не используется. Это то
                же самое, что Write Mode 1.

    READ MODE:
         D3
         0    Этот процессор считывает данные из активной
               Video Memory Plane.

         1    Разрешает Color Compare Register (подробности
              см. в Color Compare).

    ODD/EDEN:
         D4
         0    Регистр выбора Read Plane контролирует, из
              какой плоскости процессор считывает данные.

         1    Бит AO адреса процессора замещает бит 0
              регистра Read Plane Select (см.Read Plane
              Select). Поэтому A 0 определяет, с какой
              плоскости будут считываться данные, с четной
              или нечетной.

    SHIFT REGISTER MODE:
         D5   Этот регистр контролирует, каким образом
              данные из Video Memory Planes смещаются в
              секцию палитры атрибутного контроллера в
              Graphics Mode. После каждого CRT считывания из
              видеопамяти в палитру может быть смещено до 16
              бит. Нижеследующая таблица показывает порядок
              смещения видеоданных (P1 = Memory Plane 1 и
              т.д.)
                       стр. 64

D5 = 0:

     ┌──────────┬──────────┐
     │   P1     │   P0     │             COLOR Palette
     ├──────────┼──────────┤
     │ 01234567 │ 01234567 ├─────┐      ┌────────────┐
     └──────────┴──────────┘     │      │            │
                                 │      │            │
                ┌──────────┐     │      │            │
                │   P1     │     └──────┤ A0         │
     ┌──────────┼──────────┤            │            │
     │ 00000000 │ 01234567 ├─────┐      │            │
     └──────────┴──────────┘     └──────┤ A1         │
                                        │            │
                                        │            │
     ┌──────────┬──────────┐     ┌──────┤ A2         │
     │   P3     │   P2     │     │      │            │
     ├──────────┼──────────┤     │      │            │
     │ 01234567 │ 01234567 ├─────┘      │            │
     └──────────┴──────────┘     ┌──────┤ A3         │
                                 │      │            │
                ┌──────────┐     │      │            │
                │   P3     │     │      └────────────┘
     ┌──────────┼──────────┤     │
     │ 00000000 │ 01234567 ├─────┘
     └──────────┴──────────┘

D5 = 1:

     ┌──────────┬──────────┐
     │ P1   P0  │ P1   P0  │             COLOR Palette
     ├────┼─────┼────┼─────┤
     │1357│ 1357│0246│0246 ├─────┐      ┌────────────┐
     └────┴─────┴────┴─────┘     │      │            │
                                 │      │            │
                ┌──────────┐     └──────┤ A0         │
                │ P1   P0  │            │            │
     ┌────┬─────┼────┼─────┤            │            │
     │0000│ 0000│1357│1357 ├────────────┤ A1         │
     └────┴─────┴────┴─────┘            │            │
                                        │            │
     ┌──────────┬──────────┐            │            │
     │ P3   P2  │ P3   P2  │     ┌──────┤ A2         │
     ├────┼─────┼────┼─────┤     │      │            │
     │1357│ 1357│0246│0246 ├─────┘      │            │
     └────┴─────┴────┴─────┘            │            │
                                 ┌──────┤ A3         │
                ┌────┬─────┐     │      │            │
                │ P3 │ P2  │     │      │            │
     ┌────┬─────┼────┼─────┤     │      └────────────┘
     │0000│ 0000│1357│1357 ├─────┘
     └────┴─────┴────┴─────┘
                         стр.65

    MISCELLANEOUS:

┌──────────────────────────────────────────────────────┐
│   INDEX = 06h Miscellaneous                          │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ │ │ │ │ └──── Graphics Mode             │
│        │ │ │ │ │ │ └────── Chain Odd Maps to Even    │
│        │ │ │ │ └─┴──────── Memory Map                │
│        └─┴─┴─┴──────────── Not Used                  │
│                                                      │
└──────────────────────────────────────────────────────┘

    GRAPHICS MODE:
        D0
        0      Разрешает Alpha Mode. Активирунтся система
               обращения генератора символов.
        1      Разрешает Graphics Mode. Система обращения к
               символам не используется.

    CHAIN ODD MAPS TO EVEN:
        D1
        0      A0 шина адреса памяти используется во время
               обращения к памяти процессора.
        1      A0 замещается А16 шины адреса процессора (если
               биты D3 и D2 являются 0 ), или битом Page (D5)
               из регистра Miscellaneous Output (3C2/3C3h).

    MEMORY MAP:
     D3  D2      Это наборы битов, когда Video Memory
                 отображается в таблицах в объеме адреса CPU.
                 Действует только в EGA Mode.

     0   0       A0000 -- BFFFFh
     0   1       A0000 -- AFFFFh
     1   0       B0000 -- B7FFFh
     1   1       B8000 -- BFFFFh
                       стр. 66
    COLOR DON`T CARE:

┌────────────────────────────────────────────────────────┐
│   INDEX = 07h Color Don't Care                         │
├────────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                                 │
│        │ │ │ │ │ │ │ │       Refer to Mapping Table    │
│                                                        │
└────────────────────────────────────────────────────────┘

Активное наложение битов в этом регистре описаны в Mapping
Table в начале этого раздела. Этот регистр взаимодействует
только с Read Mode 1.

Только А позволяет включить соответствующую Video Memory
Plane в color compare (как изображено в таблицах GPA и GPB).

    BIT MASK:

┌────────────────────────────────────────────────────────┐
│   INDEX = 08h Bit Mask                                 │
├────────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                                 │
│        │ │ │ │ │ │ │ │                                 │
│        └─┴─┴─┴─┴─┴─┴─┴──────   Bit Mask                │
└────────────────────────────────────────────────────────┘

    BIT MASK:
         0      Это позволяет записать соответствующий бит в
                каждой плоскости памяти вместе с данными из
                фиксаторов процессора. Фиксаторы процессора
                загружаются Video memory чтения процессора.
         1      Это позволяет соответствующий бит в плоскостях
                видеопамяти изменить выбранным режимом записи
                и данными CPU.
                        стр. 67

    ATTRIBUTES CONTROLLER:

    ATTRIBUTE ADDRESS AND DATA:
Регистры Attribute Address и Data являются регистрами
только записи, которая занимает одни и те же адреса порта 1 0
(3C0h). Чтобы сначала выбрать регистр Attribute Address
процессор должен считывать из адреса 1 0  3BAh или 3DAh.
Это приводит в адресное состояние flip-flop выбора
address/data. Запись в порты 3C0h с нужным атрибутным адресом
позволяет выбрать этот регистр для последующей записи данных
и переключает тригер выбора адреса/данных. Дополнительная
запись переключает между адресом и данными в этом адресе
порта.

    ATTRIBUTE ADDRESS:
    First Write to 3C0h

┌──────────────────────────────────────────────────────┐
│   ATTRIBUTE ADDRESS                                  │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ └─┴─┴─┴─┴──── Attribute Address         │
│        │ │ └────────────── Palette Address Source    │
│        └─┴──────────────── Not Used                  │
│                                                      │
└──────────────────────────────────────────────────────┘

    INDEX:
     D4  D3  D2  D1  D0
     0   X   X   X   X        00h - 0Fh Palette Registers
     1   0   0   0   0        10h Mode Control
     1   0   0   0   1        11h Over-scan Color
     1   0   0   1   0        12h Color Plane Enable
     1   0   0   1   1        13h Horizontal Picture Element
                                                  Panning

    PALETE ADDRESS SOURCE:
      D5
      0      Разрешена загрузка Palette регистров. Биты
             D3-D0 атрибутного регистра адресов применяются
             к входам color palette address.

      1      Видеоданные применяются к входам адреса
             патитры цветов.
                   стр. 68

    PALETTE:

┌──────────────────────────────────────────────────────┐
│   INDEX = 00h-0Fh Palette Registers                  │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ │ │ │ │ └──── Blue                      │
│        │ │ │ │ │ │ └────── Green                     │
│        │ │ │ │ │ └──────── Red                       │
│        │ │ │ │ └────────── Secondary Blue/Mono Video │
│        │ │ │ └──────────── Secondary Green/Intensity │
│        │ │ └────────────── Secondary Red             │
│        └─┴──────────────── Not Used                  │
└──────────────────────────────────────────────────────┘

    Это регистры 16 палитр. Каждый из этих регистров
соответствует одной возможной комбинации из 4 входов
видеоплоскости в систему атрибутного контроллера.

    FUNCTION DIAGRAM:

                          Sec.Red              ┌───────────┐
                          ┌────────────────────┤           │
                          │ Sec.Green          │ Direct    │
                          │ ┌──────────────────┤           │
                          │ │ Sec.Blue         │ Drive     │
                          │ │ ┌────────────────┤           │
                          │ │ │ Red            │ Video     │
                          │ │ │ ┌──────────────┤           │
                          │ │ │ │ Green        │ Out       │
                          │ │ │ │ ┌────────────┤           │
                          │ │ │ │ │ Blue       │           │
                          │ │ │ │ │ ┌──────────┤           │
┌──────┐                  │ │ │ │ │ │          │           │
│      ├──┐ ┌────────────┬┴┬┴┬┴┬┴┬┴┬┴┬─┐       └───────────┘
│Video │  │ │        00h │1│0│0│1│0│1│ │
│Shift ├─┐└─┤ A0      ∙  └┬┴┬┴┬┴┬┴┬┴┬┘ │
│Regis-├┐└──┤ A1      ∙   │ │ │ │ │ │  │
│ter   │└───┤ A2      ∙  ┌┴┬┴┬┴┬┴┬┴┬┴┐ │
│      ├────┤ A3     /Fh │0│1│1│0│0│1│ │
│      │    │            └─┴─┴─┴─┴─┴─┘ │
└──────┘    └──────────────────────────┘
             Attributes Controller Palette

     Выход из палитры будет таким:

For A3-0 = 00h:ONS.Red            For A3-0 = OFh:OFFS.Red
           OOFS.Green                        ONS.Green
           OFFS.Blue                         ONS.Blue
           ONRed                             OFFRed
           OFFGreen                          OFFGreen
           ONBlue                            ONBlue
                      стр. 69

    MODE CONTROL:

┌───────────────────────────────────────────────────────────┐
│   INDEX = 10h Mode Control                                │
├───────────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                                    │
│        │ │ │ │ │ │ │ │                                    │
│        │ │ │ │ │ │ │ └──── Graphics/Alphanumeric Mode     │
│        │ │ │ │ │ │ └────── Display Type                   │
│        │ │ │ │ │ └──────── Enable line Graphics Character │
│        │ │ │ │ └────────── Select Background Intensity or │
│        └─┴─┴─┴──────────── Not Used                       │
└───────────────────────────────────────────────────────────┘

    GRAPHICS/ALPHANUMERIC MODE:
      D0
      0      Выбирает Alphanumeric mode
      1      Выбирает Graphics mode

    DISPLAY TYPE:
      D1
      0      Выбирает атрибуты цветного дисплея
      1      Выбирает атрибуты монохромного дисплея

    ENABLE LINE GRAPHICS CHARACTER CODES:
      D2
      0      Девятое горизонтальное положение бита
             отображаемой ячейки памяти символов имеет
             тот же цвет, что и фон.
      1      Девятое горизонтальное положение бита
             отображаемой ячейки памяти символов такое же,
             как восьмое положение бита, если отображаемый
             код символов находится между 0С0h и 0DFH. Эти
             коды имеются в специальном наборе линейного
             изображения IBM для монохромного адаптера.

    SELECT BACKGROUND INTENSITY OR ENABLE BLINK:
      D3
      0      Бит D7 атрибута символов используется для
             интенсивности фона.
      1      Бит D7 атрибута символов используется для
             мерцания. Этот бит также является logic 1 и
             разрешает мерцание в graphics modes.
             Мерцание в графическом режиме осуществляется
             путем инвертирования данных из Video Memory
             Plane 3 на 16 из каждых 32 кадров.
                   стр. 70

    OVER-SCAN COLOR:

┌──────────────────────────────────────────────────────┐
│   INDEX = 11h Over-Scan Color                        │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ │ │ │ │ └──── Blue                      │
│        │ │ │ │ │ │ └────── Green                     │
│        │ │ │ │ │ └──────── Red                       │
│        │ │ │ │ └────────── Secondary Blue            │
│        │ │ │ └──────────── Secondary Green/Intensity │
│        │ │ └────────────── Secondary Red             │
│        └─┴──────────────── Not Used                  │
└──────────────────────────────────────────────────────┘
Эти 6 битов используются для определения цвета по границе
CRT дисплея.

    COLOR PLANE ENABLE:

┌──────────────────────────────────────────────────────┐
│   INDEX = 12h Color Plane Enable                     │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ │ └─┴─┴─┴──── Enable Color Plane        │
│        │ │ └─┴──────────── Video Status MUX          │
│        └─┴──────────────── Not Used                  │
│                                                      │
└──────────────────────────────────────────────────────┘

    ENABLE COLOR PLANE
    D3 -  D0
    1         Данные соответствующей Video Memory plane
              (plane 3-0) применяются к палитре цветов.
    0         Выход палитры цветов соединяется с logic 0.

    VIDEO STATUS MUX:
      D5  D4    Эти биты выбирают 2 из 6 цветовых выхода для
                Status Port (см. порты 3BAh, 3DAh биты D5 и
                D4).
                   Status Port
                       D5               D4
      0   0           Red             Blue
      0   1          S.Red           S.Green
      1   0          S.Blue           Green
      1   1         Not Used         Not Used
                       стр. 71

    HORIZONTAL PICTURE ELEMENT PANNING:

┌──────────────────────────────────────────────────────┐
│   INDEX = 13h Horizontal Pel Panning                 │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ │ └─┴─┴─┴──── Horizontal Pel Panning    │
│        └─┴─┴─┴──────────── Not Used                  │
│                                                      │
└──────────────────────────────────────────────────────┘

    HORIZONTAL PEL PANNING
      D3 - D0    Этот регистр используется для горизонтальной
                 прокрутки. В 8 Pels на character modes этот
                 регистр обычно программируеися со значением
                 0. Отображаемое значение смещается влево
                 определенным числом точек растра,
                 определяемым с помощью этого регистра.
                 Максимально разрешается 7. В 9 точках на
                 character modes этот регистр обычно
                 программируется со значением 8.
                 Программирование значений 0-7 будет все
                 больше смещать изображение влево.
                      стр. 72

    HERCULES MODE:

    HERCULES REGISTERS:
Hercules Mode представляет собой разработку карты
стандартного монохромного видеопрадаптера IBM со специальными
расширениями, обеспечивающими высокое разрешение под контролем
программы.

Имеются несклько EGA mode регистров, которые можно
программировать перед переключением в Hercules Mode (см.
раздел Programming настоящей инструкции).

    НАИМЕНОВАНИЕ РЕГИСТРА: 6845 INDEX
    АДРЕС ПОРТА:           3B0,3B2,3B4 или 3B6h  Только запись

┌──────────────────────────────────────────────────────┐
│   6845 INDEX                                         │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ └─┴─┴─┴─┴──── 6845 Address              │
│        └─┴─┴────────────── Not Used                  │
│                                                      │
└──────────────────────────────────────────────────────┘

    6845 ADDRESS:
         D4 - D0      Двоичное значение, соответствующее
                      адресу нужного регистра данных в CRTC.

 D4  D3  D2  D1  D0  AC  HEX  REG.NAME
 0   0   0   0   0    W  00h  Horizontal Total
 0   0   0   0   1    W  01h  Horizontal Displayed
 0   0   0   1   0    W  02h  Horizontal Sync Position
 0   0   0   1   1    W  03h  Sync Width
 0   0   1   0   0    W  04h  Vertical Total
 0   0   1   0   1    W  05h  Vertical Total Adjust
 0   0   1   1   0    W  06h  Vertical Displayed
 0   0   1   1   1    W  07h  Vertical Sync Position
 0   1   0   0   0    W  08h  Interlace & Skew
 0   1   0   0   1    W  09h  Maximum Raster Address
 0   1   0   1   0    W  0Ah  Cursor Start Raster
 0   1   0   1   1    W  0Bh  Cursor End Raster
 0   1   1   0   0   R/W 0Ch  Start Address High
 0   1   1   0   1   R/W 0Dh  Start Address Low
 0   1   1   1   0   R/W 0Eh  Cursor Location High
 0   1   1   1   1   R/W 0Fh  Cursor Location Low
 1   0   0   0   0    R  10h  Light Pen High
 1   0   0   0   1    R  11h  Light Pen Low
                  стр. 73

    НАИМЕНОВАНИЕ РЕГИСТРА: 6845 DATA
    АДРЕС ПОРТА:           3B1, 3B3, 3B5 или 3B7h

┌──────────────────────────────────────────────────────┐
│   6845 DATA                                          │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        └─┴─┴─┴─┴─┴─┴─┴──── See 6845 description in   │
│                            this manual               │
└──────────────────────────────────────────────────────┘

Полное описание 6845 CRTC регистра приводится в Appendix A.

    НАИМЕНОВАНИЕ РЕГИСТРА: DISPLAY MODE CONTROL PORT
    АДРЕС ПОРТА:           3B8h   Только запись

┌──────────────────────────────────────────────────────┐
│   DISPLAY MODE CONTROL PORT                          │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ │ │ │ │ └──── Not Used                  │
│        │ │ │ │ │ │ └────── Text/Graphics Mode        │
│        │ │ │ │ │ └──────── Not Used                  │
│        │ │ │ │ └────────── Screen Blank              │
│        │ │ │ └──────────── Not Used                  │
│        │ │ └────────────── Text Blink                │
│        │ └──────────────── Not Used                  │
│        └────────────────── Video Page Select         │
└──────────────────────────────────────────────────────┘

    TEXT/GRAPHICS MODE:
      D1
      0        Hercules эмуляция установлена в character
               mode
      1        Hercules эмуляция установлена в графический
               режим. При входе в Hercules режим этот бит
               принимает значение по умолчанию logic 0 (см.
               также Configuration port 3BFh). Заметьте, что
               6845 CTRC должен программироваться при каждом
               изменении этого бита.

    SCREEN BLANK:
      D3
      0        На видеодисплее пробел, изображение
               отсутствует.
      1        Видеодисплей активен. На дисплее имеется
               изображение. При входе в Hercules mode этот
               бит по умолчанию принимает значение logic 0.
                        стр. 74

    TEXT BLINK:
      D5
      0        Text Blinking запрещено. Любые символы текста
               на дисплее, имеющие атрибутный комплект
               мерцания, не будут мерцать.
      1        Text Blinker разрешено. Любые символы текста
               на дисплее, имеющие атрибутный комплект
               мерцания будут мерцать.

При входе в Hercules режим этого бита по умолчанию принимает
значение logic 0.

    VIDEO PAGE SELECT:
      D7
      0        Выбирает Video Page 0 (B0000 - B7FFFh) в
               качестве активной шины дисплея.
      1        Выбирает Video Page 1 (B8000 - BFFFh) в
               качестве активной шины дисплея.

При входе в Hercules mode этот бит по умолчанию принимает
значение logic 0.

     НАИМЕНОВАНИЕ РЕГИСТРА: SET LIGHT PEN LATCH
     АДРЕС ПОРТА:           3B9h  Только запись.

Записывает в этот порт наборы фиксатора светового пера.Данные
процессора игнорируются.
                    стр. 75

     НАИМЕНОВАНИЕ РЕГИСТРА: DISPLAY STATUS PORT
     АДРЕС ПОРТА:           3BAh  Только чтение.

┌──────────────────────────────────────────────────────┐
│   DISPLAY STATUS PORT                                │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ │ │ │ │ └──── Display Status 1          │
│        │ │ │ │ │ │ └────── Light Pen Latch           │
│        │ │ │ │ │ └──────── Light Pen Switch          │
│        │ │ │ │ └────────── Display Status 2          │
│        │ │ │ └──────────── Not Used                  │
│        │ │ └────────────── Not Used                  │
│        │ └──────────────── Not Used                  │
│        └────────────────── Display Status 3          │
└──────────────────────────────────────────────────────┘

    DISPLAY STATUS 1:
      D0
      0        Видеодисплей активен.
      1        Horizontal или Vertical Sync активен.
               Видеодисплей временно пустой.

    LIGHT PEN LATCH:
      D1
      0         Фиксатор светового пера в состоянии нуля.
      1         Фиксатор светового пера включен.

    LIGHT PEN SWITCH:
      D2
      0         Переключатель светового пера закрыт.
      1         Переключатель светового пера открыт.

    DISPLAY STATUS 2:
      D3         Этот бит соединен с прямым выходом
                 видеодисплея.
      0         Указывает, что видеосигнал выключен.
      1         Указывает, что видеосигнал включен.

    DISPLAY STATUS 3:
      D7
      0        Vertical Retrace активен. Видеодисплей
               временно пуст.
      1        Видеодисплей активен.
                        стр. 76

    НАИМЕНОВАНИЕ РЕГИСТРА: LIGHT PEN CLEAR
    АДРЕС ПОРТА:           3BBh  Только запись.

Запись в этот порт сбрасывает фиксатор светового пера. Данные
процессора игнорируются.

    НАИМЕНОВАНИЕ РЕГИСТРА: CONFIGURATION
    АДРЕС ПОРТА:           3BFh  Только запись.

┌──────────────────────────────────────────────────────┐
│   CONFIGURATION                                      │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ │ │ │ │ └──── Graphics Mode Control     │
│        │ │ │ │ │ │ └────── Memory Map Control        │
│        └─┴─┴─┴─┴─┴──────── Not Used                  │
└──────────────────────────────────────────────────────┘

    GRAPHICS MODE CONTROL:
      D0
      0         Этот бит захватывает разрешение
                графического режима. Бит контроля режима
                Text/Graphics порта контроля режима дисплея
                не может быть установлен в графический
                режим.

При входе в Hercules mode этот бит по умолчанию принимает
значение logic 0.

    MEMORY MAP CONTROL:
      D1
      0         Запрещает процесс Video Page Select, бит D7
                порта контроля режима дисплея.
      1         Разрешает процесс Video Page Select, бит D7
                порта контроля режима дисплея, и запрещает
                доступ в Video Memory Plane 1 (B8000 -
                BFFFFh).

При входе в Hercules режим этот бит по умолчанию
принимает значение logic 0.
                       стр. 77

    CGA MODE:

    CGA REGISTERS:

    НАИМЕНОВАНИЕ РЕГИСТРА: 6845 INDEX
    АДРЕС ПОРТА:           3D0, 3D2, 3D4 или 3D6h  Чтение
                           Запись

┌──────────────────────────────────────────────────────┐
│   CTRC ADDRESS INDEX                                 │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ └─┴─┴─┴─┴──── CTRC Address              │
│        └─┴─┴────────────── Not Used                  │
│                                                      │
└──────────────────────────────────────────────────────┘

    CTRC ADDRESS:
     D4 - D0        Двоичное значение, соответствующее адресу
                    нужного регистра данных в CTRC.

 D4  D3  D2  D1  D0  AC  HEX  REG.NAME
 0   0   0   0   0    W  00h  Horizontal Total
 0   0   0   0   1    W  01h  Horizontal Displayed
 0   0   0   1   0    W  02h  Horizontal Sync Position
 0   0   0   1   1    W  03h  Sync Width
 0   0   1   0   0    W  04h  Vertical Total
 0   0   1   0   1    W  05h  Vertical Total Adjust
 0   0   1   1   0    W  06h  Vertical Displayed
 0   0   1   1   1    W  07h  Vertical Sync Position
 0   1   0   0   0    W  08h  Interlace & Skew
 0   1   0   0   1    W  09h  Maximum Raster Address
 0   1   0   1   0    W  0Ah  Cursor Start Raster
 0   1   0   1   1    W  0Bh  Cursor End Raster
 0   1   1   0   0   R/W 0Ch  Start Address High
 0   1   1   0   1   R/W 0Dh  Start Address Low
 0   1   1   1   0   R/W 0Eh  Cursor Location High
 0   1   1   1   1   R/W 0Fh  Cursor Location Low
 1   0   0   0   0    R  10h  Light Pen High
 1   0   0   0   1    R  11h  Light Pen Low

    НАИМЕНОВАНИЕ РЕГИСТРА: 6845 DATA
    АДРЕС ПОРТА:           3D1,3D3,3D5, or 3D7h Read Write

┌──────────────────────────────────────────────────────┐
│   CRTC DATA                                          │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        └─┴─┴─┴─┴─┴─┴─┴──── See 6845 description in   │
│                            this manual               │
└──────────────────────────────────────────────────────┘
                       стр. 78
    НАИМЕНОВАНИЕ РЕГИСТРА: MODE CONTROL REGISTER
    АДРЕС ПОРТА:           3D8h  Только запись.

┌──────────────────────────────────────────────────────┐
│   MODE CONTROL REGISTER                              │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ │ │ │ │ └──── Alphanumeric resolution   │
│        │ │ │ │ │ │ └────── Graphics Select           │
│        │ │ │ │ │ └──────── Black/White Select        │
│        │ │ │ │ └────────── Enable Video              │
│        │ │ │ └──────────── Graphics Resolution       │
│        │ │ └────────────── Secondary Red             │
│        └─┴──────────────── Not Used                  │
└──────────────────────────────────────────────────────┘

    ALPHANUMERIC RESOLUTION:
      D0
      0        Выбирает 40 * 25 alphanumeric mode
      1        Выбрает графический режим дисплея.

    GRAPHICS SELECT:
      D1
      0        Выбирает alphanumeric display mode.
      1        Выбирает графический режим дисплея.

    BLACK/WHITE SELECT:
      D2
      0        Выбирает color mode.
      1        Выбирает black/white mode.

    ENABLE VIDEO:
      D3
      0        Запрещает выход видеосигнала. Этот сигнал
               может быть отменен битом 0 порта Mode
               Select.
      1        Разрешает выход видеосигнала.

    GRAPHICS RESOLUTION:
      D4
      0       Устанавливает разрешающую способность
              дисплея в графический режим до 320 * 200.
      1       Устанавливает разрешающую способность
              дисплея в графический режим до 640 * 200.
              Цвет дисплея определяется  портом Color
              Select.

    BACKGROUND INTENSITY
      D5
      0       Выбирает интенсифицированный цвет фона.
      1       Выбирает параметр мерцания в alphanumeric
              mode.
                    стр. 79

    НАИМЕНОВАНИЕ РЕГИСТРА: COLOR SELECT REGISTER
    АДРЕС ПОРТА:  3D9h  Только запись.

┌──────────────────────────────────────────────────────┐
│   COLOR SELECT REGISTER                              │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ │ └─┴─┴─┴──── Color bits                │
│        │ │ │ └──────────── Palette                   │
│        │ │ └────────────── Color Set                 │
│        └─┴──────────────── Not Used                  │
└──────────────────────────────────────────────────────┘

    COLOR BITS:
Биты 0-3 выбирают цвет на границах экрана в alphanumeric
mode. В графическом режиме 320 * 200 эти биты выбирают цвет
фона на экране. В режиме 640 * 200 эти биты выбирают цвет
растра.

┌──────┬──────┬──────┬──────┬───────────────────────────┐
│  D3  │  D2  │  D1  │  D0  │                           │
├──────┼──────┼──────┼──────┼───────────────────────────┤
│  0   │  0   │  0   │  1   │ Blue On                   │
├──────┼──────┼──────┼──────┼───────────────────────────┤
│  0   │  0   │  1   │  0   │ Green On                  │
├──────┼──────┼──────┼──────┼───────────────────────────┤
│  0   │  1   │  0   │  0   │ Red On                    │
├──────┼──────┼──────┼──────┼───────────────────────────┤
│  1   │  0   │  0   │  0   │ Intensity On              │
└──────┴──────┴──────┴──────┴───────────────────────────┘
1 = On     0 = Off

    PALETTE:
      D4
      0       Используются нормальные цвета.
      1       Этот бит выбирает альтернативный набор
              интенсифицированных цветов фона, если
              установлен бит 5 порта Mode Control.
                        стр. 80

    COLOR SET:
┌──────┬──────┬──────┬─────────────────────────────────┐
│  D5  │  C1  │  C0  │       Set Selected              │
├──────┼──────┼──────┼─────────────────────────────────┤
│  0   │  0   │  0   │ Background selected by port 3D9h│
│  0   │  0   │  1   │ Cyan                            │
│  0   │  1   │  0   │ Magenta                         │
│  0   │  1   │  1   │ White                           │
│  1   │  0   │  0   │ Background selected by port 3D9h│
│  1   │  0   │  1   │ Green                           │
│  1   │  1   │  0   │ Red                             │
│  1   │  1   │  1   │ Brown                           │
└──────┴──────┴──────┴─────────────────────────────────┘

Этот бит используется только в графическом режиме 320 * 200.

    НАИМЕНОВАНИЕ РЕГИСТРА: AUXILIARY MODE SELECT
    АДРЕС ПОРТА:           3DAh  Только запись.

┌──────────────────────────────────────────────────────┐
│   AUXILIARY MODE SELECT PORT                         │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ │ │ │ │ └──── Enable Override           │
│        │ │ │ │ │ └─┴────── Font Select               │
│        │ │ │ │ └────────── Not Used                  │
│        │ │ │ └──────────── Driver Enable             │
│        │ │ └────────────── Fast Scroll               │
│        └─┴──────────────── Text Page Select          │
└──────────────────────────────────────────────────────┘
    ENABLE OVERRIDE:
      D0       Эта функция отмены служит для исключения
               нежелательного мерцания дисплея монитора,
               которое может наблюдаться при коррекции
               дисплея в текстовом режиме.
      0        Разрешает нормальную работу бита 3 в Mode
               Control.
      1        Отменяет бит 3 в режиме Mode Control.

    FONT SELECT:
Функции выбора шрифта битов D2 и D1 описаны в таблице,
приводимой ниже.
┌──────┬──────┬─────────────────────────────────────────┐
│  *   │  D1  │  Character Generator                    │
├──────┼──────┼─────────────────────────────────────────┤
│  0   │  0   │  1st 8k of Plane 2                      │
│  0   │  1   │  3rd 8k of Plane 2                      │
│  1   │  0   │  5th 8k of Plane 2                      │
│  1   │  1   │  7th 8k of Plane 2                      │
└──────┴──────┴─────────────────────────────────────────┘
     Примечание: *  Logical AND атрибутных битов.
                          стр. 81

Генератор символов в режиме CGA Multi Function. Video
Controller базируется не ROM, как в системе CGA, а на RAM.
Нужный шрифт прежде, чем ввести в режим CGA, нужно
предварительно загрузить в EGA Video Memory Plane 2. (см.
Appendix B, где приводятся подробности, необходимые при
программировании).

    DRIVER ENABLE:
      D4
      0        Внутреннее video.
      1        Запрещает video drivers.

    FAST SCROLL
      D5
      0        Нормальное прокручивание в текстовом
               режиме.
      1        Разрешает быструю прокрутку с помощью
               программных средств только в режиме 80
               колонок * 25 линий.

    TEXT PAGE SELECT:
      D7  D6     Когда бит 5 (быстрая прокрутка) имеет
                 высокий уровень, то при CRT чтении из
                 видеопамяти эти биты замещают биты 12 и 11
                 счетчика адресов CRTC памяти. Эти биты
                 выбирают один из 4, 4K байт текстовых
                 страниц (2048 знаков).
      D7  D6     Прокручиваемая страница.
      0   0      1-я страница.
      0   1      2-я страница.
      1   0      3-я страница.
      1   1      4-я страница.

    НАИМЕНОВАНИЕ РЕГИСТРА: STATUS REGISTER
    АДРЕС ПОРТА:           3DAh  Только чтение.

┌──────────────────────────────────────────────────────┐
│   STATUS REGISTER                                    │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ │ │ │ │ └──── Retrace                   │
│        │ │ │ │ │ └─┴────── Light Pen                 │
│        │ │ │ │ └────────── Vertical Retrace          │
│        │ │ └─┴──────────── Font Number               │
│        └─┴──────────────── Not Used                  │
└──────────────────────────────────────────────────────┘
                          стр. 82

    RETRACE:
         D0
          0        Видео дисплей активен.
          1        Horizontal or Vertical Sync активны.
                   Видеодисплей временно пуст.

    LIGHT PEN:
         D1
          0        Фиксатор светового пера отключен.
          1        Фиксатор светового пера включен.
         D2
          0        Переключатель светового пера замкнут.
          1        Переключатель светового пера разомкнут.

    VERTICAL RETRACE:
         D3
          0        Видеодисплей активен.
          1        Vertical Retrace активен. Видеодисплей
                   временно пуст.

    FONT NUMBER:
       D5  D4      Эти два бита являются текущими битами MSB и
                   LSB порта Mode Select (3DAh). Кодирование
                   битов производится следующим образом:

┌──────┬──────┬─────────────────────────────────────────┐
│  D5  │  D4  │  Character Generator Location           │
├──────┼──────┼─────────────────────────────────────────┤
│  0   │  0   │  1st 8k of Plane 2                      │
│  0   │  1   │  3rd 8k of Plane 2                      │
│  1   │  0   │  5th 8k of Plane 2                      │
│  1   │  1   │  7th 8k of Plane 2                      │
└──────┴──────┴─────────────────────────────────────────┘

    НАИМЕНОВАНИЕ РЕГИСТРА: LIGHT PEN CLEAR
    АДРЕС ПОРТА:           3DBh  Чтение запись.

Доступ в этот порт отключает фиксатор светового пера. Данные
процессора игнорируются.

    НАИМЕНОВАНИЕ РЕГИСТРА: SET LIGHT PEN LATCH
    АДРЕС ПОРТА:           3DCh   Чтение  Запись

Доступ в этот порт устанавливает фиксатор светового пера.
Данные процессора игнорируются .
                          стр. 83

    MEMORY MAP:

    EGA Mode:
Управление видеопамятью в адрес процессора зависит от
режима работы. Регистр Graphics Controller Miscellaneous
использует для выбора диапазона видеопамяти.

    A0000 -- BFFFFh  Еnhanced Modes
    A0000 -- AFFFFh  Hercules Compatible and Enhanced Modes
    B0000 -- B7000h  Monochrome Card Compatible Modes
    B8000 -- BFFFFh  Color Card Compatible Modes

ROM BIOS по размеру может быть байтом 16К или 32К и
отображается следующим образом:

    C0000 - C3FFFh  Расширенный BIOS запрещен
    С0000 - С7FFFh  Pасширенный BIOS разрешен

    HERCULES MODE:
Управление видеопамятью в пространство адреса процессора
зависит от режима работы. Биты Video Page Select порта Display
Mode Control используются для выбора нужного диапазона.

    B0000 -- B7FFFh  Monochrome Mode
    B8000 -- BFFFFh  Graphics Mode

Область ROM BIOS для Hercules Mode идентична области EGA
Mode контроллера Multi Function Video.

    CGA MODE:
Управление видеопамятью в пространство адреса процессора
в этом режиме непрерывно.

    B0000 - B7FFFh  Monochrome Mode
    B8000 - BFFFFh  Graphics Mode

ROM BIOS область CGA Mode идентична области EGA Mode
контроллера Multi Function Video.

    CGA MODE:
Управление видеозаписью в пространство адреса процессора
непрерывно в этом режиме.

     B8000 - BFFFh

Область ROM BIOS для CGA режима идентична области EGA
Mode контроллера Multi Function Video.
                     стр.(A-1)

              A P P E N D I X   A

6845S CRT CONTROLLER

              Замечания о синхронизации:
Когда Master Control Port программируется с целью выбора
режима, требующего использования 6845S CRT Controller, то все
CRTC регистры сохраняют первоначально запрограммированные
значения. Некоторые CRTC регистры выполняют различные функции
и control timing signals в каждом режиме по-разному. Поэтому
все CTRC регистры должны программироваться для каждого режима
с соответствующими значениями. После сброса все 6845S CRTC
регистры, за исключением 400-линейного регистра, сохраняют
свои первоначальные значения.

    НАИМЕНОВАНИЕ РЕГИСТРА: CTRC Address Index
    ДОСТУП:                Только запись
    АДРЕС ПОРТА:           Обращайтесь к CGA или Hercules CRTC

┌──────────────────────────────────────────────────────┐
│   CTRC ADDRESS INDEX                                 │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ └─┴─┴─┴─┴──── CTRC Address              │
│        └─┴─┴────────────── Not Used                  │
└──────────────────────────────────────────────────────┘

    CRTC ADDRESS:
       D4-D0     Двоичное значение, соответствующее адресу
                 нужного регистра данных в CRTC.

 D4  D3  D2  D1  D0  ДОСТУП  HEX  REG.NAME
 0   0   0   0   0     W     00h  Horizontal Total
 0   0   0   0   1     W     01h  Horizontal Displayed
 0   0   0   1   0     W     02h  Horizontal Sync Position
 0   0   0   1   1     W     03h  Sync Width
 0   0   1   0   0     W     04h  Vertical Total
 0   0   1   0   1     W     05h  Vertical Total Adjust
 0   0   1   1   0     W     06h  Vertical Displayed
 0   0   1   1   1     W     07h  Vertical Sync Position
 0   1   0   0   0     W     08h  Interlace & Skew
 0   1   0   0   1     W     09h  Maximum Raster Address
 0   1   0   1   0     W     0Ah  Cursor Start Ruster
 0   1   0   1   1     W     0Bh  Cursor End Ruster
 0   1   1   0   0    R/W    0Ch  Start Address High
 0   1   1   0   1    R/W    0Dh  Start Address Low
 0   1   1   1   0    R/W    0Eh  Cursor Location High
 0   1   1   1   1    R/W    0Fh  Cursor Location Low
 1   0   0   0   0     R     10h  Light Pen High
 1   0   0   0   1     R     11h  Light Pen Low
 1   0   1   0   0     W     14h  Underline Location
                       W     F9h  400 Line Register
                    стр.(A-2)

    НАИМЕНОВАНИЕ РЕГИСТРА: Horizontal Total
    ДОСТУП:                Только запись.
    ИНДЕКС ПОРТА:          00h

┌──────────────────────────────────────────────────────┐
│   INDEX = 00h HORIZONTAL TOTAL                       │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        └─┴─┴─┴─┴─┴─┴─┴──── HORIZONTAL COUNT          │
└──────────────────────────────────────────────────────┘

Значение, запрограммированное в этом регистре,
определяет точку строчной линии развертки. Это можно выразить
следующим образом:
                   Th =(RO + 1) * Tc
     Th - точка горизонтальной строки развертки;
     Tc - точка ввода Character Clock;
     RO - содержание CRTC регистра 0h.

    НАИМЕНОВАНИЕ РЕГИСТРА:  HORIZONTAL DISPLAYED
    ДОСТУП:                 Только запись.
    ИНДЕКС ПОРТА:           01h

┌──────────────────────────────────────────────────────┐
│   INDEX = 01h HORIZONTAL DISPLAYED                   │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        └─┴─┴─┴─┴─┴─┴─┴──── HORIZONTAL DISPLAYED      │
└──────────────────────────────────────────────────────┘

Этот регистр определяет число символов, которые нужно
отобразить на экране в горизонтальной линии. Это значение
должно быть меньше значения, запрограммированного в Horizontal
Total регистра.

    НАИМЕНОВАНИЕ РЕГИСТРА:  HORIZONTAL SYNC POSITION
    ДОСТУП:                 Только запись
    ИНДЕКС ПОРТА:           02h

┌──────────────────────────────────────────────────────┐
│   INDEX = 02h HORIZONTAL SYNC POSITION               │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        └─┴─┴─┴─┴─┴─┴─┴──── HORIZONTAL SYNC POZITION  │
└──────────────────────────────────────────────────────┘

Этот регистр определяет горизонтальное sync положение.
Горизонтальный синхронизирующий сигнал повышения во время
R2 * Tc после начала горизонтальной линии. Любое значение,
которое меньше значения в Horizontal Total регистре,
допустимо.
                   стр.(A-3)

     НАИМЕНОВАНИЕ РЕГИСТРА:  SYNC WIDTH
     ДОСТУП:                 Только запись.
     ИНДЕКС ПОРТА:           03h

┌──────────────────────────────────────────────────────┐
│   INDEX = 03h SYNC WIDTH                             │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ │ └─┴─┴─┴──── HORIZONTAL SYNC WIDTH     │
│        └─┴─┴─┴──────────── VERTICAL SYNC WIDTH       │
│                                                      │
└──────────────────────────────────────────────────────┘

Этот регистр контролирует длительность активной(высокой)
порции Горизонтального и Вертикального синхр.сигналов.

Horizontal Sync. активен для (R3 и 0Fh) точек character
clock. Когда низкие 4 бита R3 являются все 0, то
горизонтальный синхр. сигнал всегда является 0. Так как
Vertical timing Sections 6845S замыкаются этим сигналом, они
всегда остаются в неизмененном состоянии, когда R3
программируется таким образом.

Ширина вертикального sync. программируется аналогичным
образом, за исключением того, что синхронизирующей единицей
[unit], применяющейся для этого, является точка горизонтальной
линии. То же самое, когда высокий полубайт установлен на 0,
ширина вертикального синхр. сигнала равна 16 горизонтальным
линиям, а не 0.

        Tvsh = Th * ((R3 AND F0h)/16)

     Где Tvsh = точка активной порции (высокой) вертикального
                синхр.сигнала;
         Th   = точка горизонтальной линии.

     НАИМЕНОВАНИЕ РЕГИСТРА:  VERTICAL TOTAL
     ДОСТУП:                 Только запись.
     ИНДЕКС ПОРТА:           04h

┌──────────────────────────────────────────────────────┐
│   INDEX = 04h VERTICAL TOTAL                         │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ └─┴─┴─┴─┴─┴─┴──── VERTICAL TOTAL            │
│        └────────────────── Not Used                  │
└──────────────────────────────────────────────────────┘
                    стр.(A-4)

Регистр Vertical Total грубую вертикальную синхронизацию
CRTC. Вертикальную точку можно выразить следующим образом:

            Tv = (R4 + 1) * Tr + (R5) * Th

     Где Tv = точка строки;
         Tr = точка ряда(обычно (R9 + 1) * Th);
         Th = точка строки;
         R5 = содержимое Vertical Total Adjust регистра, R5.

    НАИМЕНОВАНИЕ РЕГИСТРА:  VERTICAL TOTAL ADJUST
    ДОСТУП:                 Только запись.
    ИНДЕКС ПОРТА:           05h

┌──────────────────────────────────────────────────────┐
│   INDEX = 05h VERTICAL TOTAL ADJUST                  │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ └─┴─┴─┴─┴──── VERTICAL TOTAL ADJUST     │
│        └─┴─┴────────────── Not Used                  │
└──────────────────────────────────────────────────────┘

Этот регистр используется для коррекции [adjust]
вертикального кадра до разрешающей способности точки
горизонтальной линии.

    НАИМЕНОВАНИЕ РЕГИСТРА:  VERTICAL DISPLAYED
    ДОСТУП:                 Только запись.
    ИНДЕКС ПОРТА:           06h

┌──────────────────────────────────────────────────────┐
│   INDEX = 06h VERTICAL DISPLAYED                     │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ └─┴─┴─┴─┴─┴─┴──── VERTICAL DISPLAED         │
│        └────────────────── Not Used                  │
└──────────────────────────────────────────────────────┘

Этот регистр используется для программирования числа
рядов отображаемых символов в генерирующемся вертикальном
кадре. Может быть использовано любое значение, которое меньше
запрограммированного в Vertical Total регистра числа.
                    стр.(A-5)

     НАИМЕНОВАНИЕ РЕГИСТРА:  VERTICAL SYNC POSITION
     ДОСТУП:                 Только запись.
     ИНДЕКС ПОРТА:           07h

┌──────────────────────────────────────────────────────┐
│   INDEX = 07h VERTICAL SYNC POSITION                 │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ └─┴─┴─┴─┴─┴─┴──── VERTICAL SYNC POSITION    │
│        └────────────────── Not Used                  │
└──────────────────────────────────────────────────────┘

Этот регистр устанавливает положение возрастающей кромки
Vertical sync сигнала в единицах рядов знаков (Tr).
Вертикальный синхр. сигнал возрастает во время (R7 + 1) * Tr
после начала Vertical cycle.

     НАИМЕНОВАНИЕ РЕГИСТРА:  INTERLACE AND SKEW
     ДОСТУП:                 Только запись.
     ИНДЕКС ПОРТА:           08h

┌──────────────────────────────────────────────────────┐
│   INTERLACE & SKEW                                   │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ │ │ │ └─┴──── INTERLACE                 │
│        │ │ │ │ └─┴──────── Not Used                  │
│        │ │ └─┴──────────── DISPLAY ENABLE            │
│        └─┴──────────────── CURSOR ENABLE             │
└──────────────────────────────────────────────────────┘

    INTERLACE MODE:
      D1    D0
      X     0        Не генерируется
      0     1        Interlace sync mode [режим синхронизации
                                        чередования]
      1     1        Interlace sync and video mode

    DISPLAY ENABLE:
      D5    D4
      0     0        Без перекоса
      0     1        Перекос одного знака
      1     0        Перекос двух знаков
      1     1        Не выход
                     стр.(A-6)
    CURSOR ENABLE
      D7    D6
      0     0        Без переноса
      0     1        Перенос одного знака
      1     0        Перенос двух знаков
      1     1        Нет выхода (сигнал курсора на 0)

     НАИМЕНОВАНИЕ РЕГИСТРА:  MAXIMUM RASTER ADDRESS
     ДОСТУП:                 Только запись.
     ИНДЕКС ПОРТА:           09h

┌──────────────────────────────────────────────────────┐
│   INDEX = 09h MAXIMUM RASTER ADDRESS                 │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ └─┴─┴─┴─┴──── MAXIMUM RASTER ADDRESS    │
│        └─┴─┴────────────── Not Used                  │
└──────────────────────────────────────────────────────┘

За исключением случая, когда 6845S CRTC в режиме interlace
sync и video, число горизонтальных линий сканировантя до
какого-либо знака, Nc, будет равно содержимому R9 + 1 или
Nc = R9 + 1.

Если CTTRC в режиме interlace sync и video mode, то
единственное выражение становится  Nc = R9 + 2, а линии
сканирования в ряду знаков генерируются в двух Vertical frames
вместо одного.

    НАИМЕНОВАНИЕ РЕГИСТРА:  CURSOR START RASTER
    ДОСТУП:                 Только запись
    ИНДЕКС ПОРТА:           0Ah

┌──────────────────────────────────────────────────────┐
│   INDEX = 0Ah CURSOR START RASTER                    │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ └─┴─┴─┴─┴──── CURSOR RASTER START ADDRESS
│        │ └─┴────────────── CURSOR DISPLAY MODE       │
│        └────────────────── Not Used                  │
└──────────────────────────────────────────────────────┘

    CURSOR RASTER START ADDRESS:
      D4    D0        Устанавливает линию сканирования курсора
                      в начале [операции] курсора.
                     стр. (A-7)

    CURSOR DISPLAY MODE:
      D6    D5
      0     0        Без мигания.
      0     1        Курсор не отображает.
      1     0        Мигание 16 точек поля.
      1     1        Мигание 32 точек поля.

    НАИМЕНОВАНИЕ РЕГИСТРА:  CURSOR END
    ДОСТУП:                 Только запись.
    ИНДЕКС ПОРТА:           0Bh

┌──────────────────────────────────────────────────────┐
│   INDEX = 0Bh CURSOR END                             │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ └─┴─┴─┴─┴──── CURSOR END                │
│        └─┴─┴────────────── Not Used                  │
└──────────────────────────────────────────────────────┘

Регистр конец курсора устанавливает линию сканирования
знака там, где курсор останавливается.

    НАИМЕНОВАНИЕ РЕГИСТРА:  START ADDRESS HIGH
    ДОСТУП:                 READ/WRITE
    ИНДЕКС ПОРТА:           0Ch

┌──────────────────────────────────────────────────────┐
│   INDEX = 0Ch START ADDRESS HIGH                     │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ └─┴─┴─┴─┴──── START ADDRESS HIGH        │
│        └─┴─┴────────────── Not Used                  │
└──────────────────────────────────────────────────────┘

    НАИМЕНОВАНИЕ РЕГИСТРА:  START ADDRESS LOW
    ДОСТУП:                 READ/WRITE
    ИНДЕКС ПОРТА:           0Dh

┌──────────────────────────────────────────────────────┐
│   INDEX = 0Dh START ADDRESS LOW                      │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        └─┴─┴─┴─┴─┴─┴─┴──── START ADDRESS LOW         │
└──────────────────────────────────────────────────────┘


                     стр. (A-8)

    НАИМЕНОВАНИЕ РЕГИСТРА:  CURSOR LOCATION HIGH
    ДОСТУП:                 READ/WRITE
    ИНДЕКС ПОРТА:           0Eh

┌──────────────────────────────────────────────────────┐
│   INDEX = 0Eh CURSOR LOCATION HIGH                   │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ └─┴─┴─┴─┴─┴──── CURSOR LOCATION HIGH      │
│        └─┴──────────────── Not Used                  │
└──────────────────────────────────────────────────────┘

    НАИМЕНОВАНИЕ РЕГИСТРА:  CURSOR LOCATION LOW
    ДОСТУП:                 READ/WRITE
    ИНДЕКС ПОРТА:           0Fh

┌──────────────────────────────────────────────────────┐
│   INDEX = 0Fh CURSOR LOCATION LOW                    │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        └─┴─┴─┴─┴─┴─┴─┴──── CURSOR LOCATION LOW       │
└──────────────────────────────────────────────────────┘

    НАИМЕНОВАНИЕ РЕГИСТРА:  LIGHT PEN HIGH
    ДОСТУП:                 READ ONLY
    ИНДЕКС ПОРТА:           10h

┌──────────────────────────────────────────────────────┐
│   LIGHT PEN HIGH                                     │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ └─┴─┴─┴─┴─┴──── LIGHT PEN HIGH            │
│        └─┴──────────────── Not Used                  │
└──────────────────────────────────────────────────────┘


                     стр. (A-9)

    НАИМЕНОВАНИЕ РЕГИСТРА:  LIGHT PEN LOW
    ДОСТУП:                 READ ONLY
    ИНДЕКС ПОРТА:           11h

┌──────────────────────────────────────────────────────┐
│   INDEX = 11h LIGHT PEN LOW                          │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        └─┴─┴─┴─┴─┴─┴─┴──── LIGHT PEN LOW             │
└──────────────────────────────────────────────────────┘

    НАИМЕНОВАНИЕ РЕГИСТРА:  UNDERLINE LOCATION
    ДОСТУП:                 WRITE ONLY
    ИНДЕКС ПОРТА:           14h

┌──────────────────────────────────────────────────────┐
│   INDEX = 14h UNDERLINE LOCATION                     │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ └─┴─┴─┴─┴──── UNDERLINE LOCATION        │
│        └─┴─┴────────────── Not Used                  │
└──────────────────────────────────────────────────────┘

    UNDERLINE LOCATION:
       D4-D0


                     стр. (A-10)

    НАИМЕНОВАНИЕ РЕГИСТРА:  400 LINE
    ДОСТУП:                 WRITE ONLY
    ИНДЕКС ПОРТА:           F9h

┌──────────────────────────────────────────────────────┐
│   INDEX = F9h 400 LINE REGISTER                      │
├──────────────────────────────────────────────────────┤
│    BIT 7 6 5 4 3 2 1 0                               │
│        │ │ │ │ │ │ │ │                               │
│        │ │ │ │ │ │ │ └──── Row Divide                │
│        │ │ │ │ │ │ └────── Vertical Divide           │
│        │ └─┴─┴─┴─┴──────── Not Used                  │
│        └────────────────── Auto Reset Enable         │
└──────────────────────────────────────────────────────┘




















